
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Object - Ruby 2.3 - W3cubDocs</title>
  
  <meta name="description" content=" frozen_string_literal&#58; false ">
  <meta name="keywords" content="class, object, mathn, -, ruby, ruby~2.3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ruby~2.3/object/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/ruby~2.3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~2.3/" class="_nav-link" title="" style="margin-left:0;">Ruby 2.3</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _rdoc">
				
<h1 id="class-Object" class="class"> class Object </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../basicobject/">BasicObject</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes">
<span class="include">MakeMakefile</span>, <a class="include" href="../kernel/">Kernel</a>
</dd>
</dl> <section class="description"> <p>frozen_string_literal: false</p> <p><a href="../object/">Object</a> is the default root of all Ruby objects. <a href="../object/">Object</a> inherits from <a href="../basicobject/">BasicObject</a> which allows creating alternate object hierarchies. Methods on <a href="../object/">Object</a> are available to all classes unless explicitly overridden.</p> <p><a href="../object/">Object</a> mixes in the <a href="../kernel/">Kernel</a> module, making the built-in kernel functions globally accessible. Although the instance methods of <a href="../object/">Object</a> are defined by the <a href="../kernel/">Kernel</a> module, we have chosen to document them here for clarity.</p> <p>When referencing constants in classes inheriting from <a href="../object/">Object</a> you do not need to use the full namespace. For example, referencing <code>File</code> inside <code>YourClass</code> will find the top-level <a href="../file/">File</a> class.</p> <p>In the descriptions of Object's methods, the parameter <em>symbol</em> refers to a symbol, which is either a quoted string or a <a href="../symbol/">Symbol</a> (such as <code>:name</code>).</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="ARGF">ARGF </dt>
<dd>
<p><a href="../object/#ARGF">ARGF</a> is a stream designed for use in scripts that process files given as command-line arguments or passed in via <a href="../object/#STDIN">STDIN</a>.</p> <p>See <a href="../object/#ARGF">ARGF</a> (the class) for more details.</p> </dd>
<dt id="ARGV">ARGV </dt>
<dd>
<p><a href="../object/#ARGV">ARGV</a> contains the command line arguments used to run ruby.</p> <p>A library like <a href="../optionparser/">OptionParser</a> can be used to process command-line arguments.</p> </dd>
<dt id="DATA">DATA </dt>
<dd>
<p><a href="../object/#DATA">DATA</a> is a <a href="../file/">File</a> that contains the data section of the executed file. To create a data section use <code>__END__</code>:</p> <pre>$ cat t.rb
puts DATA.gets
__END__
hello world!

$ ruby t.rb
hello world!</pre> </dd>
<dt id="ENV">ENV </dt>
<dd>
<p><a href="../env/">ENV</a> is a Hash-like accessor for environment variables.</p> <p>See <a href="../env/">ENV</a> (the class) for more details.</p> </dd>
<dt id="FALSE">FALSE </dt>
<dd>
<p>An alias of <code>false</code></p> </dd>
<dt id="NIL">NIL </dt>
<dd>
<p>An alias of <code>nil</code></p> </dd>
<dt id="OptParse">OptParse </dt>
<dd>
<h2 id="label-OptionParser"><a href="../optionparser/">OptionParser</a></h2> <h3 id="label-Introduction">Introduction</h3> <p><a href="../optionparser/">OptionParser</a> is a class for command-line option analysis. It is much more advanced, yet also easier to use, than <a href="../getoptlong/">GetoptLong</a>, and is a more Ruby-oriented solution.</p> <h3 id="label-Features">Features</h3> <ol>
<li> <p>The argument specification and the code to handle it are written in the same place.</p> </li>
<li> <p>It can output an option summary; you don't need to maintain this string separately.</p> </li>
<li> <p>Optional and mandatory arguments are specified very gracefully.</p> </li>
<li> <p>Arguments can be automatically converted to a specified class.</p> </li>
<li> <p>Arguments can be restricted to a certain set.</p> </li>
</ol> <p>All of these features are demonstrated in the examples below. See make_switch for full documentation.</p> <h3 id="label-Minimal+example">Minimal example</h3> <pre class="ruby" data-language="ruby">require 'optparse'

options = {}
OptionParser.new do |opts|
  opts.banner = "Usage: example.rb [options]"

  opts.on("-v", "--[no-]verbose", "Run verbosely") do |v|
    options[:verbose] = v
  end
end.parse!

p options
p ARGV
</pre> <h3 id="label-Generating+Help">Generating Help</h3> <p><a href="../optionparser/">OptionParser</a> can be used to automatically generate help for the commands you write:</p> <pre class="ruby" data-language="ruby">require 'optparse'

Options = Struct.new(:name)

class Parser
  def self.parse(options)
    args = Options.new("world")

    opt_parser = OptionParser.new do |opts|
      opts.banner = "Usage: example.rb [options]"

      opts.on("-nNAME", "--name=NAME", "Name to say hello to") do |n|
        args.name = n
      end

      opts.on("-h", "--help", "Prints this help") do
        puts opts
        exit
      end
    end

    opt_parser.parse!(options)
    return args
  end
end
options = Parser.parse %w[--help]

#=&gt;
   # Usage: example.rb [options]
   #     -n, --name=NAME                  Name to say hello to
   #     -h, --help                       Prints this help
</pre> <h3 id="label-Required+Arguments">Required Arguments</h3> <p>For options that require an argument, option specification strings may include an option name in all caps. If an option is used without the required argument, an exception will be raised.</p> <pre class="ruby" data-language="ruby">require 'optparse'

options = {}
OptionParser.new do |parser|
  parser.on("-r", "--require LIBRARY",
            "Require the LIBRARY before executing your script") do |lib|
    puts "You required #{lib}!"
  end
end.parse!
</pre> <p>Used:</p> <pre>bash-3.2$ ruby optparse-test.rb -r
optparse-test.rb:9:in `&lt;main&gt;': missing argument: -r (OptionParser::MissingArgument)
bash-3.2$ ruby optparse-test.rb -r my-library
You required my-library!</pre> <h3 id="label-Type+Coercion">Type Coercion</h3> <p><a href="../optionparser/">OptionParser</a> supports the ability to coerce command line arguments into objects for us.</p> <p><a href="../optionparser/">OptionParser</a> comes with a few ready-to-use kinds of type coercion. They are:</p> <ul>
<li> <p><a href="../date/">Date</a> – Anything accepted by <code>Date.parse</code></p> </li>
<li> <p><a href="../datetime/">DateTime</a> – Anything accepted by <code>DateTime.parse</code></p> </li>
<li> <p><a href="../time/">Time</a> – Anything accepted by <code>Time.httpdate</code> or <code>Time.parse</code></p> </li>
<li> <p><a href="../uri/">URI</a> – Anything accepted by <code>URI.parse</code></p> </li>
<li> <p><a href="../shellwords/">Shellwords</a> – Anything accepted by <code>Shellwords.shellwords</code></p> </li>
<li> <p>String – Any non-empty string</p> </li>
<li> <p><a href="../integer/">Integer</a> – Any integer. Will convert octal. (e.g. 124, -3, 040)</p> </li>
<li> <p><a href="../float/">Float</a> – Any float. (e.g. 10, 3.14, -100E+13)</p> </li>
<li> <p><a href="../numeric/">Numeric</a> – Any integer, float, or rational (1, 3.4, 1/3)</p> </li>
<li> <p>DecimalInteger – Like <code>Integer</code>, but no octal format.</p> </li>
<li> <p>OctalInteger – Like <code>Integer</code>, but no decimal format.</p> </li>
<li> <p>DecimalNumeric – Decimal integer or float.</p> </li>
<li> <p><a href="../trueclass/">TrueClass</a> – Accepts '+, yes, true, -, no, false' and defaults as <code>true</code></p> </li>
<li> <p><a href="../falseclass/">FalseClass</a> – Same as <code>TrueClass</code>, but defaults to <code>false</code></p> </li>
<li> <p>Array – Strings separated by ',' (e.g. 1,2,3)</p> </li>
<li> <p><a href="../regexp/">Regexp</a> – Regular expressions. Also includes options.</p> </li>
</ul> <p>We can also add our own coercions, which we will cover soon.</p> <h4 id="label-Using+Built-in+Conversions">Using Built-in Conversions</h4> <p>As an example, the built-in <code>Time</code> conversion is used. The other built-in conversions behave in the same way. <a href="../optionparser/">OptionParser</a> will attempt to parse the argument as a <code>Time</code>. If it succeeds, that time will be passed to the handler block. Otherwise, an exception will be raised.</p> <pre class="ruby" data-language="ruby">require 'optparse'
require 'optparse/time'
OptionParser.new do |parser|
  parser.on("-t", "--time [TIME]", Time, "Begin execution at given time") do |time|
    p time
  end
end.parse!
</pre> <p>Used:</p> <pre>bash-3.2$ ruby optparse-test.rb  -t nonsense
... invalid argument: -t nonsense (OptionParser::InvalidArgument)
from ... time.rb:5:in `block in &lt;top (required)&gt;'
from optparse-test.rb:31:in `&lt;main&gt;'
bash-3.2$ ruby optparse-test.rb  -t 10-11-12
2010-11-12 00:00:00 -0500
bash-3.2$ ruby optparse-test.rb  -t 9:30
2014-08-13 09:30:00 -0400</pre> <h4 id="label-Creating+Custom+Conversions">Creating Custom Conversions</h4> <p>The <code>accept</code> method on <a href="../optionparser/">OptionParser</a> may be used to create converters. It specifies which conversion block to call whenever a class is specified. The example below uses it to fetch a <code>User</code> object before the <code>on</code> handler receives it.</p> <pre class="ruby" data-language="ruby">require 'optparse'

User = Struct.new(:id, :name)

def find_user id
  not_found = -&gt;{ raise "No User Found for id #{id}" }
  [ User.new(1, "Sam"),
    User.new(2, "Gandalf") ].find(not_found) do |u|
    u.id == id
  end
end

op = OptionParser.new
op.accept(User) do |user_id|
  find_user user_id.to_i
end

op.on("--user ID", User) do |user|
  puts user
end

op.parse!
</pre> <p>output:</p> <pre>bash-3.2$ ruby optparse-test.rb --user 1
#&lt;struct User id=1, name="Sam"&gt;
bash-3.2$ ruby optparse-test.rb --user 2
#&lt;struct User id=2, name="Gandalf"&gt;
bash-3.2$ ruby optparse-test.rb --user 3
optparse-test.rb:15:in `block in find_user': No User Found for id 3 (RuntimeError)</pre> <h3 id="label-Complete+example">Complete example</h3> <p>The following example is a complete Ruby program. You can run it and see the effect of specifying various options. This is probably the best way to learn the features of <code>optparse</code>.</p> <pre class="ruby" data-language="ruby">require 'optparse'
require 'optparse/time'
require 'ostruct'
require 'pp'

class OptparseExample
  Version = '1.0.0'

  CODES = %w[iso-2022-jp shift_jis euc-jp utf8 binary]
  CODE_ALIASES = { "jis" =&gt; "iso-2022-jp", "sjis" =&gt; "shift_jis" }

  class ScriptOptions
    attr_accessor :library, :inplace, :encoding, :transfer_type,
                  :verbose, :extension, :delay, :time, :record_separator,
                  :list

    def initialize
      self.library = []
      self.inplace = false
      self.encoding = "utf8"
      self.transfer_type = :auto
      self.verbose = false
    end

    def define_options(parser)
      parser.banner = "Usage: example.rb [options]"
      parser.separator ""
      parser.separator "Specific options:"

      # add additional options
      perform_inplace_option(parser)
      delay_execution_option(parser)
      execute_at_time_option(parser)
      specify_record_separator_option(parser)
      list_example_option(parser)
      specify_encoding_option(parser)
      optional_option_argument_with_keyword_completion_option(parser)
      boolean_verbose_option(parser)

      parser.separator ""
      parser.separator "Common options:"
      # No argument, shows at tail.  This will print an options summary.
      # Try it and see!
      parser.on_tail("-h", "--help", "Show this message") do
        puts parser
        exit
      end
      # Another typical switch to print the version.
      parser.on_tail("--version", "Show version") do
        puts Version
        exit
      end
    end

    def perform_inplace_option(parser)
      # Specifies an optional option argument
      parser.on("-i", "--inplace [EXTENSION]",
                "Edit ARGV files in place",
                "(make backup if EXTENSION supplied)") do |ext|
        self.inplace = true
        self.extension = ext || ''
        self.extension.sub!(/\A\.?(?=.)/, ".")  # Ensure extension begins with dot.
      end
    end

    def delay_execution_option(parser)
      # Cast 'delay' argument to a Float.
      parser.on("--delay N", Float, "Delay N seconds before executing") do |n|
        self.delay = n
      end
    end

    def execute_at_time_option(parser)
      # Cast 'time' argument to a Time object.
      parser.on("-t", "--time [TIME]", Time, "Begin execution at given time") do |time|
        self.time = time
      end
    end

    def specify_record_separator_option(parser)
      # Cast to octal integer.
      parser.on("-F", "--irs [OCTAL]", OptionParser::OctalInteger,
                "Specify record separator (default \\0)") do |rs|
        self.record_separator = rs
      end
    end

    def list_example_option(parser)
      # List of arguments.
      parser.on("--list x,y,z", Array, "Example 'list' of arguments") do |list|
        self.list = list
      end
    end

    def specify_encoding_option(parser)
      # Keyword completion.  We are specifying a specific set of arguments (CODES
      # and CODE_ALIASES - notice the latter is a Hash), and the user may provide
      # the shortest unambiguous text.
      code_list = (CODE_ALIASES.keys + CODES).join(', ')
      parser.on("--code CODE", CODES, CODE_ALIASES, "Select encoding",
                "(#{code_list})") do |encoding|
        self.encoding = encoding
      end
    end

    def optional_option_argument_with_keyword_completion_option(parser)
      # Optional '--type' option argument with keyword completion.
      parser.on("--type [TYPE]", [:text, :binary, :auto],
                "Select transfer type (text, binary, auto)") do |t|
        self.transfer_type = t
      end
    end

    def boolean_verbose_option(parser)
      # Boolean switch.
      parser.on("-v", "--[no-]verbose", "Run verbosely") do |v|
        self.verbose = v
      end
    end
  end

  #
  # Return a structure describing the options.
  #
  def parse(args)
    # The options specified on the command line will be collected in
    # *options*.

    @options = ScriptOptions.new
    @args = OptionParser.new do |parser|
      @options.define_options(parser)
      parser.parse!(args)
    end
    @options
  end

  attr_reader :parser, :options
end  # class OptparseExample

example = OptparseExample.new
options = example.parse(ARGV)
pp options # example.options
pp ARGV
</pre> <h3 id="label-Shell+Completion">
<a href="../shell/">Shell</a> Completion</h3> <p>For modern shells (e.g. bash, zsh, etc.), you can use shell completion for command line options.</p> <h3 id="label-Further+documentation">Further documentation</h3> <p>The above examples should be enough to learn how to use this class. If you have any questions, file a ticket at <a href="http://bugs.ruby-lang.org" target="_blank">bugs.ruby-lang.org</a>.</p> </dd>
<dt id="ParseError">ParseError </dt>

<dt id="RUBY_COPYRIGHT">RUBY_COPYRIGHT </dt>
<dd>
<p>The copyright string for ruby</p> </dd>
<dt id="RUBY_DESCRIPTION">RUBY_DESCRIPTION </dt>
<dd>
<p>The full ruby version string, like <code>ruby -v</code> prints'</p> </dd>
<dt id="RUBY_ENGINE">RUBY_ENGINE </dt>
<dd>
<p>The engine or interpreter this ruby uses.</p> </dd>
<dt id="RUBY_ENGINE_VERSION">RUBY_ENGINE_VERSION </dt>
<dd>
<p>The version of the engine or interpreter this ruby uses.</p> </dd>
<dt id="RUBY_PATCHLEVEL">RUBY_PATCHLEVEL </dt>
<dd>
<p>The patchlevel for this ruby. If this is a development build of ruby the patchlevel will be -1</p> </dd>
<dt id="RUBY_PLATFORM">RUBY_PLATFORM </dt>
<dd>
<p>The platform for this ruby</p> </dd>
<dt id="RUBY_RELEASE_DATE">RUBY_RELEASE_DATE </dt>
<dd>
<p>The date this ruby was released</p> </dd>
<dt id="RUBY_REVISION">RUBY_REVISION </dt>
<dd>
<p>The SVN revision for this ruby.</p> </dd>
<dt id="RUBY_VERSION">RUBY_VERSION </dt>
<dd>
<p>The running version of ruby</p> </dd>
<dt id="SCRIPT_LINES__">SCRIPT_LINES__ </dt>
<dd>
<p>When a <a href="../hash/">Hash</a> is assigned to <code>SCRIPT_LINES__</code> the contents of files loaded after the assignment will be added as an Array of lines with the file name as the key.</p> </dd>
<dt id="STDERR">STDERR </dt>
<dd>
<p>Holds the original stderr</p> </dd>
<dt id="STDIN">STDIN </dt>
<dd>
<p>Holds the original stdin</p> </dd>
<dt id="STDOUT">STDOUT </dt>
<dd>
<p>Holds the original stdout</p> </dd>
<dt id="Synchronizer">Synchronizer </dt>
<dd>
<p>A class that provides two-phase lock with a counter. See <a href="../sync_m/">Sync_m</a> for details.</p> </dd>
<dt id="Synchronizer_m">Synchronizer_m </dt>
<dd>
<p>A module that provides a two-phase lock with a counter.</p> </dd>
<dt id="TOPLEVEL_BINDING">TOPLEVEL_BINDING </dt>
<dd>
<p>The <a href="../binding/">Binding</a> of the top level scope</p> </dd>
<dt id="TRUE">TRUE </dt>
<dd>
<p>An alias of <code>true</code></p> </dd>
<dt id="ThWait">ThWait </dt>
<dd>
<p>This class watches for termination of multiple threads. Basic functionality (wait until specified threads have terminated) can be accessed through the class method <a href="../threadswait/#method-c-all_waits">ThreadsWait.all_waits</a>. Finer control can be gained using instance methods.</p> <p>Example:</p> <pre>ThreadsWait.all_waits(thr1, thr2, ...) do |t|
  STDERR.puts "Thread #{t} has terminated."
end

th = ThreadsWait.new(thread1,...)
th.next_wait # next one to be done</pre> </dd>
<dt id="TimeoutError">TimeoutError </dt>
<dd>
<p>Raised by <a href="../timeout/#method-i-timeout">Timeout#timeout</a> when the block times out.</p> </dd>
</dl> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-yaml_tag"> <span class="method-name">yaml_tag</span><span class="method-args">(url)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <div class="method-source-code" id="yaml_tag-source"> <pre class="ruby" data-language="ruby"># File ext/psych/lib/psych/core_ext.rb, line 3
def self.yaml_tag url
  Psych.add_tag(url, self)
end</pre> </div> </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-21-7E"> <span class="method-callseq"> obj !~ other → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns true if two objects do not match (using the <em>=~</em> method), otherwise false.</p> <div class="method-source-code" id="21-7E-source"> <pre class="c" data-language="c">static VALUE
rb_obj_not_match(VALUE obj1, VALUE obj2)
{
    VALUE result = rb_funcall(obj1, id_match, 1, obj2);
    return RTEST(result) ? Qfalse : Qtrue;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3C-3D-3E"> <span class="method-callseq"> obj &lt;=&gt; other → 0 or nil </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns 0 if <code>obj</code> and <code>other</code> are the same object or <code>obj == other</code>, otherwise nil.</p> <p>The <code>&lt;=&gt;</code> is used by various methods to compare objects, for example <a href="../enumerable/#method-i-sort">Enumerable#sort</a>, <a href="../enumerable/#method-i-max">Enumerable#max</a> etc.</p> <p>Your implementation of <code>&lt;=&gt;</code> should return one of the following values: -1, 0, 1 or nil. -1 means self is smaller than other. 0 means self is equal to other. 1 means self is bigger than other. Nil means the two values could not be compared.</p> <p>When you define <code>&lt;=&gt;</code>, you can include <a href="../comparable/">Comparable</a> to gain the methods <code>&lt;=</code>, <code>&lt;</code>, <code>==</code>, <code>&gt;=</code>, <code>&gt;</code> and <code>between?</code>.</p> <div class="method-source-code" id="3C-3D-3E-source"> <pre class="c" data-language="c">static VALUE
rb_obj_cmp(VALUE obj1, VALUE obj2)
{
    if (obj1 == obj2 || rb_equal(obj1, obj2))
        return INT2FIX(0);
    return Qnil;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3D-3D-3D"> <span class="method-callseq"> obj === other → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Case Equality – For class <a href="../object/">Object</a>, effectively the same as calling <code>#==</code>, but typically overridden by descendants to provide meaningful semantics in <code>case</code> statements.</p> <div class="method-source-code" id="3D-3D-3D-source"> <pre class="c" data-language="c">VALUE
rb_equal(VALUE obj1, VALUE obj2)
{
    VALUE result;

    if (obj1 == obj2) return Qtrue;
    result = rb_funcall(obj1, id_eq, 1, obj2);
    if (RTEST(result)) return Qtrue;
    return Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3D-7E"> <span class="method-callseq"> obj =~ other → nil </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Pattern Match—Overridden by descendants (notably <code>Regexp</code> and <code>String</code>) to provide meaningful pattern-match semantics.</p> <div class="method-source-code" id="3D-7E-source"> <pre class="c" data-language="c">static VALUE
rb_obj_match(VALUE obj1, VALUE obj2)
{
    return Qnil;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-CSV"> <span class="method-name">CSV</span><span class="method-args">(*args, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Passes <code>args</code> to <a href="../csv/#method-c-instance">CSV.instance</a>.</p> <pre class="ruby" data-language="ruby">CSV("CSV,data").read
  #=&gt; [["CSV", "data"]]
</pre> <p>If a block is given, the instance is passed the block and the return value becomes the return value of the block.</p> <pre class="ruby" data-language="ruby">CSV("CSV,data") { |c|
  c.read.any? { |a| a.include?("data") }
} #=&gt; true

CSV("CSV,data") { |c|
  c.read.any? { |a| a.include?("zombies") }
} #=&gt; false
</pre> <div class="method-source-code" id="CSV-source"> <pre class="ruby" data-language="ruby"># File lib/csv.rb, line 2327
def CSV(*args, &amp;block)
  CSV.instance(*args, &amp;block)
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-DelegateClass"> <span class="method-name">DelegateClass</span><span class="method-args">(superclass)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>The primary interface to this library. Use to setup delegation when defining your class.</p> <pre class="ruby" data-language="ruby">class MyClass &lt; DelegateClass(ClassToDelegateTo) # Step 1
  def initialize
    super(obj_of_ClassToDelegateTo)              # Step 2
  end
end
</pre> <p>Here's a sample of use from <a href="../tempfile/">Tempfile</a> which is really a <a href="../file/">File</a> object with a few special rules about storage location and when the <a href="../file/">File</a> should be deleted. That makes for an almost textbook perfect example of how to use delegation.</p> <pre class="ruby" data-language="ruby">class Tempfile &lt; DelegateClass(File)
  # constant and class member data initialization...

  def initialize(basename, tmpdir=Dir::tmpdir)
    # build up file path/name in var tmpname...

    @tmpfile = File.open(tmpname, File::RDWR|File::CREAT|File::EXCL, 0600)

    # ...

    super(@tmpfile)

    # below this point, all methods of File are supported...
  end

  # ...
end
</pre> <div class="method-calls-super"> Calls superclass method </div> <div class="method-source-code" id="DelegateClass-source"> <pre class="ruby" data-language="ruby"># File lib/delegate.rb, line 378
def DelegateClass(superclass)
  klass = Class.new(Delegator)
  methods = superclass.instance_methods
  methods -= ::Delegator.public_api
  methods -= [:to_s,:inspect,:=~,:!~,:===]
  klass.module_eval do
    def __getobj__  # :nodoc:
      unless defined?(@delegate_dc_obj)
        return yield if block_given?
        __raise__ ::ArgumentError, "not delegated"
      end
      @delegate_dc_obj
    end
    def __setobj__(obj)  # :nodoc:
      __raise__ ::ArgumentError, "cannot delegate to self" if self.equal?(obj)
      @delegate_dc_obj = obj
    end
    methods.each do |method|
      define_method(method, Delegator.delegating_block(method))
    end
  end
  klass.define_singleton_method :public_instance_methods do |all=true|
    super(all) - superclass.protected_instance_methods
  end
  klass.define_singleton_method :protected_instance_methods do |all=true|
    super(all) | superclass.protected_instance_methods
  end
  return klass
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-Digest"> <span class="method-callseq"> Digest(name) → digest_subclass </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns a <a href="../digest/">Digest</a> subclass by <code>name</code> in a thread-safe manner even when on-demand loading is involved.</p> <pre class="ruby" data-language="ruby">require 'digest'

Digest("MD5")
# =&gt; Digest::MD5

Digest(:SHA256)
# =&gt; Digest::SHA256

Digest(:Foo)
# =&gt; LoadError: library not found for class Digest::Foo -- digest/foo
</pre> <div class="method-source-code" id="Digest-source"> <pre class="ruby" data-language="ruby"># File ext/digest/lib/digest.rb, line 96
def Digest(name)
  const = name.to_sym
  Digest::REQUIRE_MUTEX.synchronize {
    # Ignore autoload's because it is void when we have #const_missing
    Digest.const_missing(const)
  }
rescue LoadError
  # Constants do not necessarily rely on digest/*.
  if Digest.const_defined?(const)
    Digest.const_get(const)
  else
    raise
  end
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-class"> <span class="method-callseq"> class → class </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns the class of <em>obj</em>. This method must always be called with an explicit receiver, as <code>class</code> is also a reserved word in Ruby.</p> <pre class="ruby" data-language="ruby">1.class      #=&gt; Fixnum
self.class   #=&gt; Object
</pre> <div class="method-source-code" id="class-source"> <pre class="c" data-language="c">VALUE
rb_obj_class(VALUE obj)
{
    return rb_class_real(CLASS_OF(obj));
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-clone"> <span class="method-callseq"> clone → an_object </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Produces a shallow copy of <em>obj</em>—the instance variables of <em>obj</em> are copied, but not the objects they reference. <code>clone</code> copies the frozen and tainted state of <em>obj</em>. See also the discussion under <code>Object#dup</code>.</p> <pre class="ruby" data-language="ruby">class Klass
   attr_accessor :str
end
s1 = Klass.new      #=&gt; #&lt;Klass:0x401b3a38&gt;
s1.str = "Hello"    #=&gt; "Hello"
s2 = s1.clone       #=&gt; #&lt;Klass:0x401b3998 @str="Hello"&gt;
s2.str[1,4] = "i"   #=&gt; "i"
s1.inspect          #=&gt; "#&lt;Klass:0x401b3a38 @str=\"Hi\"&gt;"
s2.inspect          #=&gt; "#&lt;Klass:0x401b3998 @str=\"Hi\"&gt;"
</pre> <p>This method may have class-specific behavior. If so, that behavior will be documented under the #<code>initialize_copy</code> method of the class.</p> <div class="method-source-code" id="clone-source"> <pre class="c" data-language="c">VALUE
rb_obj_clone(VALUE obj)
{
    VALUE clone;
    VALUE singleton;

    if (rb_special_const_p(obj)) {
        rb_raise(rb_eTypeError, "can't clone %s", rb_obj_classname(obj));
    }
    clone = rb_obj_alloc(rb_obj_class(obj));
    RBASIC(clone)-&gt;flags &amp;= (FL_TAINT|FL_PROMOTED0|FL_PROMOTED1);
    RBASIC(clone)-&gt;flags |= RBASIC(obj)-&gt;flags &amp; ~(FL_PROMOTED0|FL_PROMOTED1|FL_FREEZE|FL_FINALIZE);

    singleton = rb_singleton_class_clone_and_attach(obj, clone);
    RBASIC_SET_CLASS(clone, singleton);
    if (FL_TEST(singleton, FL_SINGLETON)) {
        rb_singleton_class_attached(singleton, clone);
    }

    init_copy(clone, obj);
    rb_funcall(clone, id_init_clone, 1, obj);
    RBASIC(clone)-&gt;flags |= RBASIC(obj)-&gt;flags &amp; FL_FREEZE;

    return clone;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-dclone"> <span class="method-name">dclone</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>provides a unified <code>clone</code> operation, for <span>REXML::XPathParser</span> to use across multiple <a href="../object/">Object</a> types</p> <div class="method-source-code" id="dclone-source"> <pre class="ruby" data-language="ruby"># File lib/rexml/xpath_parser.rb, line 11
def dclone
  clone
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-default_src_encoding"> <span class="method-name">default_src_encoding</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>frozen_string_literal: false DO NOT WRITE ANY MAGIC COMMENT HERE.</p> <div class="method-source-code" id="default_src_encoding-source"> <pre class="ruby" data-language="ruby"># File lib/irb/src_encoding.rb, line 3
def default_src_encoding
  return __ENCODING__
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-define_singleton_method"> <span class="method-callseq"> define_singleton_method(symbol, method) → new_method </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> define_singleton_method(symbol) { block } → proc </span> </div> <div class="method-description"> <p>Defines a singleton method in the receiver. The <em>method</em> parameter can be a <code>Proc</code>, a <code>Method</code> or an <code>UnboundMethod</code> object. If a block is specified, it is used as the method body.</p> <pre class="ruby" data-language="ruby">class A
  class &lt;&lt; self
    def class_name
      to_s
    end
  end
end
A.define_singleton_method(:who_am_i) do
  "I am: #{class_name}"
end
A.who_am_i   # ==&gt; "I am: A"

guy = "Bob"
guy.define_singleton_method(:hello) { "#{self}: Hello there!" }
guy.hello    #=&gt;  "Bob: Hello there!"
</pre> <div class="method-source-code" id="define_singleton_method-source"> <pre class="c" data-language="c">static VALUE
rb_obj_define_method(int argc, VALUE *argv, VALUE obj)
{
    VALUE klass = rb_singleton_class(obj);

    return rb_mod_define_method(argc, argv, klass);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-display"> <span class="method-callseq"> display(port=$&gt;) → nil </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Prints <em>obj</em> on the given port (default <code>$&gt;</code>). Equivalent to:</p> <pre class="ruby" data-language="ruby">def display(port=$&gt;)
  port.write self
end
</pre> <p>For example:</p> <pre class="ruby" data-language="ruby">1.display
"cat".display
[ 4, 5, 6 ].display
puts
</pre> <p><em>produces:</em></p> <pre>1cat456</pre> <div class="method-source-code" id="display-source"> <pre class="c" data-language="c">static VALUE
rb_obj_display(int argc, VALUE *argv, VALUE self)
{
    VALUE out;

    if (argc == 0) {
        out = rb_stdout;
    }
    else {
        rb_scan_args(argc, argv, "01", &amp;out);
    }
    rb_io_write(out, self);

    return Qnil;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-dup"> <span class="method-callseq"> dup → an_object </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Produces a shallow copy of <em>obj</em>—the instance variables of <em>obj</em> are copied, but not the objects they reference. <code>dup</code> copies the tainted state of <em>obj</em>.</p> <p>This method may have class-specific behavior. If so, that behavior will be documented under the #<code>initialize_copy</code> method of the class.</p> <h3 id="method-i-dup-label-on+dup+vs+clone">on dup vs clone</h3> <p>In general, <code>clone</code> and <code>dup</code> may have different semantics in descendant classes. While <code>clone</code> is used to duplicate an object, including its internal state, <code>dup</code> typically uses the class of the descendant object to create the new instance.</p> <p>When using <a href="../object/#method-i-dup">dup</a>, any modules that the object has been extended with will not be copied.</p> <pre class="ruby" data-language="ruby">class Klass
  attr_accessor :str
end

module Foo
  def foo; 'foo'; end
end

s1 = Klass.new #=&gt; #&lt;Klass:0x401b3a38&gt;
s1.extend(Foo) #=&gt; #&lt;Klass:0x401b3a38&gt;
s1.foo #=&gt; "foo"

s2 = s1.clone #=&gt; #&lt;Klass:0x401b3a38&gt;
s2.foo #=&gt; "foo"

s3 = s1.dup #=&gt; #&lt;Klass:0x401b3a38&gt;
s3.foo #=&gt; NoMethodError: undefined method `foo' for #&lt;Klass:0x401b3a38&gt;
</pre> <div class="method-source-code" id="dup-source"> <pre class="c" data-language="c">VALUE
rb_obj_dup(VALUE obj)
{
    VALUE dup;

    if (rb_special_const_p(obj)) {
        rb_raise(rb_eTypeError, "can't dup %s", rb_obj_classname(obj));
    }
    dup = rb_obj_alloc(rb_obj_class(obj));
    init_copy(dup, obj);
    rb_funcall(dup, id_init_dup, 1, obj);

    return dup;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-enum_for"> <span class="method-callseq"> enum_for(method = :each, *args) → enum </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> enum_for(method = :each, *args){|*args| block} → enum </span> </div> <div class="method-description"> <p>Creates a new <a href="../enumerator/">Enumerator</a> which will enumerate by calling <code>method</code> on <code>obj</code>, passing <code>args</code> if any.</p> <p>If a block is given, it will be used to calculate the size of the enumerator without the need to iterate it (see <a href="../enumerator/#method-i-size">Enumerator#size</a>).</p> <h3 id="method-i-enum_for-label-Examples">Examples</h3> <pre class="ruby" data-language="ruby">str = "xyz"

enum = str.enum_for(:each_byte)
enum.each { |b| puts b }
# =&gt; 120
# =&gt; 121
# =&gt; 122

# protect an array from being modified by some_method
a = [1, 2, 3]
some_method(a.to_enum)
</pre> <p>It is typical to call <a href="../object/#method-i-to_enum">#to_enum</a> when defining methods for a generic <a href="../enumerable/">Enumerable</a>, in case no block is passed.</p> <p>Here is such an example, with parameter passing and a sizing block:</p> <pre class="ruby" data-language="ruby">module Enumerable
  # a generic method to repeat the values of any enumerable
  def repeat(n)
    raise ArgumentError, "#{n} is negative!" if n &lt; 0
    unless block_given?
      return to_enum(__method__, n) do # __method__ is :repeat here
        sz = size     # Call size and multiply by n...
        sz * n if sz  # but return nil if size itself is nil
      end
    end
    each do |*val|
      n.times { yield *val }
    end
  end
end

%[hello world].repeat(2) { |w| puts w }
  # =&gt; Prints 'hello', 'hello', 'world', 'world'
enum = (1..14).repeat(3)
  # =&gt; returns an Enumerator when called without a block
enum.first(4) # =&gt; [1, 1, 1, 2]
enum.size # =&gt; 42
</pre> <div class="method-source-code" id="enum_for-source"> <pre class="c" data-language="c">static VALUE
obj_to_enum(int argc, VALUE *argv, VALUE obj)
{
    VALUE enumerator, meth = sym_each;

    if (argc &gt; 0) {
        --argc;
        meth = *argv++;
    }
    enumerator = rb_enumeratorize_with_size(obj, meth, argc, argv, 0);
    if (rb_block_given_p()) {
        enumerator_ptr(enumerator)-&gt;size = rb_block_proc();
    }
    return enumerator;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-eql-3F"> <span class="method-callseq"> obj == other → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> equal?(other) → true or false </span> </div> <div class="method-heading"> <span class="method-callseq"> eql?(other) → true or false </span> </div> <div class="method-description"> <p>Equality — At the <code>Object</code> level, <code>==</code> returns <code>true</code> only if <code>obj</code> and <code>other</code> are the same object. Typically, this method is overridden in descendant classes to provide class-specific meaning.</p> <p>Unlike <code>==</code>, the <code>equal?</code> method should never be overridden by subclasses as it is used to determine object identity (that is, <code>a.equal?(b)</code> if and only if <code>a</code> is the same object as <code>b</code>):</p> <pre class="ruby" data-language="ruby">obj = "a"
other = obj.dup

obj == other      #=&gt; true
obj.equal? other  #=&gt; false
obj.equal? obj    #=&gt; true
</pre> <p>The <code>eql?</code> method returns <code>true</code> if <code>obj</code> and <code>other</code> refer to the same hash key. This is used by <a href="../hash/">Hash</a> to test members for equality. For objects of class <code>Object</code>, <code>eql?</code> is synonymous with <code>==</code>. Subclasses normally continue this tradition by aliasing <code>eql?</code> to their overridden <code>==</code> method, but there are exceptions. <code>Numeric</code> types, for example, perform type conversion across <code>==</code>, but not across <code>eql?</code>, so:</p> <pre class="ruby" data-language="ruby">1 == 1.0     #=&gt; true
1.eql? 1.0   #=&gt; false
</pre> <div class="method-source-code" id="eql-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_equal(VALUE obj1, VALUE obj2)
{
    if (obj1 == obj2) return Qtrue;
    return Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-extend"> <span class="method-callseq"> extend(module, ...) → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Adds to <em>obj</em> the instance methods from each module given as a parameter.</p> <pre class="ruby" data-language="ruby">module Mod
  def hello
    "Hello from Mod.\n"
  end
end

class Klass
  def hello
    "Hello from Klass.\n"
  end
end

k = Klass.new
k.hello         #=&gt; "Hello from Klass.\n"
k.extend(Mod)   #=&gt; #&lt;Klass:0x401b3bc8&gt;
k.hello         #=&gt; "Hello from Mod.\n"
</pre> <div class="method-source-code" id="extend-source"> <pre class="c" data-language="c">static VALUE
rb_obj_extend(int argc, VALUE *argv, VALUE obj)
{
    int i;
    ID id_extend_object, id_extended;

    CONST_ID(id_extend_object, "extend_object");
    CONST_ID(id_extended, "extended");

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    for (i = 0; i &lt; argc; i++)
        Check_Type(argv[i], T_MODULE);
    while (argc--) {
        rb_funcall(argv[argc], id_extend_object, 1, obj);
        rb_funcall(argv[argc], id_extended, 1, obj);
    }
    return obj;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-freeze"> <span class="method-callseq"> freeze → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Prevents further modifications to <em>obj</em>. A <code>RuntimeError</code> will be raised if modification is attempted. There is no way to unfreeze a frozen object. See also <code>Object#frozen?</code>.</p> <p>This method returns self.</p> <pre class="ruby" data-language="ruby">a = [ "a", "b", "c" ]
a.freeze
a &lt;&lt; "z"
</pre> <p><em>produces:</em></p> <pre>prog.rb:3:in `&lt;&lt;': can't modify frozen Array (RuntimeError)
 from prog.rb:3</pre> <p>Objects of the following classes are always frozen: <a href="../fixnum/">Fixnum</a>, <a href="../bignum/">Bignum</a>, <a href="../float/">Float</a>, <a href="../symbol/">Symbol</a>.</p> <div class="method-source-code" id="freeze-source"> <pre class="c" data-language="c">VALUE
rb_obj_freeze(VALUE obj)
{
    if (!OBJ_FROZEN(obj)) {
        OBJ_FREEZE(obj);
        if (SPECIAL_CONST_P(obj)) {
            rb_bug("special consts should be frozen.");
        }
    }
    return obj;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-frozen-3F"> <span class="method-callseq"> frozen? → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns the freeze status of <em>obj</em>.</p> <pre class="ruby" data-language="ruby">a = [ "a", "b", "c" ]
a.freeze    #=&gt; ["a", "b", "c"]
a.frozen?   #=&gt; true
</pre> <div class="method-source-code" id="frozen-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_frozen_p(VALUE obj)
{
    return OBJ_FROZEN(obj) ? Qtrue : Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-hash"> <span class="method-callseq"> hash → fixnum </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Generates a <a href="../fixnum/">Fixnum</a> hash value for this object. This function must have the property that <code>a.eql?(b)</code> implies <code>a.hash == b.hash</code>.</p> <p>The hash value is used along with <a href="../object/#method-i-eql-3F">eql?</a> by the <a href="../hash/">Hash</a> class to determine if two objects reference the same hash key. Any hash value that exceeds the capacity of a <a href="../fixnum/">Fixnum</a> will be truncated before being used.</p> <p>The hash value for an object may not be identical across invocations or implementations of Ruby. If you need a stable identifier across Ruby invocations and implementations you will need to generate one with a custom method.</p> <div class="method-source-code" id="hash-source"> <pre class="c" data-language="c">VALUE
rb_obj_hash(VALUE obj)
{
    VALUE oid = rb_obj_id(obj);
#if SIZEOF_LONG == SIZEOF_VOIDP
    st_index_t index = NUM2LONG(oid);
#elif SIZEOF_LONG_LONG == SIZEOF_VOIDP
    st_index_t index = NUM2LL(oid);
#else
# error not supported
#endif
    return LONG2FIX(rb_objid_hash(index));
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inspect"> <span class="method-callseq"> inspect → string </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns a string containing a human-readable representation of <em>obj</em>. The default <code>inspect</code> shows the object's class name, an encoding of the object id, and a list of the instance variables and their values (by calling <a href="../object/#method-i-inspect">inspect</a> on each of them). User defined classes should override this method to provide a better representation of <em>obj</em>. When overriding this method, it should return a string whose encoding is compatible with the default external encoding.</p> <pre class="ruby" data-language="ruby">[ 1, 2, 3..4, 'five' ].inspect   #=&gt; "[1, 2, 3..4, \"five\"]"
Time.new.inspect                 #=&gt; "2008-03-08 19:43:39 +0900"

class Foo
end
Foo.new.inspect                  #=&gt; "#&lt;Foo:0x0300c868&gt;"

class Bar
  def initialize
    @bar = 1
  end
end
Bar.new.inspect                  #=&gt; "#&lt;Bar:0x0300c868 @bar=1&gt;"
</pre> <div class="method-source-code" id="inspect-source"> <pre class="c" data-language="c">static VALUE
rb_obj_inspect(VALUE obj)
{
    if (rb_ivar_count(obj) &gt; 0) {
        VALUE str;
        VALUE c = rb_class_name(CLASS_OF(obj));

        str = rb_sprintf("-&lt;%"PRIsVALUE":%p", c, (void*)obj);
        return rb_exec_recursive(inspect_obj, obj, str);
    }
    else {
        return rb_any_to_s(obj);
    }
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-instance_of-3F"> <span class="method-callseq"> instance_of?(class) → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns <code>true</code> if <em>obj</em> is an instance of the given class. See also <code>Object#kind_of?</code>.</p> <pre class="ruby" data-language="ruby">class A;     end
class B &lt; A; end
class C &lt; B; end

b = B.new
b.instance_of? A   #=&gt; false
b.instance_of? B   #=&gt; true
b.instance_of? C   #=&gt; false
</pre> <div class="method-source-code" id="instance_of-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_is_instance_of(VALUE obj, VALUE c)
{
    c = class_or_module_required(c);
    if (rb_obj_class(obj) == c) return Qtrue;
    return Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-instance_variable_defined-3F"> <span class="method-callseq"> instance_variable_defined?(symbol) → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> instance_variable_defined?(string) → true or false </span> </div> <div class="method-description"> <p>Returns <code>true</code> if the given instance variable is defined in <em>obj</em>. String arguments are converted to symbols.</p> <pre class="ruby" data-language="ruby">class Fred
  def initialize(p1, p2)
    @a, @b = p1, p2
  end
end
fred = Fred.new('cat', 99)
fred.instance_variable_defined?(:@a)    #=&gt; true
fred.instance_variable_defined?("@b")   #=&gt; true
fred.instance_variable_defined?("@c")   #=&gt; false
</pre> <div class="method-source-code" id="instance_variable_defined-3F-source"> <pre class="c" data-language="c">static VALUE
rb_obj_ivar_defined(VALUE obj, VALUE iv)
{
    ID id = id_for_var(obj, iv, an, instance);

    if (!id) {
        return Qfalse;
    }
    return rb_ivar_defined(obj, id);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-instance_variable_get"> <span class="method-callseq"> instance_variable_get(symbol) → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> instance_variable_get(string) → obj </span> </div> <div class="method-description"> <p>Returns the value of the given instance variable, or nil if the instance variable is not set. The <code>@</code> part of the variable name should be included for regular instance variables. Throws a <code>NameError</code> exception if the supplied symbol is not valid as an instance variable name. String arguments are converted to symbols.</p> <pre class="ruby" data-language="ruby">class Fred
  def initialize(p1, p2)
    @a, @b = p1, p2
  end
end
fred = Fred.new('cat', 99)
fred.instance_variable_get(:@a)    #=&gt; "cat"
fred.instance_variable_get("@b")   #=&gt; 99
</pre> <div class="method-source-code" id="instance_variable_get-source"> <pre class="c" data-language="c">static VALUE
rb_obj_ivar_get(VALUE obj, VALUE iv)
{
    ID id = id_for_var(obj, iv, an, instance);

    if (!id) {
        return Qnil;
    }
    return rb_ivar_get(obj, id);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-instance_variable_set"> <span class="method-callseq"> instance_variable_set(symbol, obj) → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> instance_variable_set(string, obj) → obj </span> </div> <div class="method-description"> <p>Sets the instance variable named by <em>symbol</em> to the given object, thereby frustrating the efforts of the class's author to attempt to provide proper encapsulation. The variable does not have to exist prior to this call. If the instance variable name is passed as a string, that string is converted to a symbol.</p> <pre class="ruby" data-language="ruby">class Fred
  def initialize(p1, p2)
    @a, @b = p1, p2
  end
end
fred = Fred.new('cat', 99)
fred.instance_variable_set(:@a, 'dog')   #=&gt; "dog"
fred.instance_variable_set(:@c, 'cat')   #=&gt; "cat"
fred.inspect                             #=&gt; "#&lt;Fred:0x401b3da8 @a=\"dog\", @b=99, @c=\"cat\"&gt;"
</pre> <div class="method-source-code" id="instance_variable_set-source"> <pre class="c" data-language="c">static VALUE
rb_obj_ivar_set(VALUE obj, VALUE iv, VALUE val)
{
    ID id = id_for_var(obj, iv, an, instance);
    if (!id) id = rb_intern_str(iv);
    return rb_ivar_set(obj, id, val);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-instance_variables"> <span class="method-callseq"> instance_variables → array </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns an array of instance variable names for the receiver. Note that simply defining an accessor does not create the corresponding instance variable.</p> <pre class="ruby" data-language="ruby">class Fred
  attr_accessor :a1
  def initialize
    @iv = 3
  end
end
Fred.new.instance_variables   #=&gt; [:@iv]
</pre> <div class="method-source-code" id="instance_variables-source"> <pre class="c" data-language="c">VALUE
rb_obj_instance_variables(VALUE obj)
{
    VALUE ary;

    ary = rb_ary_new();
    rb_ivar_foreach(obj, ivar_i, ary);
    return ary;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-is_a-3F"> <span class="method-callseq"> is_a?(class) → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns <code>true</code> if <em>class</em> is the class of <em>obj</em>, or if <em>class</em> is one of the superclasses of <em>obj</em> or modules included in <em>obj</em>.</p> <pre class="ruby" data-language="ruby">module M;    end
class A
  include M
end
class B &lt; A; end
class C &lt; B; end

b = B.new
b.is_a? A          #=&gt; true
b.is_a? B          #=&gt; true
b.is_a? C          #=&gt; false
b.is_a? M          #=&gt; true

b.kind_of? A       #=&gt; true
b.kind_of? B       #=&gt; true
b.kind_of? C       #=&gt; false
b.kind_of? M       #=&gt; true
</pre> <div class="method-source-code" id="is_a-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_is_kind_of(VALUE obj, VALUE c)
{
    VALUE cl = CLASS_OF(obj);

    c = class_or_module_required(c);
    return class_search_ancestor(cl, RCLASS_ORIGIN(c)) ? Qtrue : Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-itself"> <span class="method-callseq"> itself → an_object </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns <em>obj</em>.</p> <pre class="ruby" data-language="ruby">string = 'my string' #=&gt; "my string"
string.itself.object_id == string.object_id #=&gt; true
</pre> <div class="method-source-code" id="itself-source"> <pre class="c" data-language="c">static VALUE
rb_obj_itself(VALUE obj)
{
    return obj;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-kind_of-3F"> <span class="method-callseq"> kind_of?(class) → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns <code>true</code> if <em>class</em> is the class of <em>obj</em>, or if <em>class</em> is one of the superclasses of <em>obj</em> or modules included in <em>obj</em>.</p> <pre class="ruby" data-language="ruby">module M;    end
class A
  include M
end
class B &lt; A; end
class C &lt; B; end

b = B.new
b.is_a? A          #=&gt; true
b.is_a? B          #=&gt; true
b.is_a? C          #=&gt; false
b.is_a? M          #=&gt; true

b.kind_of? A       #=&gt; true
b.kind_of? B       #=&gt; true
b.kind_of? C       #=&gt; false
b.kind_of? M       #=&gt; true
</pre> <div class="method-source-code" id="kind_of-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_is_kind_of(VALUE obj, VALUE c)
{
    VALUE cl = CLASS_OF(obj);

    c = class_or_module_required(c);
    return class_search_ancestor(cl, RCLASS_ORIGIN(c)) ? Qtrue : Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-method"> <span class="method-callseq"> method(sym) → method </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Looks up the named method as a receiver in <em>obj</em>, returning a <code>Method</code> object (or raising <code>NameError</code>). The <code>Method</code> object acts as a closure in <em>obj</em>'s object instance, so instance variables and the value of <code>self</code> remain available.</p> <pre class="ruby" data-language="ruby">class Demo
  def initialize(n)
    @iv = n
  end
  def hello()
    "Hello, @iv = #{@iv}"
  end
end

k = Demo.new(99)
m = k.method(:hello)
m.call   #=&gt; "Hello, @iv = 99"

l = Demo.new('Fred')
m = l.method("hello")
m.call   #=&gt; "Hello, @iv = Fred"
</pre> <div class="method-source-code" id="method-source"> <pre class="c" data-language="c">VALUE
rb_obj_method(VALUE obj, VALUE vid)
{
    return obj_method(obj, vid, FALSE);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-methods"> <span class="method-callseq"> methods(regular=true) → array </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns a list of the names of public and protected methods of <em>obj</em>. This will include all the methods accessible in <em>obj</em>'s ancestors. If the optional parameter is <code>false</code>, it returns an array of <em>obj&lt;i&gt;'s public and protected singleton methods, the array will not include methods in modules included in &lt;i&gt;obj</em>.</p> <pre class="ruby" data-language="ruby">class Klass
  def klass_method()
  end
end
k = Klass.new
k.methods[0..9]    #=&gt; [:klass_method, :nil?, :===,
                   #    :==~, :!, :eql?
                   #    :hash, :&lt;=&gt;, :class, :singleton_class]
k.methods.length   #=&gt; 56

k.methods(false)   #=&gt; []
def k.singleton_method; end
k.methods(false)   #=&gt; [:singleton_method]

module M123; def m123; end end
k.extend M123
k.methods(false)   #=&gt; [:singleton_method]
</pre> <div class="method-source-code" id="methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_methods(int argc, const VALUE *argv, VALUE obj)
{
    rb_check_arity(argc, 0, 1);
    if (argc &gt; 0 &amp;&amp; !RTEST(argv[0])) {
	return rb_obj_singleton_methods(argc, argv, obj);
    }
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_i);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-nil-3F"> <span class="method-callseq"> nil? → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Only the object <em>nil</em> responds <code>true</code> to <code>nil?</code>.</p> <pre class="ruby" data-language="ruby">Object.new.nil?   #=&gt; false
nil.nil?          #=&gt; true
</pre> <div class="method-source-code" id="nil-3F-source"> <pre class="c" data-language="c">static VALUE
rb_false(VALUE obj)
{
    return Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-object_id"> <span class="method-callseq"> __id__ → integer </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> object_id → integer </span> </div> <div class="method-description"> <p>Returns an integer identifier for <code>obj</code>.</p> <p>The same number will be returned on all calls to <code>object_id</code> for a given object, and no two active objects will share an id.</p> <p>Note: that some objects of builtin classes are reused for optimization. This is the case for immediate values and frozen string literals.</p> <p>Immediate values are not passed by reference but are passed by value: <code>nil</code>, <code>true</code>, <code>false</code>, Fixnums, Symbols, and some Floats.</p> <pre class="ruby" data-language="ruby">Object.new.object_id  == Object.new.object_id  # =&gt; false
(21 * 2).object_id    == (21 * 2).object_id    # =&gt; true
"hello".object_id     == "hello".object_id     # =&gt; false
"hi".freeze.object_id == "hi".freeze.object_id # =&gt; true
</pre> <div class="method-source-code" id="object_id-source"> <pre class="c" data-language="c">VALUE
rb_obj_id(VALUE obj)
{
    /*
     *                32-bit VALUE space
     *          MSB ------------------------ LSB
     *  false   00000000000000000000000000000000
     *  true    00000000000000000000000000000010
     *  nil     00000000000000000000000000000100
     *  undef   00000000000000000000000000000110
     *  symbol  ssssssssssssssssssssssss00001110
     *  object  oooooooooooooooooooooooooooooo00        = 0 (mod sizeof(RVALUE))
     *  fixnum  fffffffffffffffffffffffffffffff1
     *
     *                    object_id space
     *                                       LSB
     *  false   00000000000000000000000000000000
     *  true    00000000000000000000000000000010
     *  nil     00000000000000000000000000000100
     *  undef   00000000000000000000000000000110
     *  symbol   000SSSSSSSSSSSSSSSSSSSSSSSSSSS0        S...S % A = 4 (S...S = s...s * A + 4)
     *  object   oooooooooooooooooooooooooooooo0        o...o % A = 0
     *  fixnum  fffffffffffffffffffffffffffffff1        bignum if required
     *
     *  where A = sizeof(RVALUE)/4
     *
     *  sizeof(RVALUE) is
     *  20 if 32-bit, double is 4-byte aligned
     *  24 if 32-bit, double is 8-byte aligned
     *  40 if 64-bit
     */
    if (STATIC_SYM_P(obj)) {
        return (SYM2ID(obj) * sizeof(RVALUE) + (4 &lt;&lt; 2)) | FIXNUM_FLAG;
    }
    else if (FLONUM_P(obj)) {
#if SIZEOF_LONG == SIZEOF_VOIDP
        return LONG2NUM((SIGNED_VALUE)obj);
#else
        return LL2NUM((SIGNED_VALUE)obj);
#endif
    }
    else if (SPECIAL_CONST_P(obj)) {
        return LONG2NUM((SIGNED_VALUE)obj);
    }
    return nonspecial_obj_id(obj);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-private_methods"> <span class="method-callseq"> private_methods(all=true) → array </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns the list of private methods accessible to <em>obj</em>. If the <em>all</em> parameter is set to <code>false</code>, only those methods in the receiver will be listed.</p> <div class="method-source-code" id="private_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_private_methods(int argc, const VALUE *argv, VALUE obj)
{
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_priv_i);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-protected_methods"> <span class="method-callseq"> protected_methods(all=true) → array </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns the list of protected methods accessible to <em>obj</em>. If the <em>all</em> parameter is set to <code>false</code>, only those methods in the receiver will be listed.</p> <div class="method-source-code" id="protected_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_protected_methods(int argc, const VALUE *argv, VALUE obj)
{
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_prot_i);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-psych_to_yaml"> <span class="method-callseq"> to_yaml(options = {}) </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Convert an object to YAML. See <a href="../psych/#method-c-dump">Psych.dump</a> for more information on the available <code>options</code>.</p> <div class="method-source-code" id="psych_to_yaml-source"> <pre class="ruby" data-language="ruby"># File ext/psych/lib/psych/core_ext.rb, line 14
def psych_to_yaml options = {}
  Psych.dump self, options
end</pre> </div> </div> <div class="aliases"> Also aliased as: <a href="../object/#method-i-to_yaml">to_yaml</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-public_method"> <span class="method-callseq"> public_method(sym) → method </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Similar to <em>method</em>, searches public method only.</p> <div class="method-source-code" id="public_method-source"> <pre class="c" data-language="c">VALUE
rb_obj_public_method(VALUE obj, VALUE vid)
{
    return obj_method(obj, vid, TRUE);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-public_methods"> <span class="method-callseq"> public_methods(all=true) → array </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns the list of public methods accessible to <em>obj</em>. If the <em>all</em> parameter is set to <code>false</code>, only those methods in the receiver will be listed.</p> <div class="method-source-code" id="public_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_public_methods(int argc, const VALUE *argv, VALUE obj)
{
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_pub_i);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-public_send"> <span class="method-callseq"> public_send(symbol [, args...]) → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> public_send(string [, args...]) → obj </span> </div> <div class="method-description"> <p>Invokes the method identified by <em>symbol</em>, passing it any arguments specified. Unlike send, <a href="../object/#method-i-public_send">#public_send</a> calls public methods only. When the method is identified by a string, the string is converted to a symbol.</p> <pre class="ruby" data-language="ruby">1.public_send(:puts, "hello")  # causes NoMethodError
</pre> <div class="method-source-code" id="public_send-source"> <pre class="c" data-language="c">VALUE
rb_f_public_send(int argc, VALUE *argv, VALUE recv)
{
    return send_internal(argc, argv, recv, CALL_PUBLIC);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-remove_instance_variable"> <span class="method-callseq"> remove_instance_variable(symbol) → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Removes the named instance variable from <em>obj</em>, returning that variable's value.</p> <pre class="ruby" data-language="ruby">class Dummy
  attr_reader :var
  def initialize
    @var = 99
  end
  def remove
    remove_instance_variable(:@var)
  end
end
d = Dummy.new
d.var      #=&gt; 99
d.remove   #=&gt; 99
d.var      #=&gt; nil
</pre> <div class="method-source-code" id="remove_instance_variable-source"> <pre class="c" data-language="c">VALUE
rb_obj_remove_instance_variable(VALUE obj, VALUE name)
{
    VALUE val = Qnil;
    const ID id = id_for_var(obj, name, an, instance);
    st_data_t n, v;
    struct st_table *iv_index_tbl;
    st_data_t index;

    rb_check_frozen(obj);
    if (!id) {
	goto not_defined;
    }

    switch (BUILTIN_TYPE(obj)) {
      case T_OBJECT:
        iv_index_tbl = ROBJECT_IV_INDEX_TBL(obj);
        if (!iv_index_tbl) break;
        if (!st_lookup(iv_index_tbl, (st_data_t)id, &amp;index)) break;
        if (ROBJECT_NUMIV(obj) &lt;= (long)index) break;
        val = ROBJECT_IVPTR(obj)[index];
        if (val != Qundef) {
            ROBJECT_IVPTR(obj)[index] = Qundef;
            return val;
        }
	break;
      case T_CLASS:
      case T_MODULE:
	n = id;
	if (RCLASS_IV_TBL(obj) &amp;&amp; st_delete(RCLASS_IV_TBL(obj), &amp;n, &amp;v)) {
	    return (VALUE)v;
	}
	break;
      default:
	if (FL_TEST(obj, FL_EXIVAR)) {
	    if (generic_ivar_remove(obj, id, &amp;val)) {
		return val;
	    }
	}
	break;
    }

  not_defined:
    rb_name_err_raise("instance variable %1$s not defined",
		      obj, name);
    UNREACHABLE;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-respond_to-3F"> <span class="method-callseq"> respond_to?(symbol, include_all=false) → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> respond_to?(string, include_all=false) → true or false </span> </div> <div class="method-description"> <p>Returns <code>true</code> if <em>obj</em> responds to the given method. Private and protected methods are included in the search only if the optional second parameter evaluates to <code>true</code>.</p> <p>If the method is not implemented, as <a href="../process/#method-c-fork">Process.fork</a> on Windows, <a href="../file/#method-c-lchmod">File.lchmod</a> on GNU/Linux, etc., false is returned.</p> <p>If the method is not defined, <code>respond_to_missing?</code> method is called and the result is returned.</p> <p>When the method name parameter is given as a string, the string is converted to a symbol.</p> <div class="method-source-code" id="respond_to-3F-source"> <pre class="c" data-language="c">static VALUE
obj_respond_to(int argc, VALUE *argv, VALUE obj)
{
    VALUE mid, priv;
    ID id;
    rb_thread_t *th = GET_THREAD();

    rb_scan_args(argc, argv, "11", &amp;mid, &amp;priv);
    if (!(id = rb_check_id(&amp;mid))) {
        VALUE ret = basic_obj_respond_to_missing(th, CLASS_OF(obj), obj,
                                                 rb_to_symbol(mid), priv);
        if (ret == Qundef) ret = Qfalse;
        return ret;
    }
    if (basic_obj_respond_to(th, obj, id, !RTEST(priv)))
        return Qtrue;
    return Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-respond_to_missing-3F"> <span class="method-callseq"> respond_to_missing?(symbol, include_all) → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> respond_to_missing?(string, include_all) → true or false </span> </div> <div class="method-description"> <p>DO NOT USE THIS DIRECTLY.</p> <p>Hook method to return whether the <em>obj</em> can respond to <em>id</em> method or not.</p> <p>When the method name parameter is given as a string, the string is converted to a symbol.</p> <p>See <a href="../object/#method-i-respond_to-3F">respond_to?</a>, and the example of <a href="../basicobject/">BasicObject</a>.</p> <div class="method-source-code" id="respond_to_missing-3F-source"> <pre class="c" data-language="c">static VALUE
obj_respond_to_missing(VALUE obj, VALUE mid, VALUE priv)
{
    return Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-send"> <span class="method-callseq"> send(symbol [, args...]) → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> __send__(symbol [, args...]) → obj </span> </div> <div class="method-heading"> <span class="method-callseq"> send(string [, args...]) → obj </span> </div> <div class="method-heading"> <span class="method-callseq"> __send__(string [, args...]) → obj </span> </div> <div class="method-description"> <p>Invokes the method identified by <em>symbol</em>, passing it any arguments specified. You can use <code>__send__</code> if the name <code>send</code> clashes with an existing method in <em>obj</em>. When the method is identified by a string, the string is converted to a symbol.</p> <pre class="ruby" data-language="ruby">class Klass
  def hello(*args)
    "Hello " + args.join(' ')
  end
end
k = Klass.new
k.send :hello, "gentle", "readers"   #=&gt; "Hello gentle readers"
</pre> <div class="method-source-code" id="send-source"> <pre class="c" data-language="c">VALUE
rb_f_send(int argc, VALUE *argv, VALUE recv)
{
    return send_internal(argc, argv, recv, CALL_FCALL);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-singleton_class"> <span class="method-callseq"> singleton_class → class </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns the singleton class of <em>obj</em>. This method creates a new singleton class if <em>obj</em> does not have one.</p> <p>If <em>obj</em> is <code>nil</code>, <code>true</code>, or <code>false</code>, it returns <a href="../nilclass/">NilClass</a>, <a href="../trueclass/">TrueClass</a>, or <a href="../falseclass/">FalseClass</a>, respectively. If <em>obj</em> is a <a href="../fixnum/">Fixnum</a> or a <a href="../symbol/">Symbol</a>, it raises a <a href="../typeerror/">TypeError</a>.</p> <pre class="ruby" data-language="ruby">Object.new.singleton_class  #=&gt; #&lt;Class:#&lt;Object:0xb7ce1e24&gt;&gt;
String.singleton_class      #=&gt; #&lt;Class:String&gt;
nil.singleton_class         #=&gt; NilClass
</pre> <div class="method-source-code" id="singleton_class-source"> <pre class="c" data-language="c">static VALUE
rb_obj_singleton_class(VALUE obj)
{
    return rb_singleton_class(obj);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-singleton_method"> <span class="method-callseq"> singleton_method(sym) → method </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Similar to <em>method</em>, searches singleton method only.</p> <pre class="ruby" data-language="ruby">class Demo
  def initialize(n)
    @iv = n
  end
  def hello()
    "Hello, @iv = #{@iv}"
  end
end

k = Demo.new(99)
def k.hi
  "Hi, @iv = #{@iv}"
end
m = k.singleton_method(:hi)
m.call   #=&gt; "Hi, @iv = 99"
m = k.singleton_method(:hello) #=&gt; NameError
</pre> <div class="method-source-code" id="singleton_method-source"> <pre class="c" data-language="c">VALUE
rb_obj_singleton_method(VALUE obj, VALUE vid)
{
    const rb_method_entry_t *me;
    VALUE klass;
    ID id = rb_check_id(&amp;vid);

    if (!id) {
        if (!NIL_P(klass = rb_singleton_class_get(obj)) &amp;&amp;
            respond_to_missing_p(klass, obj, vid, FALSE)) {
            id = rb_intern_str(vid);
            return mnew_missing(klass, obj, id, id, rb_cMethod);
        }
      undef:
        rb_name_err_raise("undefined singleton method `%1$s' for `%2$s'",
                          obj, vid);
    }
    if (NIL_P(klass = rb_singleton_class_get(obj)) ||
        UNDEFINED_METHOD_ENTRY_P(me = rb_method_entry_at(klass, id)) ||
        UNDEFINED_REFINED_METHOD_P(me-&gt;def)) {
        vid = ID2SYM(id);
        goto undef;
    }
    return mnew_from_me(me, klass, obj, id, rb_cMethod, FALSE);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-singleton_methods"> <span class="method-callseq"> singleton_methods(all=true) → array </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns an array of the names of singleton methods for <em>obj</em>. If the optional <em>all</em> parameter is true, the list will include methods in modules included in <em>obj</em>. Only public and protected singleton methods are returned.</p> <pre class="ruby" data-language="ruby">module Other
  def three() end
end

class Single
  def Single.four() end
end

a = Single.new

def a.one()
end

class &lt;&lt; a
  include Other
  def two()
  end
end

Single.singleton_methods    #=&gt; [:four]
a.singleton_methods(false)  #=&gt; [:two, :one]
a.singleton_methods         #=&gt; [:two, :one, :three]
</pre> <div class="method-source-code" id="singleton_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_singleton_methods(int argc, const VALUE *argv, VALUE obj)
{
    VALUE recur, ary, klass, origin;
    struct method_entry_arg me_arg;
    struct rb_id_table *mtbl;

    if (argc == 0) {
	recur = Qtrue;
    }
    else {
	rb_scan_args(argc, argv, "01", &amp;recur);
    }
    klass = CLASS_OF(obj);
    origin = RCLASS_ORIGIN(klass);
    me_arg.list = st_init_numtable();
    me_arg.recur = RTEST(recur);
    if (klass &amp;&amp; FL_TEST(klass, FL_SINGLETON)) {
	if ((mtbl = RCLASS_M_TBL(origin)) != 0) rb_id_table_foreach(mtbl, method_entry_i, &amp;me_arg);
	klass = RCLASS_SUPER(klass);
    }
    if (RTEST(recur)) {
	while (klass &amp;&amp; (FL_TEST(klass, FL_SINGLETON) || RB_TYPE_P(klass, T_ICLASS))) {
	    if (klass != origin &amp;&amp; (mtbl = RCLASS_M_TBL(klass)) != 0) rb_id_table_foreach(mtbl, method_entry_i, &amp;me_arg);
	    klass = RCLASS_SUPER(klass);
	}
    }
    ary = rb_ary_new();
    st_foreach(me_arg.list, ins_methods_i, ary);
    st_free_table(me_arg.list);

    return ary;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-sysread"> <span class="method-name">sysread</span><span class="method-args">(io, size)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>frozen_string_literal: false</p> <p>cgi_runner.rb – <a href="../cgi/">CGI</a> launcher.</p> <p>Author: IPR – Internet Programming with Ruby – writers Copyright © 2000 TAKAHASHI Masayoshi, GOTOU YUUZOU Copyright © 2002 Internet Programming with Ruby writers. All rights reserved.</p> <p>$IPR: cgi_runner.rb,v 1.9 2002/09/25 11:33:15 gotoyuzo Exp $</p> <div class="method-source-code" id="sysread-source"> <pre class="ruby" data-language="ruby"># File lib/webrick/httpservlet/cgi_runner.rb, line 12
def sysread(io, size)
  buf = ""
  while size &gt; 0
    tmp = io.sysread(size)
    buf &lt;&lt; tmp
    size -= tmp.bytesize
  end
  return buf
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-taint"> <span class="method-callseq"> taint → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Mark the object as tainted.</p> <p>Objects that are marked as tainted will be restricted from various built-in methods. This is to prevent insecure data, such as command-line arguments or strings read from <a href="../kernel/#method-i-gets">Kernel#gets</a>, from inadvertently compromising the user's system.</p> <p>To check whether an object is tainted, use <a href="../object/#method-i-tainted-3F">tainted?</a>.</p> <p>You should only untaint a tainted object if your code has inspected it and determined that it is safe. To do so use <a href="../object/#method-i-untaint">untaint</a>.</p> <div class="method-source-code" id="taint-source"> <pre class="c" data-language="c">VALUE
rb_obj_taint(VALUE obj)
{
    if (!OBJ_TAINTED(obj) &amp;&amp; OBJ_TAINTABLE(obj)) {
        rb_check_frozen(obj);
        OBJ_TAINT(obj);
    }
    return obj;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-tainted-3F"> <span class="method-callseq"> tainted? → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns true if the object is tainted.</p> <p>See <a href="../object/#method-i-taint">taint</a> for more information.</p> <div class="method-source-code" id="tainted-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_tainted(VALUE obj)
{
    if (OBJ_TAINTED(obj))
        return Qtrue;
    return Qfalse;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-tap"> <span class="method-callseq"> tap{|x|...} → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Yields self to the block, and then returns self. The primary purpose of this method is to “tap into” a method chain, in order to perform operations on intermediate results within the chain.</p> <pre class="ruby" data-language="ruby">(1..10)                .tap {|x| puts "original: #{x.inspect}"}
  .to_a                .tap {|x| puts "array: #{x.inspect}"}
  .select {|x| x%2==0} .tap {|x| puts "evens: #{x.inspect}"}
  .map {|x| x*x}       .tap {|x| puts "squares: #{x.inspect}"}
</pre> <div class="method-source-code" id="tap-source"> <pre class="c" data-language="c">VALUE
rb_obj_tap(VALUE obj)
{
    rb_yield(obj);
    return obj;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-timeout"> <span class="method-name">timeout</span><span class="method-args">(*args, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <div class="method-source-code" id="timeout-source"> <pre class="ruby" data-language="ruby"># File lib/timeout.rb, line 118
def timeout(*args, &amp;block)
  warn "#{caller_locations(1, 1)[0]}: Object##{__method__} is deprecated, use Timeout.timeout instead."
  Timeout.timeout(*args, &amp;block)
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_enum"> <span class="method-callseq"> to_enum(method = :each, *args) → enum </span> <a class="method-click-advice">Show source</a> </div> <div class="method-heading"> <span class="method-callseq"> to_enum(method = :each, *args) {|*args| block} → enum </span> </div> <div class="method-description"> <p>Creates a new <a href="../enumerator/">Enumerator</a> which will enumerate by calling <code>method</code> on <code>obj</code>, passing <code>args</code> if any.</p> <p>If a block is given, it will be used to calculate the size of the enumerator without the need to iterate it (see <a href="../enumerator/#method-i-size">Enumerator#size</a>).</p> <h3 id="method-i-to_enum-label-Examples">Examples</h3> <pre class="ruby" data-language="ruby">str = "xyz"

enum = str.enum_for(:each_byte)
enum.each { |b| puts b }
# =&gt; 120
# =&gt; 121
# =&gt; 122

# protect an array from being modified by some_method
a = [1, 2, 3]
some_method(a.to_enum)
</pre> <p>It is typical to call <a href="../object/#method-i-to_enum">#to_enum</a> when defining methods for a generic <a href="../enumerable/">Enumerable</a>, in case no block is passed.</p> <p>Here is such an example, with parameter passing and a sizing block:</p> <pre class="ruby" data-language="ruby">module Enumerable
  # a generic method to repeat the values of any enumerable
  def repeat(n)
    raise ArgumentError, "#{n} is negative!" if n &lt; 0
    unless block_given?
      return to_enum(__method__, n) do # __method__ is :repeat here
        sz = size     # Call size and multiply by n...
        sz * n if sz  # but return nil if size itself is nil
      end
    end
    each do |*val|
      n.times { yield *val }
    end
  end
end

%[hello world].repeat(2) { |w| puts w }
  # =&gt; Prints 'hello', 'hello', 'world', 'world'
enum = (1..14).repeat(3)
  # =&gt; returns an Enumerator when called without a block
enum.first(4) # =&gt; [1, 1, 1, 2]
enum.size # =&gt; 42
</pre> <div class="method-source-code" id="to_enum-source"> <pre class="c" data-language="c">static VALUE
obj_to_enum(int argc, VALUE *argv, VALUE obj)
{
    VALUE enumerator, meth = sym_each;

    if (argc &gt; 0) {
        --argc;
        meth = *argv++;
    }
    enumerator = rb_enumeratorize_with_size(obj, meth, argc, argv, 0);
    if (rb_block_given_p()) {
        enumerator_ptr(enumerator)-&gt;size = rb_block_proc();
    }
    return enumerator;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_s"> <span class="method-callseq"> to_s → string </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns a string representing <em>obj</em>. The default <code>to_s</code> prints the object's class and an encoding of the object id. As a special case, the top-level object that is the initial execution context of Ruby programs returns “main''.</p> <div class="method-source-code" id="to_s-source"> <pre class="c" data-language="c">VALUE
rb_any_to_s(VALUE obj)
{
    VALUE str;
    VALUE cname = rb_class_name(CLASS_OF(obj));

    str = rb_sprintf("#&lt;%"PRIsVALUE":%p&gt;", cname, (void*)obj);
    OBJ_INFECT(str, obj);

    return str;
}</pre> </div> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-to_yaml"> <span class="method-name">to_yaml</span><span class="method-args">(options = {})</span> </div>  <div class="aliases"> Alias for: <a href="../object/#method-i-psych_to_yaml">psych_to_yaml</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-trust"> <span class="method-callseq"> trust → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Deprecated method that is equivalent to <a href="../object/#method-i-untaint">untaint</a>.</p> <div class="method-source-code" id="trust-source"> <pre class="c" data-language="c">VALUE
rb_obj_trust(VALUE obj)
{
    rb_warning("trust is deprecated and its behavior is same as untaint");
    return rb_obj_untaint(obj);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-unknown"> <span class="method-name">unknown</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <h1 id="method-i-unknown-label-mathn">mathn</h1> <p>mathn serves to make mathematical operations more precise in Ruby and to integrate other mathematical standard libraries.</p> <p>Without mathn:</p> <pre>3 / 2 =&gt; 1 # Integer</pre> <p>With mathn:</p> <pre>3 / 2 =&gt; 3/2 # Rational</pre> <p>mathn keeps value in exact terms.</p> <p>Without mathn:</p> <pre class="ruby" data-language="ruby">20 / 9 * 3 * 14 / 7 * 3 / 2 # =&gt; 18
</pre> <p>With mathn:</p> <pre class="ruby" data-language="ruby">20 / 9 * 3 * 14 / 7 * 3 / 2 # =&gt; 20
</pre> <p>When you require 'mathn', the libraries for <a href="../prime/">Prime</a>, <a href="../cmath/">CMath</a>, <a href="../matrix/">Matrix</a> and <a href="../vector/">Vector</a> are also loaded.</p> <h2 id="method-i-unknown-label-Copyright">Copyright</h2> <p>Author: Keiju ISHITSUKA (SHL Japan Inc.)</p> <div class="method-source-code" id="unknown-source"> <pre class="ruby" data-language="ruby"># File lib/mathn.rb, line 41
warn('lib/mathn.rb is deprecated') if $VERBOSE
</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-untaint"> <span class="method-callseq"> untaint → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Removes the tainted mark from the object.</p> <p>See <a href="../object/#method-i-taint">taint</a> for more information.</p> <div class="method-source-code" id="untaint-source"> <pre class="c" data-language="c">VALUE
rb_obj_untaint(VALUE obj)
{
    if (OBJ_TAINTED(obj)) {
        rb_check_frozen(obj);
        FL_UNSET(obj, FL_TAINT);
    }
    return obj;
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-untrust"> <span class="method-callseq"> untrust → obj </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Deprecated method that is equivalent to <a href="../object/#method-i-taint">taint</a>.</p> <div class="method-source-code" id="untrust-source"> <pre class="c" data-language="c">VALUE
rb_obj_untrust(VALUE obj)
{
    rb_warning("untrust is deprecated and its behavior is same as taint");
    return rb_obj_taint(obj);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-untrusted-3F"> <span class="method-callseq"> untrusted? → true or false </span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Deprecated method that is equivalent to <a href="../object/#method-i-tainted-3F">tainted?</a>.</p> <div class="method-source-code" id="untrusted-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_untrusted(VALUE obj)
{
    rb_warning("untrusted? is deprecated and its behavior is same as tainted?");
    return rb_obj_tainted(obj);
}</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-xmp"> <span class="method-name">xmp</span><span class="method-args">(exps, bind = nil)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>A convenience method that's only available when the you require the IRB::XMP standard library.</p> <p>Creates a new <span>XMP</span> object, using the given expressions as the <code>exps</code> parameter, and optional binding as <code>bind</code> or uses the top-level binding. Then evaluates the given expressions using the <code>:XMP</code> prompt mode.</p> <p>For example:</p> <pre class="ruby" data-language="ruby">require 'irb/xmp'
ctx = binding
xmp 'foo = "bar"', ctx
#=&gt; foo = "bar"
  #==&gt;"bar"
ctx.eval 'foo'
#=&gt; "bar"
</pre> <p>See <span>XMP.new</span> for more information.</p> <div class="method-source-code" id="xmp-source"> <pre class="ruby" data-language="ruby"># File lib/irb/xmp.rb, line 165
def xmp(exps, bind = nil)
  bind = IRB::Frame.top(1) unless bind
  xmp = XMP.new(bind)
  xmp.puts exps
  xmp
end</pre> </div> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2016 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
