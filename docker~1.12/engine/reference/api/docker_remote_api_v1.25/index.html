
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Remote API v1.25 (Engine) - Docker 1.12 - W3cubDocs</title>
  
  <meta name="description" content="The Remote API uses standard HTTP status codes to indicate the success or failure of the API call. The body of the response will be JSON in the &hellip;">
  <meta name="keywords" content="docker, remote, api, brief, introduction, errors, endpoints, going, further, engine, -, docker~1.12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/docker~1.12/engine/reference/api/docker_remote_api_v1.25/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/docker~1.12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~1.12/" class="_nav-link" title="" style="margin-left:0;">Docker 1.12</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _docker">
				
<h1 id="docker-remote-api-v1-25">Docker Remote API v1.25</h1> <h1 id="1-brief-introduction">1. Brief introduction</h1> <ul> <li>The Remote API has replaced <code>rcli</code>.</li> <li>The daemon listens on <code>unix:///var/run/docker.sock</code> but you can <a href="../../commandline/dockerd/#bind-docker-to-another-host-port-or-a-unix-socket">Bind Docker to another host/port or a Unix socket</a>.</li> <li>The API tends to be REST. However, for some complex commands, like <code>attach</code> or <code>pull</code>, the HTTP connection is hijacked to transport <code>stdout</code>, <code>stdin</code> and <code>stderr</code>.</li> <li>When the client API version is newer than the daemon’s, these calls return an HTTP <code>400 Bad Request</code> error message.</li> </ul> <h1 id="2-errors">2. Errors</h1> <p>The Remote API uses standard HTTP status codes to indicate the success or failure of the API call. The body of the response will be JSON in the following format:</p> <pre>{
    "message": "page not found"
}
</pre> <p>The status codes that are returned for each endpoint are specified in the endpoint documentation below.</p> <h1 id="3-endpoints">3. Endpoints</h1> <h2 id="3-1-containers">3.1 Containers</h2> <h3 id="list-containers">List containers</h3> <p><code>GET /containers/json</code></p> <p>List containers</p> <p><strong>Example request</strong>:</p> <pre>GET /containers/json?all=1&amp;before=8dfafdbc3a40&amp;size=1 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
     {
             "Id": "8dfafdbc3a40",
             "Names":["/boring_feynman"],
             "Image": "ubuntu:latest",
             "ImageID": "d74508fb6632491cea586a1fd7d748dfc5274cd6fdfedee309ecdcbc2bf5cb82",
             "Command": "echo 1",
             "Created": 1367854155,
             "State": "Exited",
             "Status": "Exit 0",
             "Ports": [{"PrivatePort": 2222, "PublicPort": 3333, "Type": "tcp"}],
             "Labels": {
                     "com.example.vendor": "Acme",
                     "com.example.license": "GPL",
                     "com.example.version": "1.0"
             },
             "SizeRw": 12288,
             "SizeRootFs": 0,
             "HostConfig": {
                     "NetworkMode": "default"
             },
             "NetworkSettings": {
                     "Networks": {
                             "bridge": {
                                      "IPAMConfig": null,
                                      "Links": null,
                                      "Aliases": null,
                                      "NetworkID": "7ea29fc1412292a2d7bba362f9253545fecdfa8ce9a6e37dd10ba8bee7129812",
                                      "EndpointID": "2cdc4edb1ded3631c81f57966563e5c8525b81121bb3706a9a9a3ae102711f3f",
                                      "Gateway": "172.17.0.1",
                                      "IPAddress": "172.17.0.2",
                                      "IPPrefixLen": 16,
                                      "IPv6Gateway": "",
                                      "GlobalIPv6Address": "",
                                      "GlobalIPv6PrefixLen": 0,
                                      "MacAddress": "02:42:ac:11:00:02"
                              }
                     }
             },
             "Mounts": [
                     {
                              "Name": "fac362...80535",
                              "Source": "/data",
                              "Destination": "/data",
                              "Driver": "local",
                              "Mode": "ro,Z",
                              "RW": false,
                              "Propagation": ""
                     }
             ]
     },
     {
             "Id": "9cd87474be90",
             "Names":["/coolName"],
             "Image": "ubuntu:latest",
             "ImageID": "d74508fb6632491cea586a1fd7d748dfc5274cd6fdfedee309ecdcbc2bf5cb82",
             "Command": "echo 222222",
             "Created": 1367854155,
             "State": "Exited",
             "Status": "Exit 0",
             "Ports": [],
             "Labels": {},
             "SizeRw": 12288,
             "SizeRootFs": 0,
             "HostConfig": {
                     "NetworkMode": "default"
             },
             "NetworkSettings": {
                     "Networks": {
                             "bridge": {
                                      "IPAMConfig": null,
                                      "Links": null,
                                      "Aliases": null,
                                      "NetworkID": "7ea29fc1412292a2d7bba362f9253545fecdfa8ce9a6e37dd10ba8bee7129812",
                                      "EndpointID": "88eaed7b37b38c2a3f0c4bc796494fdf51b270c2d22656412a2ca5d559a64d7a",
                                      "Gateway": "172.17.0.1",
                                      "IPAddress": "172.17.0.8",
                                      "IPPrefixLen": 16,
                                      "IPv6Gateway": "",
                                      "GlobalIPv6Address": "",
                                      "GlobalIPv6PrefixLen": 0,
                                      "MacAddress": "02:42:ac:11:00:08"
                              }
                     }
             },
             "Mounts": []
     },
     {
             "Id": "3176a2479c92",
             "Names":["/sleepy_dog"],
             "Image": "ubuntu:latest",
             "ImageID": "d74508fb6632491cea586a1fd7d748dfc5274cd6fdfedee309ecdcbc2bf5cb82",
             "Command": "echo 3333333333333333",
             "Created": 1367854154,
             "State": "Exited",
             "Status": "Exit 0",
             "Ports":[],
             "Labels": {},
             "SizeRw":12288,
             "SizeRootFs":0,
             "HostConfig": {
                     "NetworkMode": "default"
             },
             "NetworkSettings": {
                     "Networks": {
                             "bridge": {
                                      "IPAMConfig": null,
                                      "Links": null,
                                      "Aliases": null,
                                      "NetworkID": "7ea29fc1412292a2d7bba362f9253545fecdfa8ce9a6e37dd10ba8bee7129812",
                                      "EndpointID": "8b27c041c30326d59cd6e6f510d4f8d1d570a228466f956edf7815508f78e30d",
                                      "Gateway": "172.17.0.1",
                                      "IPAddress": "172.17.0.6",
                                      "IPPrefixLen": 16,
                                      "IPv6Gateway": "",
                                      "GlobalIPv6Address": "",
                                      "GlobalIPv6PrefixLen": 0,
                                      "MacAddress": "02:42:ac:11:00:06"
                              }
                     }
             },
             "Mounts": []
     },
     {
             "Id": "4cb07b47f9fb",
             "Names":["/running_cat"],
             "Image": "ubuntu:latest",
             "ImageID": "d74508fb6632491cea586a1fd7d748dfc5274cd6fdfedee309ecdcbc2bf5cb82",
             "Command": "echo 444444444444444444444444444444444",
             "Created": 1367854152,
             "State": "Exited",
             "Status": "Exit 0",
             "Ports": [],
             "Labels": {},
             "SizeRw": 12288,
             "SizeRootFs": 0,
             "HostConfig": {
                     "NetworkMode": "default"
             },
             "NetworkSettings": {
                     "Networks": {
                             "bridge": {
                                      "IPAMConfig": null,
                                      "Links": null,
                                      "Aliases": null,
                                      "NetworkID": "7ea29fc1412292a2d7bba362f9253545fecdfa8ce9a6e37dd10ba8bee7129812",
                                      "EndpointID": "d91c7b2f0644403d7ef3095985ea0e2370325cd2332ff3a3225c4247328e66e9",
                                      "Gateway": "172.17.0.1",
                                      "IPAddress": "172.17.0.5",
                                      "IPPrefixLen": 16,
                                      "IPv6Gateway": "",
                                      "GlobalIPv6Address": "",
                                      "GlobalIPv6PrefixLen": 0,
                                      "MacAddress": "02:42:ac:11:00:05"
                              }
                     }
             },
             "Mounts": []
     }
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>all</strong> – 1/True/true or 0/False/false, Show all containers. Only running containers are shown by default (i.e., this defaults to false)</li> <li>
<strong>limit</strong> – Show <code>limit</code> last created containers, include non-running ones.</li> <li>
<strong>since</strong> – Show only containers created since Id, include non-running ones.</li> <li>
<strong>before</strong> – Show only containers created before Id, include non-running ones.</li> <li>
<strong>size</strong> – 1/True/true or 0/False/false, Show the containers sizes</li> <li>
<strong>filters</strong> - a JSON encoded value of the filters (a <code>map[string][]string</code>) to process on the containers list. Available filters: <ul> <li>
<code>exited=&lt;int&gt;</code>; -- containers with exit code of <code>&lt;int&gt;</code> ;</li> <li>
<code>status=</code>(<code>created</code>|<code>restarting</code>|<code>running</code>|<code>paused</code>|<code>exited</code>|<code>dead</code>)</li> <li>
<code>label=key</code> or <code>label="key=value"</code> of a container label</li> <li>
<code>isolation=</code>(<code>default</code>|<code>process</code>|<code>hyperv</code>) (Windows daemon only)</li> <li>
<code>ancestor</code>=(<code>&lt;image-name&gt;[:&lt;tag&gt;]</code>, <code>&lt;image id&gt;</code> or <code>&lt;image@digest&gt;</code>)</li> <li>
<code>before</code>=(<code>&lt;container id&gt;</code> or <code>&lt;container name&gt;</code>)</li> <li>
<code>since</code>=(<code>&lt;container id&gt;</code> or <code>&lt;container name&gt;</code>)</li> <li>
<code>volume</code>=(<code>&lt;volume name&gt;</code> or <code>&lt;mount point destination&gt;</code>)</li> <li>
<code>network</code>=(<code>&lt;network id&gt;</code> or <code>&lt;network name&gt;</code>)</li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="create-a-container">Create a container</h3> <p><code>POST /containers/create</code></p> <p>Create a container</p> <p><strong>Example request</strong>:</p> <pre>POST /containers/create HTTP/1.1
Content-Type: application/json

{
       "Hostname": "",
       "Domainname": "",
       "User": "",
       "AttachStdin": false,
       "AttachStdout": true,
       "AttachStderr": true,
       "Tty": false,
       "OpenStdin": false,
       "StdinOnce": false,
       "Env": [
               "FOO=bar",
               "BAZ=quux"
       ],
       "Cmd": [
               "date"
       ],
       "Entrypoint": "",
       "Image": "ubuntu",
       "Labels": {
               "com.example.vendor": "Acme",
               "com.example.license": "GPL",
               "com.example.version": "1.0"
       },
       "Volumes": {
         "/volumes/data": {}
       },
       "WorkingDir": "",
       "NetworkDisabled": false,
       "MacAddress": "12:34:56:78:9a:bc",
       "ExposedPorts": {
               "22/tcp": {}
       },
       "StopSignal": "SIGTERM",
       "HostConfig": {
         "Binds": ["/tmp:/tmp"],
         "Links": ["redis3:redis"],
         "Memory": 0,
         "MemorySwap": 0,
         "MemoryReservation": 0,
         "KernelMemory": 0,
         "CpuPercent": 80,
         "CpuShares": 512,
         "CpuPeriod": 100000,
         "CpuQuota": 50000,
         "CpusetCpus": "0,1",
         "CpusetMems": "0,1",
         "MaximumIOps": 0,
         "MaximumIOBps": 0,
         "BlkioWeight": 300,
         "BlkioWeightDevice": [{}],
         "BlkioDeviceReadBps": [{}],
         "BlkioDeviceReadIOps": [{}],
         "BlkioDeviceWriteBps": [{}],
         "BlkioDeviceWriteIOps": [{}],
         "MemorySwappiness": 60,
         "OomKillDisable": false,
         "OomScoreAdj": 500,
         "PidMode": "",
         "PidsLimit": -1,
         "PortBindings": { "22/tcp": [{ "HostPort": "11022" }] },
         "PublishAllPorts": false,
         "Privileged": false,
         "ReadonlyRootfs": false,
         "Dns": ["8.8.8.8"],
         "DnsOptions": [""],
         "DnsSearch": [""],
         "ExtraHosts": null,
         "VolumesFrom": ["parent", "other:ro"],
         "CapAdd": ["NET_ADMIN"],
         "CapDrop": ["MKNOD"],
         "GroupAdd": ["newgroup"],
         "RestartPolicy": { "Name": "", "MaximumRetryCount": 0 },
         "AutoRemove": true,
         "NetworkMode": "bridge",
         "Devices": [],
         "Ulimits": [{}],
         "LogConfig": { "Type": "json-file", "Config": {} },
         "SecurityOpt": [],
         "StorageOpt": {},
         "CgroupParent": "",
         "VolumeDriver": "",
         "ShmSize": 67108864
      },
      "NetworkingConfig": {
          "EndpointsConfig": {
              "isolated_nw" : {
                  "IPAMConfig": {
                      "IPv4Address":"172.20.30.33",
                      "IPv6Address":"2001:db8:abcd::3033",
                      "LinkLocalIPs":["169.254.34.68", "fe80::3468"]
                  },
                  "Links":["container_1", "container_2"],
                  "Aliases":["server_x", "server_y"]
              }
          }
      }
  }
</pre> <p><strong>Example response</strong>:</p> <pre>  HTTP/1.1 201 Created
  Content-Type: application/json

  {
       "Id":"e90e34656806",
       "Warnings":[]
  }
</pre> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>Hostname</strong> - A string value containing the hostname to use for the container. This must be a valid RFC 1123 hostname.</li> <li>
<strong>Domainname</strong> - A string value containing the domain name to use for the container.</li> <li>
<strong>User</strong> - A string value specifying the user inside the container.</li> <li>
<strong>AttachStdin</strong> - Boolean value, attaches to <code>stdin</code>.</li> <li>
<strong>AttachStdout</strong> - Boolean value, attaches to <code>stdout</code>.</li> <li>
<strong>AttachStderr</strong> - Boolean value, attaches to <code>stderr</code>.</li> <li>
<strong>Tty</strong> - Boolean value, Attach standard streams to a <code>tty</code>, including <code>stdin</code> if it is not closed.</li> <li>
<strong>OpenStdin</strong> - Boolean value, opens <code>stdin</code>,</li> <li>
<strong>StdinOnce</strong> - Boolean value, close <code>stdin</code> after the 1 attached client disconnects.</li> <li>
<strong>Env</strong> - A list of environment variables in the form of <code>["VAR=value"[,"VAR2=value2"]]</code>
</li> <li>
<strong>Labels</strong> - Adds a map of labels to a container. To specify a map: <code>{"key":"value"[,"key2":"value2"]}</code>
</li> <li>
<strong>Cmd</strong> - Command to run specified as a string or an array of strings.</li> <li>
<strong>Entrypoint</strong> - Set the entry point for the container as a string or an array of strings. If the array consists of exactly one empty string (<code>[""]</code>) then the entry point is reset to system default (i.e., the entry point used by docker when there is no <code>ENTRYPOINT</code> instruction in the Dockerfile).</li> <li>
<strong>Image</strong> - A string specifying the image name to use for the container.</li> <li>
<strong>Volumes</strong> - An object mapping mount point paths (strings) inside the container to empty objects.</li> <li>
<strong>WorkingDir</strong> - A string specifying the working directory for commands to run in.</li> <li>
<strong>NetworkDisabled</strong> - Boolean value, when true disables networking for the container</li> <li>
<strong>ExposedPorts</strong> - An object mapping ports to an empty object in the form of: <code>"ExposedPorts": { "&lt;port&gt;/&lt;tcp|udp&gt;: {}" }</code>
</li> <li>
<strong>StopSignal</strong> - Signal to stop a container as a string or unsigned integer. <code>SIGTERM</code> by default.</li> <li>
<strong>HostConfig</strong> <ul> <li>
<strong>Binds</strong> – A list of volume bindings for this container. Each volume binding is a string in one of these forms: <ul> <li>
<code>host_path:container_path</code> to bind-mount a host path into the container</li> <li>
<code>host_path:container_path:ro</code> to make the bind-mount read-only inside the container.</li> <li>
<code>volume_name:container_path</code> to bind-mount a volume managed by a volume plugin into the container.</li> <li>
<code>volume_name:container_path:ro</code> to make the bind mount read-only inside the container.</li> </ul>
</li> <li>
<strong>Links</strong> - A list of links for the container. Each link entry should be in the form of <code>container_name:alias</code>.</li> <li>
<strong>Memory</strong> - Memory limit in bytes.</li> <li>
<strong>MemorySwap</strong> - Total memory limit (memory + swap); set <code>-1</code> to enable unlimited swap. You must use this with <code>memory</code> and make the swap value larger than <code>memory</code>.</li> <li>
<strong>MemoryReservation</strong> - Memory soft limit in bytes.</li> <li>
<strong>KernelMemory</strong> - Kernel memory limit in bytes.</li> <li>
<strong>CpuPercent</strong> - An integer value containing the usable percentage of the available CPUs. (Windows daemon only)</li> <li>
<strong>CpuShares</strong> - An integer value containing the container’s CPU Shares (ie. the relative weight vs other containers).</li> <li>
<strong>CpuPeriod</strong> - The length of a CPU period in microseconds.</li> <li>
<strong>CpuQuota</strong> - Microseconds of CPU time that the container can get in a CPU period.</li> <li>
<strong>CpusetCpus</strong> - String value containing the <code>cgroups CpusetCpus</code> to use.</li> <li>
<strong>CpusetMems</strong> - Memory nodes (MEMs) in which to allow execution (0-3, 0,1). Only effective on NUMA systems.</li> <li>
<strong>MaximumIOps</strong> - Maximum IO absolute rate in terms of IOps.</li> <li>
<strong>MaximumIOBps</strong> - Maximum IO absolute rate in terms of bytes per second.</li> <li>
<strong>BlkioWeight</strong> - Block IO weight (relative weight) accepts a weight value between 10 and 1000.</li> <li>
<strong>BlkioWeightDevice</strong> - Block IO weight (relative device weight) in the form of: <code>"BlkioWeightDevice": [{"Path": "device_path", "Weight": weight}]</code>
</li> <li>
<strong>BlkioDeviceReadBps</strong> - Limit read rate (bytes per second) from a device in the form of: <code>"BlkioDeviceReadBps": [{"Path": "device_path", "Rate": rate}]</code>, for example: <code>"BlkioDeviceReadBps": [{"Path": "/dev/sda", "Rate": "1024"}]"</code>
</li> <li>
<strong>BlkioDeviceWriteBps</strong> - Limit write rate (bytes per second) to a device in the form of: <code>"BlkioDeviceWriteBps": [{"Path": "device_path", "Rate": rate}]</code>, for example: <code>"BlkioDeviceWriteBps": [{"Path": "/dev/sda", "Rate": "1024"}]"</code>
</li> <li>
<strong>BlkioDeviceReadIOps</strong> - Limit read rate (IO per second) from a device in the form of: <code>"BlkioDeviceReadIOps": [{"Path": "device_path", "Rate": rate}]</code>, for example: <code>"BlkioDeviceReadIOps": [{"Path": "/dev/sda", "Rate": "1000"}]</code>
</li> <li>
<strong>BlkioDeviceWiiteIOps</strong> - Limit write rate (IO per second) to a device in the form of: <code>"BlkioDeviceWriteIOps": [{"Path": "device_path", "Rate": rate}]</code>, for example: <code>"BlkioDeviceWriteIOps": [{"Path": "/dev/sda", "Rate": "1000"}]</code>
</li> <li>
<strong>MemorySwappiness</strong> - Tune a container’s memory swappiness behavior. Accepts an integer between 0 and 100.</li> <li>
<strong>OomKillDisable</strong> - Boolean value, whether to disable OOM Killer for the container or not.</li> <li>
<strong>OomScoreAdj</strong> - An integer value containing the score given to the container in order to tune OOM killer preferences.</li> <li>
<strong>PidMode</strong> - Set the PID (Process) Namespace mode for the container; <code>"container:&lt;name|id&gt;"</code>: joins another container’s PID namespace <code>"host"</code>: use the host’s PID namespace inside the container</li> <li>
<strong>PidsLimit</strong> - Tune a container’s pids limit. Set -1 for unlimited.</li> <li>
<strong>PortBindings</strong> - A map of exposed container ports and the host port they should map to. A JSON object in the form <code>{ &lt;port&gt;/&lt;protocol&gt;: [{ "HostPort": "&lt;port&gt;" }] }</code> Take note that <code>port</code> is specified as a string and not an integer value.</li> <li>
<strong>PublishAllPorts</strong> - Allocates a random host port for all of a container’s exposed ports. Specified as a boolean value.</li> <li>
<strong>Privileged</strong> - Gives the container full access to the host. Specified as a boolean value.</li> <li>
<strong>ReadonlyRootfs</strong> - Mount the container’s root filesystem as read only. Specified as a boolean value.</li> <li>
<strong>Dns</strong> - A list of DNS servers for the container to use.</li> <li>
<strong>DnsOptions</strong> - A list of DNS options</li> <li>
<strong>DnsSearch</strong> - A list of DNS search domains</li> <li>
<strong>ExtraHosts</strong> - A list of hostnames/IP mappings to add to the container’s <code>/etc/hosts</code> file. Specified in the form <code>["hostname:IP"]</code>.</li> <li>
<strong>VolumesFrom</strong> - A list of volumes to inherit from another container. Specified in the form <code>&lt;container name&gt;[:&lt;ro|rw&gt;]</code>
</li> <li>
<strong>CapAdd</strong> - A list of kernel capabilities to add to the container.</li> <li>
<strong>Capdrop</strong> - A list of kernel capabilities to drop from the container.</li> <li>
<strong>GroupAdd</strong> - A list of additional groups that the container process will run as</li> <li>
<strong>RestartPolicy</strong> – The behavior to apply when the container exits. The value is an object with a <code>Name</code> property of either <code>"always"</code> to always restart, <code>"unless-stopped"</code> to restart always except when user has manually stopped the container or <code>"on-failure"</code> to restart only when the container exit code is non-zero. If <code>on-failure</code> is used, <code>MaximumRetryCount</code> controls the number of times to retry before giving up. The default is not to restart. (optional) An ever increasing delay (double the previous delay, starting at 100mS) is added before each restart to prevent flooding the server.</li> <li>
<strong>AutoRemove</strong> - Boolean value, set to <code>true</code> to automatically remove the container on daemon side when the container’s process exits. Note that <code>RestartPolicy</code> other than <code>none</code> is exclusive to <code>AutoRemove</code>.</li> <li>
<strong>UsernsMode</strong> - Sets the usernamespace mode for the container when usernamespace remapping option is enabled. supported values are: <code>host</code>.</li> <li>
<strong>NetworkMode</strong> - Sets the networking mode for the container. Supported standard values are: <code>bridge</code>, <code>host</code>, <code>none</code>, and <code>container:&lt;name|id&gt;</code>. Any other value is taken as a custom network’s name to which this container should connect to.</li> <li>
<strong>Devices</strong> - A list of devices to add to the container specified as a JSON object in the form <code>{ "PathOnHost": "/dev/deviceName", "PathInContainer": "/dev/deviceName", "CgroupPermissions": "mrw"}</code>
</li> <li>
<strong>Ulimits</strong> - A list of ulimits to set in the container, specified as <code>{ "Name": &lt;name&gt;, "Soft": &lt;soft limit&gt;, "Hard": &lt;hard limit&gt; }</code>, for example: <code>Ulimits: { "Name": "nofile", "Soft": 1024, "Hard": 2048 }</code>
</li> <li>
<strong>Sysctls</strong> - A list of kernel parameters (sysctls) to set in the container, specified as <code>{ &lt;name&gt;: &lt;Value&gt; }</code>, for example: <code>{ "net.ipv4.ip_forward": "1" }</code>
</li> <li>
<strong>SecurityOpt</strong>: A list of string values to customize labels for MLS systems, such as SELinux.</li> <li>
<strong>StorageOpt</strong>: Storage driver options per container. Options can be passed in the form <code>{"size":"120G"}</code>
</li> <li>
<strong>LogConfig</strong> - Log configuration for the container, specified as a JSON object in the form <code>{ "Type": "&lt;driver_name&gt;", "Config": {"key1": "val1"}}</code>. Available types: <code>json-file</code>, <code>syslog</code>, <code>journald</code>, <code>gelf</code>, <code>fluentd</code>, <code>awslogs</code>, <code>splunk</code>, <code>etwlogs</code>, <code>none</code>. <code>json-file</code> logging driver.</li> <li>
<strong>CgroupParent</strong> - Path to <code>cgroups</code> under which the container’s <code>cgroup</code> is created. If the path is not absolute, the path is considered to be relative to the <code>cgroups</code> path of the init process. Cgroups are created if they do not already exist.</li> <li>
<strong>VolumeDriver</strong> - Driver that this container users to mount volumes.</li> <li>
<strong>ShmSize</strong> - Size of <code>/dev/shm</code> in bytes. The size must be greater than 0. If omitted the system uses 64MB.</li> </ul>
</li> </ul> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>name</strong> – Assign the specified name to the container. Must match <code>/?[a-zA-Z0-9_-]+</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>406</strong> – impossible to attach (container not running)</li> <li>
<strong>409</strong> – conflict</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="inspect-a-container">Inspect a container</h3> <p><code>GET /containers/(id or name)/json</code></p> <p>Return low-level information on the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>  GET /containers/4fa6e0f0c678/json HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
    "AppArmorProfile": "",
    "Args": [
        "-c",
        "exit 9"
    ],
    "Config": {
        "AttachStderr": true,
        "AttachStdin": false,
        "AttachStdout": true,
        "Cmd": [
            "/bin/sh",
            "-c",
            "exit 9"
        ],
        "Domainname": "",
        "Entrypoint": null,
        "Env": [
            "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
        ],
        "ExposedPorts": null,
        "Hostname": "ba033ac44011",
        "Image": "ubuntu",
        "Labels": {
            "com.example.vendor": "Acme",
            "com.example.license": "GPL",
            "com.example.version": "1.0"
        },
        "MacAddress": "",
        "NetworkDisabled": false,
        "OnBuild": null,
        "OpenStdin": false,
        "StdinOnce": false,
        "Tty": false,
        "User": "",
        "Volumes": {
            "/volumes/data": {}
        },
        "WorkingDir": "",
        "StopSignal": "SIGTERM"
    },
    "Created": "2015-01-06T15:47:31.485331387Z",
    "Driver": "devicemapper",
    "ExecIDs": null,
    "HostConfig": {
        "Binds": null,
        "MaximumIOps": 0,
        "MaximumIOBps": 0,
        "BlkioWeight": 0,
        "BlkioWeightDevice": [{}],
        "BlkioDeviceReadBps": [{}],
        "BlkioDeviceWriteBps": [{}],
        "BlkioDeviceReadIOps": [{}],
        "BlkioDeviceWriteIOps": [{}],
        "CapAdd": null,
        "CapDrop": null,
        "ContainerIDFile": "",
        "CpusetCpus": "",
        "CpusetMems": "",
        "CpuPercent": 80,
        "CpuShares": 0,
        "CpuPeriod": 100000,
        "Devices": [],
        "Dns": null,
        "DnsOptions": null,
        "DnsSearch": null,
        "ExtraHosts": null,
        "IpcMode": "",
        "Links": null,
        "LxcConf": [],
        "Memory": 0,
        "MemorySwap": 0,
        "MemoryReservation": 0,
        "KernelMemory": 0,
        "OomKillDisable": false,
        "OomScoreAdj": 500,
        "NetworkMode": "bridge",
        "PidMode": "",
        "PortBindings": {},
        "Privileged": false,
        "ReadonlyRootfs": false,
        "PublishAllPorts": false,
        "RestartPolicy": {
            "MaximumRetryCount": 2,
            "Name": "on-failure"
        },
        "AutoRemove": true,
        "LogConfig": {
            "Config": null,
            "Type": "json-file"
        },
        "SecurityOpt": null,
        "Sysctls": {
                "net.ipv4.ip_forward": "1"
        },
        "StorageOpt": null,
        "VolumesFrom": null,
        "Ulimits": [{}],
        "VolumeDriver": "",
        "ShmSize": 67108864
    },
    "HostnamePath": "/var/lib/docker/containers/ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39/hostname",
    "HostsPath": "/var/lib/docker/containers/ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39/hosts",
    "LogPath": "/var/lib/docker/containers/1eb5fabf5a03807136561b3c00adcd2992b535d624d5e18b6cdc6a6844d9767b/1eb5fabf5a03807136561b3c00adcd2992b535d624d5e18b6cdc6a6844d9767b-json.log",
    "Id": "ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39",
    "Image": "04c5d3b7b0656168630d3ba35d8889bd0e9caafcaeb3004d2bfbc47e7c5d35d2",
    "MountLabel": "",
    "Name": "/boring_euclid",
    "NetworkSettings": {
        "Bridge": "",
        "SandboxID": "",
        "HairpinMode": false,
        "LinkLocalIPv6Address": "",
        "LinkLocalIPv6PrefixLen": 0,
        "Ports": null,
        "SandboxKey": "",
        "SecondaryIPAddresses": null,
        "SecondaryIPv6Addresses": null,
        "EndpointID": "",
        "Gateway": "",
        "GlobalIPv6Address": "",
        "GlobalIPv6PrefixLen": 0,
        "IPAddress": "",
        "IPPrefixLen": 0,
        "IPv6Gateway": "",
        "MacAddress": "",
        "Networks": {
            "bridge": {
                "NetworkID": "7ea29fc1412292a2d7bba362f9253545fecdfa8ce9a6e37dd10ba8bee7129812",
                "EndpointID": "7587b82f0dada3656fda26588aee72630c6fab1536d36e394b2bfbcf898c971d",
                "Gateway": "172.17.0.1",
                "IPAddress": "172.17.0.2",
                "IPPrefixLen": 16,
                "IPv6Gateway": "",
                "GlobalIPv6Address": "",
                "GlobalIPv6PrefixLen": 0,
                "MacAddress": "02:42:ac:12:00:02"
            }
        }
    },
    "Path": "/bin/sh",
    "ProcessLabel": "",
    "ResolvConfPath": "/var/lib/docker/containers/ba033ac4401106a3b513bc9d639eee123ad78ca3616b921167cd74b20e25ed39/resolv.conf",
    "RestartCount": 1,
    "State": {
        "Error": "",
        "ExitCode": 9,
        "FinishedAt": "2015-01-06T15:47:32.080254511Z",
        "OOMKilled": false,
        "Dead": false,
        "Paused": false,
        "Pid": 0,
        "Restarting": false,
        "Running": true,
        "StartedAt": "2015-01-06T15:47:32.072697474Z",
        "Status": "running"
    },
    "Mounts": [
        {
            "Name": "fac362...80535",
            "Source": "/data",
            "Destination": "/data",
            "Driver": "local",
            "Mode": "ro,Z",
            "RW": false,
            "Propagation": ""
        }
    ]
}
</pre> <p><strong>Example request, with size information</strong>:</p> <pre>GET /containers/4fa6e0f0c678/json?size=1 HTTP/1.1
</pre> <p><strong>Example response, with size information</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
....
"SizeRw": 0,
"SizeRootFs": 972,
....
}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>size</strong> – 1/True/true or 0/False/false, return container size information. Default is <code>false</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="list-processes-running-inside-a-container">List processes running inside a container</h3> <p><code>GET /containers/(id or name)/top</code></p> <p>List processes running inside the container <code>id</code>. On Unix systems this is done by running the <code>ps</code> command. This endpoint is not supported on Windows.</p> <p><strong>Example request</strong>:</p> <pre>GET /containers/4fa6e0f0c678/top HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
   "Titles" : [
     "UID", "PID", "PPID", "C", "STIME", "TTY", "TIME", "CMD"
   ],
   "Processes" : [
     [
       "root", "13642", "882", "0", "17:03", "pts/0", "00:00:00", "/bin/bash"
     ],
     [
       "root", "13735", "13642", "0", "17:06", "pts/0", "00:00:00", "sleep 10"
     ]
   ]
}
</pre> <p><strong>Example request</strong>:</p> <pre>GET /containers/4fa6e0f0c678/top?ps_args=aux HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "Titles" : [
    "USER","PID","%CPU","%MEM","VSZ","RSS","TTY","STAT","START","TIME","COMMAND"
  ]
  "Processes" : [
    [
      "root","13642","0.0","0.1","18172","3184","pts/0","Ss","17:03","0:00","/bin/bash"
    ],
    [
      "root","13895","0.0","0.0","4348","692","pts/0","S+","17:15","0:00","sleep 10"
    ]
  ],
}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>ps_args</strong> – <code>ps</code> arguments to use (e.g., <code>aux</code>), defaults to <code>-ef</code>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="get-container-logs">Get container logs</h3> <p><code>GET /containers/(id or name)/logs</code></p> <p>Get <code>stdout</code> and <code>stderr</code> logs from the container <code>id</code></p> <blockquote> <p><strong>Note</strong>: This endpoint works only for containers with the <code>json-file</code> or <code>journald</code> logging drivers.</p> </blockquote> <p><strong>Example request</strong>:</p> <pre> GET /containers/4fa6e0f0c678/logs?stderr=1&amp;stdout=1&amp;timestamps=1&amp;follow=1&amp;tail=10&amp;since=1428990821 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre> HTTP/1.1 101 UPGRADED
 Content-Type: application/vnd.docker.raw-stream
 Connection: Upgrade
 Upgrade: tcp

 {{ STREAM }}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>details</strong> - 1/True/true or 0/False/flase, Show extra details provided to logs. Default <code>false</code>.</li> <li>
<strong>follow</strong> – 1/True/true or 0/False/false, return stream. Default <code>false</code>.</li> <li>
<strong>stdout</strong> – 1/True/true or 0/False/false, show <code>stdout</code> log. Default <code>false</code>.</li> <li>
<strong>stderr</strong> – 1/True/true or 0/False/false, show <code>stderr</code> log. Default <code>false</code>.</li> <li>
<strong>since</strong> – UNIX timestamp (integer) to filter logs. Specifying a timestamp will only output log-entries since that timestamp. Default: 0 (unfiltered)</li> <li>
<strong>timestamps</strong> – 1/True/true or 0/False/false, print timestamps for every log line. Default <code>false</code>.</li> <li>
<strong>tail</strong> – Output specified number of lines at the end of logs: <code>all</code> or <code>&lt;number&gt;</code>. Default all.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>101</strong> – no error, hints proxy about hijacking</li> <li>
<strong>200</strong> – no error, no upgrade header found</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="inspect-changes-on-a-container-s-filesystem">Inspect changes on a container’s filesystem</h3> <p><code>GET /containers/(id or name)/changes</code></p> <p>Inspect changes on container <code>id</code>’s filesystem</p> <p><strong>Example request</strong>:</p> <pre>GET /containers/4fa6e0f0c678/changes HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
     {
             "Path": "/dev",
             "Kind": 0
     },
     {
             "Path": "/dev/kmsg",
             "Kind": 1
     },
     {
             "Path": "/test",
             "Kind": 1
     }
]
</pre> <p>Values for <code>Kind</code>:</p> <ul> <li>
<code>0</code>: Modify</li> <li>
<code>1</code>: Add</li> <li>
<code>2</code>: Delete</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="export-a-container">Export a container</h3> <p><code>GET /containers/(id or name)/export</code></p> <p>Export the contents of container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>GET /containers/4fa6e0f0c678/export HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/octet-stream

{{ TAR STREAM }}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="get-container-stats-based-on-resource-usage">Get container stats based on resource usage</h3> <p><code>GET /containers/(id or name)/stats</code></p> <p>This endpoint returns a live stream of a container’s resource usage statistics.</p> <p><strong>Example request</strong>:</p> <pre>GET /containers/redis1/stats HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>  HTTP/1.1 200 OK
  Content-Type: application/json

  {
     "read" : "2015-01-08T22:57:31.547920715Z",
     "pids_stats": {
        "current": 3
     },
     "networks": {
             "eth0": {
                 "rx_bytes": 5338,
                 "rx_dropped": 0,
                 "rx_errors": 0,
                 "rx_packets": 36,
                 "tx_bytes": 648,
                 "tx_dropped": 0,
                 "tx_errors": 0,
                 "tx_packets": 8
             },
             "eth5": {
                 "rx_bytes": 4641,
                 "rx_dropped": 0,
                 "rx_errors": 0,
                 "rx_packets": 26,
                 "tx_bytes": 690,
                 "tx_dropped": 0,
                 "tx_errors": 0,
                 "tx_packets": 9
             }
     },
     "memory_stats" : {
        "stats" : {
           "total_pgmajfault" : 0,
           "cache" : 0,
           "mapped_file" : 0,
           "total_inactive_file" : 0,
           "pgpgout" : 414,
           "rss" : 6537216,
           "total_mapped_file" : 0,
           "writeback" : 0,
           "unevictable" : 0,
           "pgpgin" : 477,
           "total_unevictable" : 0,
           "pgmajfault" : 0,
           "total_rss" : 6537216,
           "total_rss_huge" : 6291456,
           "total_writeback" : 0,
           "total_inactive_anon" : 0,
           "rss_huge" : 6291456,
           "hierarchical_memory_limit" : 67108864,
           "total_pgfault" : 964,
           "total_active_file" : 0,
           "active_anon" : 6537216,
           "total_active_anon" : 6537216,
           "total_pgpgout" : 414,
           "total_cache" : 0,
           "inactive_anon" : 0,
           "active_file" : 0,
           "pgfault" : 964,
           "inactive_file" : 0,
           "total_pgpgin" : 477
        },
        "max_usage" : 6651904,
        "usage" : 6537216,
        "failcnt" : 0,
        "limit" : 67108864
     },
     "blkio_stats" : {},
     "cpu_stats" : {
        "cpu_usage" : {
           "percpu_usage" : [
              8646879,
              24472255,
              36438778,
              30657443
           ],
           "usage_in_usermode" : 50000000,
           "total_usage" : 100215355,
           "usage_in_kernelmode" : 30000000
        },
        "system_cpu_usage" : 739306590000000,
        "throttling_data" : {"periods":0,"throttled_periods":0,"throttled_time":0}
     },
     "precpu_stats" : {
        "cpu_usage" : {
           "percpu_usage" : [
              8646879,
              24350896,
              36438778,
              30657443
           ],
           "usage_in_usermode" : 50000000,
           "total_usage" : 100093996,
           "usage_in_kernelmode" : 30000000
        },
        "system_cpu_usage" : 9492140000000,
        "throttling_data" : {"periods":0,"throttled_periods":0,"throttled_time":0}
     }
  }
</pre> <p>The precpu_stats is the cpu statistic of last read, which is used for calculating the cpu usage percent. It is not the exact copy of the “cpu_stats” field.</p> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>stream</strong> – 1/True/true or 0/False/false, pull stats once then disconnect. Default <code>true</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="resize-a-container-tty">Resize a container TTY</h3> <p><code>POST /containers/(id or name)/resize</code></p> <p>Resize the TTY for container with <code>id</code>. The unit is number of characters. You must restart the container for the resize to take effect.</p> <p><strong>Example request</strong>:</p> <pre>  POST /containers/4fa6e0f0c678/resize?h=40&amp;w=80 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>  HTTP/1.1 200 OK
  Content-Length: 0
  Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>h</strong> – height of <code>tty</code> session</li> <li>
<strong>w</strong> – width</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – No such container</li> <li>
<strong>500</strong> – Cannot resize container</li> </ul> <h3 id="start-a-container">Start a container</h3> <p><code>POST /containers/(id or name)/start</code></p> <p>Start the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/start HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>detachKeys</strong> – Override the key sequence for detaching a container. Format is a single character <code>[a-Z]</code> or <code>ctrl-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is one of: <code>a-z</code>, <code>@</code>, <code>^</code>, <code>[</code>, <code>,</code> or <code>_</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>304</strong> – container already started</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="stop-a-container">Stop a container</h3> <p><code>POST /containers/(id or name)/stop</code></p> <p>Stop the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/stop?t=5 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>t</strong> – number of seconds to wait before killing the container</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>304</strong> – container already stopped</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="restart-a-container">Restart a container</h3> <p><code>POST /containers/(id or name)/restart</code></p> <p>Restart the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/restart?t=5 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>t</strong> – number of seconds to wait before killing the container</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="kill-a-container">Kill a container</h3> <p><code>POST /containers/(id or name)/kill</code></p> <p>Kill the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/kill HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>signal</strong> - Signal to send to the container: integer or string like <code>SIGINT</code>. When not set, <code>SIGKILL</code> is assumed and the call waits for the container to exit.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="update-a-container">Update a container</h3> <p><code>POST /containers/(id or name)/update</code></p> <p>Update configuration of one or more containers.</p> <p><strong>Example request</strong>:</p> <pre>   POST /containers/e90e34656806/update HTTP/1.1
   Content-Type: application/json

   {
     "BlkioWeight": 300,
     "CpuShares": 512,
     "CpuPeriod": 100000,
     "CpuQuota": 50000,
     "CpusetCpus": "0,1",
     "CpusetMems": "0",
     "Memory": 314572800,
     "MemorySwap": 514288000,
     "MemoryReservation": 209715200,
     "KernelMemory": 52428800,
     "RestartPolicy": {
       "MaximumRetryCount": 4,
       "Name": "on-failure"
     },
   }
</pre> <p><strong>Example response</strong>:</p> <pre>   HTTP/1.1 200 OK
   Content-Type: application/json

   {
       "Warnings": []
   }
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="rename-a-container">Rename a container</h3> <p><code>POST /containers/(id or name)/rename</code></p> <p>Rename the container <code>id</code> to a <code>new_name</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/rename?name=new_name HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>name</strong> – new name for the container</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>409</strong> - conflict name already assigned</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="pause-a-container">Pause a container</h3> <p><code>POST /containers/(id or name)/pause</code></p> <p>Pause the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/pause HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="unpause-a-container">Unpause a container</h3> <p><code>POST /containers/(id or name)/unpause</code></p> <p>Unpause the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/unpause HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="attach-to-a-container">Attach to a container</h3> <p><code>POST /containers/(id or name)/attach</code></p> <p>Attach to the container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/16253994b7c4/attach?logs=1&amp;stream=0&amp;stdout=1 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 101 UPGRADED
Content-Type: application/vnd.docker.raw-stream
Connection: Upgrade
Upgrade: tcp

{{ STREAM }}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>detachKeys</strong> – Override the key sequence for detaching a container. Format is a single character <code>[a-Z]</code> or <code>ctrl-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is one of: <code>a-z</code>, <code>@</code>, <code>^</code>, <code>[</code>, <code>,</code> or <code>_</code>.</li> <li>
<strong>logs</strong> – 1/True/true or 0/False/false, return logs. Default <code>false</code>.</li> <li>
<strong>stream</strong> – 1/True/true or 0/False/false, return stream. Default <code>false</code>.</li> <li>
<strong>stdin</strong> – 1/True/true or 0/False/false, if <code>stream=true</code>, attach to <code>stdin</code>. Default <code>false</code>.</li> <li>
<strong>stdout</strong> – 1/True/true or 0/False/false, if <code>logs=true</code>, return <code>stdout</code> log, if <code>stream=true</code>, attach to <code>stdout</code>. Default <code>false</code>.</li> <li>
<strong>stderr</strong> – 1/True/true or 0/False/false, if <code>logs=true</code>, return <code>stderr</code> log, if <code>stream=true</code>, attach to <code>stderr</code>. Default <code>false</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>101</strong> – no error, hints proxy about hijacking</li> <li>
<strong>200</strong> – no error, no upgrade header found</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>409</strong> - container is paused</li> <li>
<p><strong>500</strong> – server error</p> <p><strong>Stream details</strong>:</p> <p>When using the TTY setting is enabled in <a href="#create-a-container"><code>POST /containers/create</code> </a>, the stream is the raw data from the process PTY and client’s <code>stdin</code>. When the TTY is disabled, then the stream is multiplexed to separate <code>stdout</code> and <code>stderr</code>.</p> <p>The format is a <strong>Header</strong> and a <strong>Payload</strong> (frame).</p> <p><strong>HEADER</strong></p> <p>The header contains the information which the stream writes (<code>stdout</code> or <code>stderr</code>). It also contains the size of the associated frame encoded in the last four bytes (<code>uint32</code>).</p> <p>It is encoded on the first eight bytes like this:</p> <pre>header := [8]byte{STREAM_TYPE, 0, 0, 0, SIZE1, SIZE2, SIZE3, SIZE4}
</pre> <p><code>STREAM_TYPE</code> can be:</p>
</li> <li><p>0: <code>stdin</code> (is written on <code>stdout</code>)</p></li> <li><p>1: <code>stdout</code></p></li> <li>
<p>2: <code>stderr</code></p> <p><code>SIZE1, SIZE2, SIZE3, SIZE4</code> are the four bytes of the <code>uint32</code> size encoded as big endian.</p> <p><strong>PAYLOAD</strong></p> <p>The payload is the raw stream.</p> <p><strong>IMPLEMENTATION</strong></p> <p>The simplest way to implement the Attach protocol is the following:</p> <ol> <li>Read eight bytes.</li> <li>Choose <code>stdout</code> or <code>stderr</code> depending on the first byte.</li> <li>Extract the frame size from the last four bytes.</li> <li>Read the extracted size and output it on the correct output.</li> <li>Goto 1.</li> </ol>
</li> </ul> <h3 id="attach-to-a-container-websocket">Attach to a container (websocket)</h3> <p><code>GET /containers/(id or name)/attach/ws</code></p> <p>Attach to the container <code>id</code> via websocket</p> <p>Implements websocket protocol handshake according to <a href="http://tools.ietf.org/html/rfc6455" target="_blank">RFC 6455</a></p> <p><strong>Example request</strong></p> <pre>GET /containers/e90e34656806/attach/ws?logs=0&amp;stream=1&amp;stdin=1&amp;stdout=1&amp;stderr=1 HTTP/1.1
</pre> <p><strong>Example response</strong></p> <pre>{{ STREAM }}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>detachKeys</strong> – Override the key sequence for detaching a container. Format is a single character <code>[a-Z]</code> or <code>ctrl-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is one of: <code>a-z</code>, <code>@</code>, <code>^</code>, <code>[</code>, <code>,</code> or <code>_</code>.</li> <li>
<strong>logs</strong> – 1/True/true or 0/False/false, return logs. Default <code>false</code>.</li> <li>
<strong>stream</strong> – 1/True/true or 0/False/false, return stream. Default <code>false</code>.</li> <li>
<strong>stdin</strong> – 1/True/true or 0/False/false, if <code>stream=true</code>, attach to <code>stdin</code>. Default <code>false</code>.</li> <li>
<strong>stdout</strong> – 1/True/true or 0/False/false, if <code>logs=true</code>, return <code>stdout</code> log, if <code>stream=true</code>, attach to <code>stdout</code>. Default <code>false</code>.</li> <li>
<strong>stderr</strong> – 1/True/true or 0/False/false, if <code>logs=true</code>, return <code>stderr</code> log, if <code>stream=true</code>, attach to <code>stderr</code>. Default <code>false</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="wait-a-container">Wait a container</h3> <p><code>POST /containers/(id or name)/wait</code></p> <p>Block until container <code>id</code> stops, then returns the exit code</p> <p><strong>Example request</strong>:</p> <pre>POST /containers/16253994b7c4/wait HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{"StatusCode": 0}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="remove-a-container">Remove a container</h3> <p><code>DELETE /containers/(id or name)</code></p> <p>Remove the container <code>id</code> from the filesystem</p> <p><strong>Example request</strong>:</p> <pre>DELETE /containers/16253994b7c4?v=1 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>v</strong> – 1/True/true or 0/False/false, Remove the volumes associated to the container. Default <code>false</code>.</li> <li>
<strong>force</strong> - 1/True/true or 0/False/false, Kill then remove the container. Default <code>false</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>409</strong> – conflict</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="retrieving-information-about-files-and-folders-in-a-container">Retrieving information about files and folders in a container</h3> <p><code>HEAD /containers/(id or name)/archive</code></p> <p>See the description of the <code>X-Docker-Container-Path-Stat</code> header in the following section.</p> <h3 id="get-an-archive-of-a-filesystem-resource-in-a-container">Get an archive of a filesystem resource in a container</h3> <p><code>GET /containers/(id or name)/archive</code></p> <p>Get a tar archive of a resource in the filesystem of container <code>id</code>.</p> <p><strong>Query parameters</strong>:</p> <ul> <li>
<p><strong>path</strong> - resource in the container’s filesystem to archive. Required.</p> <p>If not an absolute path, it is relative to the container’s root directory. The resource specified by <strong>path</strong> must exist. To assert that the resource is expected to be a directory, <strong>path</strong> should end in <code>/</code> or <code>/.</code> (assuming a path separator of <code>/</code>). If <strong>path</strong> ends in <code>/.</code> then this indicates that only the contents of the <strong>path</strong> directory should be copied. A symlink is always resolved to its target.</p> <blockquote> <p><strong>Note</strong>: It is not possible to copy certain system files such as resources under <code>/proc</code>, <code>/sys</code>, <code>/dev</code>, and mounts created by the user in the container.</p> </blockquote>
</li> </ul> <p><strong>Example request</strong>:</p> <pre>GET /containers/8cce319429b2/archive?path=/root HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/x-tar
X-Docker-Container-Path-Stat: eyJuYW1lIjoicm9vdCIsInNpemUiOjQwOTYsIm1vZGUiOjIxNDc0ODQwOTYsIm10aW1lIjoiMjAxNC0wMi0yN1QyMDo1MToyM1oiLCJsaW5rVGFyZ2V0IjoiIn0=

{{ TAR STREAM }}
</pre> <p>On success, a response header <code>X-Docker-Container-Path-Stat</code> will be set to a base64-encoded JSON object containing some filesystem header information about the archived resource. The above example value would decode to the following JSON object (whitespace added for readability):</p> <pre>{
    "name": "root",
    "size": 4096,
    "mode": 2147484096,
    "mtime": "2014-02-27T20:51:23Z",
    "linkTarget": ""
}
</pre> <p>A <code>HEAD</code> request can also be made to this endpoint if only this information is desired.</p> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - success, returns archive of copied resource</li> <li>
<strong>400</strong> - client error, bad parameter, details in JSON response body, one of: <ul> <li>must specify path parameter (<strong>path</strong> cannot be empty)</li> <li>not a directory (<strong>path</strong> was asserted to be a directory but exists as a file)</li> </ul>
</li> <li>
<strong>404</strong> - client error, resource not found, one of: – no such container (container <code>id</code> does not exist) <ul> <li>no such file or directory (<strong>path</strong> does not exist)</li> </ul>
</li> <li>
<strong>500</strong> - server error</li> </ul> <h3 id="extract-an-archive-of-files-or-folders-to-a-directory-in-a-container">Extract an archive of files or folders to a directory in a container</h3> <p><code>PUT /containers/(id or name)/archive</code></p> <p>Upload a tar archive to be extracted to a path in the filesystem of container <code>id</code>.</p> <p><strong>Query parameters</strong>:</p> <ul> <li>
<p><strong>path</strong> - path to a directory in the container to extract the archive’s contents into. Required.</p> <p>If not an absolute path, it is relative to the container’s root directory. The <strong>path</strong> resource must exist.</p>
</li> <li><p><strong>noOverwriteDirNonDir</strong> - If “1”, “true”, or “True” then it will be an error if unpacking the given content would cause an existing directory to be replaced with a non-directory and vice versa.</p></li> </ul> <p><strong>Example request</strong>:</p> <pre>PUT /containers/8cce319429b2/archive?path=/vol1 HTTP/1.1
Content-Type: application/x-tar

{{ TAR STREAM }}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – the content was extracted successfully</li> <li>
<strong>400</strong> - client error, bad parameter, details in JSON response body, one of: <ul> <li>must specify path parameter (<strong>path</strong> cannot be empty)</li> <li>not a directory (<strong>path</strong> should be a directory but exists as a file)</li> <li>unable to overwrite existing directory with non-directory (if <strong>noOverwriteDirNonDir</strong>)</li> <li>unable to overwrite existing non-directory with directory (if <strong>noOverwriteDirNonDir</strong>)</li> </ul>
</li> <li>
<strong>403</strong> - client error, permission denied, the volume or container rootfs is marked as read-only.</li> <li>
<strong>404</strong> - client error, resource not found, one of: – no such container (container <code>id</code> does not exist) <ul> <li>no such file or directory (<strong>path</strong> resource does not exist)</li> </ul>
</li> <li>
<strong>500</strong> – server error</li> </ul> <h2 id="3-2-images">3.2 Images</h2> <h3 id="list-images">List Images</h3> <p><code>GET /images/json</code></p> <p><strong>Example request</strong>:</p> <pre>GET /images/json?all=0 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
     "RepoTags": [
       "ubuntu:12.04",
       "ubuntu:precise",
       "ubuntu:latest"
     ],
     "Id": "8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c",
     "Created": 1365714795,
     "Size": 131506275,
     "VirtualSize": 131506275,
     "Labels": {}
  },
  {
     "RepoTags": [
       "ubuntu:12.10",
       "ubuntu:quantal"
     ],
     "ParentId": "27cf784147099545",
     "Id": "b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc",
     "Created": 1364102658,
     "Size": 24653,
     "VirtualSize": 180116135,
     "Labels": {
        "com.example.version": "v1"
     }
  }
]
</pre> <p><strong>Example request, with digest information</strong>:</p> <pre>GET /images/json?digests=1 HTTP/1.1
</pre> <p><strong>Example response, with digest information</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
    "Created": 1420064636,
    "Id": "4986bf8c15363d1c5d15512d5266f8777bfba4974ac56e3270e7760f6f0a8125",
    "ParentId": "ea13149945cb6b1e746bf28032f02e9b5a793523481a0a18645fc77ad53c4ea2",
    "RepoDigests": [
      "localhost:5000/test/busybox@sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf"
    ],
    "RepoTags": [
      "localhost:5000/test/busybox:latest",
      "playdate:latest"
    ],
    "Size": 0,
    "VirtualSize": 2429728,
    "Labels": {}
  }
]
</pre> <p>The response shows a single image <code>Id</code> associated with two repositories (<code>RepoTags</code>): <code>localhost:5000/test/busybox</code>: and <code>playdate</code>. A caller can use either of the <code>RepoTags</code> values <code>localhost:5000/test/busybox:latest</code> or <code>playdate:latest</code> to reference the image.</p> <p>You can also use <code>RepoDigests</code> values to reference an image. In this response, the array has only one reference and that is to the <code>localhost:5000/test/busybox</code> repository; the <code>playdate</code> repository has no digest. You can reference this digest using the value: <code>localhost:5000/test/busybox@sha256:cbbf2f9a99b47fc460d...</code></p> <p>See the <code>docker run</code> and <code>docker build</code> commands for examples of digest and tag references on the command line.</p> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>all</strong> – 1/True/true or 0/False/false, default false</li> <li>
<strong>filters</strong> – a JSON encoded value of the filters (a map[string][]string) to process on the images list. Available filters: <ul> <li><code>dangling=true</code></li> <li>
<code>label=key</code> or <code>label="key=value"</code> of an image label</li> <li>
<code>before</code>=(<code>&lt;image-name&gt;[:&lt;tag&gt;]</code>, <code>&lt;image id&gt;</code> or <code>&lt;image@digest&gt;</code>)</li> <li>
<code>since</code>=(<code>&lt;image-name&gt;[:&lt;tag&gt;]</code>, <code>&lt;image id&gt;</code> or <code>&lt;image@digest&gt;</code>)</li> </ul>
</li> <li>
<strong>filter</strong> - only return images with the specified name</li> </ul> <h3 id="build-image-from-a-dockerfile">Build image from a Dockerfile</h3> <p><code>POST /build</code></p> <p>Build an image from a Dockerfile</p> <p><strong>Example request</strong>:</p> <pre>POST /build HTTP/1.1

{{ TAR STREAM }}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{"stream": "Step 1..."}
{"stream": "..."}
{"error": "Error...", "errorDetail": {"code": 123, "message": "Error..."}}
</pre> <p>The input stream must be a <code>tar</code> archive compressed with one of the following algorithms: <code>identity</code> (no compression), <code>gzip</code>, <code>bzip2</code>, <code>xz</code>.</p> <p>The archive must include a build instructions file, typically called <code>Dockerfile</code> at the archive’s root. The <code>dockerfile</code> parameter may be used to specify a different build instructions file. To do this, its value must be the path to the alternate build instructions file to use.</p> <p>The archive may include any number of other files, which are accessible in the build context (See the <a href="../../builder/#add"><em>ADD build command</em></a>).</p> <p>The build is canceled if the client drops the connection by quitting or being killed.</p> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>dockerfile</strong> - Path within the build context to the <code>Dockerfile</code>. This is ignored if <code>remote</code> is specified and points to an external <code>Dockerfile</code>.</li> <li>
<strong>t</strong> – A name and optional tag to apply to the image in the <code>name:tag</code> format. If you omit the <code>tag</code> the default <code>latest</code> value is assumed. You can provide one or more <code>t</code> parameters.</li> <li>
<strong>remote</strong> – A Git repository URI or HTTP/HTTPS context URI. If the URI points to a single text file, the file’s contents are placed into a file called <code>Dockerfile</code> and the image is built from that file. If the URI points to a tarball, the file is downloaded by the daemon and the contents therein used as the context for the build. If the URI points to a tarball and the <code>dockerfile</code> parameter is also specified, there must be a file with the corresponding path inside the tarball.</li> <li>
<strong>q</strong> – Suppress verbose build output.</li> <li>
<strong>nocache</strong> – Do not use the cache when building the image.</li> <li>
<strong>pull</strong> - Attempt to pull the image even if an older image exists locally.</li> <li>
<strong>rm</strong> - Remove intermediate containers after a successful build (default behavior).</li> <li>
<strong>forcerm</strong> - Always remove intermediate containers (includes <code>rm</code>).</li> <li>
<strong>memory</strong> - Set memory limit for build.</li> <li>
<strong>memswap</strong> - Total memory (memory + swap), <code>-1</code> to enable unlimited swap.</li> <li>
<strong>cpushares</strong> - CPU shares (relative weight).</li> <li>
<strong>cpusetcpus</strong> - CPUs in which to allow execution (e.g., <code>0-3</code>, <code>0,1</code>).</li> <li>
<strong>cpuperiod</strong> - The length of a CPU period in microseconds.</li> <li>
<strong>cpuquota</strong> - Microseconds of CPU time that the container can get in a CPU period.</li> <li>
<strong>buildargs</strong> – JSON map of string pairs for build-time variables. Users pass these values at build-time. Docker uses the <code>buildargs</code> as the environment context for command(s) run via the Dockerfile’s <code>RUN</code> instruction or for variable expansion in other Dockerfile instructions. This is not meant for passing secret values. <a href="../../builder/#arg">Read more about the buildargs instruction</a>
</li> <li>
<strong>shmsize</strong> - Size of <code>/dev/shm</code> in bytes. The size must be greater than 0. If omitted the system uses 64MB.</li> <li>
<strong>labels</strong> – JSON map of string pairs for labels to set on the image.</li> </ul> <p><strong>Request Headers</strong>:</p> <ul> <li>
<strong>Content-type</strong> – Set to <code>"application/tar"</code>.</li> <li>
<p><strong>X-Registry-Config</strong> – A base64-url-safe-encoded Registry Auth Config JSON object with the following structure:</p> <pre>    {
        "docker.example.com": {
            "username": "janedoe",
            "password": "hunter2"
        },
        "https://index.docker.io/v1/": {
            "username": "mobydock",
            "password": "conta1n3rize14"
        }
    }
</pre> <p>This object maps the hostname of a registry to an object containing the “username” and “password” for that registry. Multiple registries may be specified as the build may be based on an image requiring authentication to pull from any arbitrary registry. Only the registry domain name (and port if not the default “443”) are required. However (for legacy reasons) the “official” Docker, Inc. hosted registry must be specified with both a “https://” prefix and a “/v1/” suffix even though Docker will prefer to use the v2 registry API.</p>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="create-an-image">Create an image</h3> <p><code>POST /images/create</code></p> <p>Create an image either by pulling it from the registry or by importing it</p> <p><strong>Example request</strong>:</p> <pre>POST /images/create?fromImage=ubuntu HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{"status": "Pulling..."}
{"status": "Pulling", "progress": "1 B/ 100 B", "progressDetail": {"current": 1, "total": 100}}
{"error": "Invalid..."}
...
</pre> <p>When using this endpoint to pull an image from the registry, the <code>X-Registry-Auth</code> header can be used to include a base64-encoded AuthConfig object.</p> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>fromImage</strong> – Name of the image to pull. The name may include a tag or digest. This parameter may only be used when pulling an image. The pull is cancelled if the HTTP connection is closed.</li> <li>
<strong>fromSrc</strong> – Source to import. The value may be a URL from which the image can be retrieved or <code>-</code> to read the image from the request body. This parameter may only be used when importing an image.</li> <li>
<strong>repo</strong> – Repository name given to an image when it is imported. The repo may include a tag. This parameter may only be used when importing an image.</li> <li>
<strong>tag</strong> – Tag or digest.</li> </ul> <p><strong>Request Headers</strong>:</p> <ul> <li>
<p><strong>X-Registry-Auth</strong> – base64-encoded AuthConfig object, containing either login information, or a token</p> <ul> <li>
<p>Credential based login:</p> <pre>{
    "username": "jdoe",
    "password": "secret",
    "email": "jdoe@acme.com"
}
</pre>
</li> <li>
<p>Token based login:</p> <pre>{
    "registrytoken": "9cbaf023786cd7..."
}
</pre>
</li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="inspect-an-image">Inspect an image</h3> <p><code>GET /images/(name)/json</code></p> <p>Return low-level information on the image <code>name</code></p> <p><strong>Example request</strong>:</p> <pre>GET /images/example/json HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
   "Id" : "sha256:85f05633ddc1c50679be2b16a0479ab6f7637f8884e0cfe0f4d20e1ebb3d6e7c",
   "Container" : "cb91e48a60d01f1e27028b4fc6819f4f290b3cf12496c8176ec714d0d390984a",
   "Comment" : "",
   "Os" : "linux",
   "Architecture" : "amd64",
   "Parent" : "sha256:91e54dfb11794fad694460162bf0cb0a4fa710cfa3f60979c177d920813e267c",
   "ContainerConfig" : {
      "Tty" : false,
      "Hostname" : "e611e15f9c9d",
      "Volumes" : null,
      "Domainname" : "",
      "AttachStdout" : false,
      "PublishService" : "",
      "AttachStdin" : false,
      "OpenStdin" : false,
      "StdinOnce" : false,
      "NetworkDisabled" : false,
      "OnBuild" : [],
      "Image" : "91e54dfb11794fad694460162bf0cb0a4fa710cfa3f60979c177d920813e267c",
      "User" : "",
      "WorkingDir" : "",
      "Entrypoint" : null,
      "MacAddress" : "",
      "AttachStderr" : false,
      "Labels" : {
         "com.example.license" : "GPL",
         "com.example.version" : "1.0",
         "com.example.vendor" : "Acme"
      },
      "Env" : [
         "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
      ],
      "ExposedPorts" : null,
      "Cmd" : [
         "/bin/sh",
         "-c",
         "#(nop) LABEL com.example.vendor=Acme com.example.license=GPL com.example.version=1.0"
      ]
   },
   "DockerVersion" : "1.9.0-dev",
   "VirtualSize" : 188359297,
   "Size" : 0,
   "Author" : "",
   "Created" : "2015-09-10T08:30:53.26995814Z",
   "GraphDriver" : {
      "Name" : "aufs",
      "Data" : null
   },
   "RepoDigests" : [
      "localhost:5000/test/busybox/example@sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf"
   ],
   "RepoTags" : [
      "example:1.0",
      "example:latest",
      "example:stable"
   ],
   "Config" : {
      "Image" : "91e54dfb11794fad694460162bf0cb0a4fa710cfa3f60979c177d920813e267c",
      "NetworkDisabled" : false,
      "OnBuild" : [],
      "StdinOnce" : false,
      "PublishService" : "",
      "AttachStdin" : false,
      "OpenStdin" : false,
      "Domainname" : "",
      "AttachStdout" : false,
      "Tty" : false,
      "Hostname" : "e611e15f9c9d",
      "Volumes" : null,
      "Cmd" : [
         "/bin/bash"
      ],
      "ExposedPorts" : null,
      "Env" : [
         "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
      ],
      "Labels" : {
         "com.example.vendor" : "Acme",
         "com.example.version" : "1.0",
         "com.example.license" : "GPL"
      },
      "Entrypoint" : null,
      "MacAddress" : "",
      "AttachStderr" : false,
      "WorkingDir" : "",
      "User" : ""
   },
   "RootFS": {
       "Type": "layers",
       "Layers": [
           "sha256:1834950e52ce4d5a88a1bbd131c537f4d0e56d10ff0dd69e66be3b7dfa9df7e6",
           "sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef"
       ]
   }
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such image</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="get-the-history-of-an-image">Get the history of an image</h3> <p><code>GET /images/(name)/history</code></p> <p>Return the history of the image <code>name</code></p> <p><strong>Example request</strong>:</p> <pre>GET /images/ubuntu/history HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
    {
        "Id": "3db9c44f45209632d6050b35958829c3a2aa256d81b9a7be45b362ff85c54710",
        "Created": 1398108230,
        "CreatedBy": "/bin/sh -c #(nop) ADD file:eb15dbd63394e063b805a3c32ca7bf0266ef64676d5a6fab4801f2e81e2a5148 in /",
        "Tags": [
            "ubuntu:lucid",
            "ubuntu:10.04"
        ],
        "Size": 182964289,
        "Comment": ""
    },
    {
        "Id": "6cfa4d1f33fb861d4d114f43b25abd0ac737509268065cdfd69d544a59c85ab8",
        "Created": 1398108222,
        "CreatedBy": "/bin/sh -c #(nop) MAINTAINER Tianon Gravi &lt;admwiggin@gmail.com&gt; - mkimage-debootstrap.sh -i iproute,iputils-ping,ubuntu-minimal -t lucid.tar.xz lucid http://archive.ubuntu.com/ubuntu/",
        "Tags": null,
        "Size": 0,
        "Comment": ""
    },
    {
        "Id": "511136ea3c5a64f264b78b5433614aec563103b4d4702f3ba7d4d2698e22c158",
        "Created": 1371157430,
        "CreatedBy": "",
        "Tags": [
            "scratch12:latest",
            "scratch:latest"
        ],
        "Size": 0,
        "Comment": "Imported from -"
    }
]
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such image</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="push-an-image-on-the-registry">Push an image on the registry</h3> <p><code>POST /images/(name)/push</code></p> <p>Push the image <code>name</code> on the registry</p> <p><strong>Example request</strong>:</p> <pre>POST /images/test/push HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{"status": "Pushing..."}
{"status": "Pushing", "progress": "1/? (n/a)", "progressDetail": {"current": 1}}}
{"error": "Invalid..."}
...
</pre> <p>If you wish to push an image on to a private registry, that image must already have a tag into a repository which references that registry <code>hostname</code> and <code>port</code>. This repository name should then be used in the URL. This duplicates the command line’s flow.</p> <p>The push is cancelled if the HTTP connection is closed.</p> <p><strong>Example request</strong>:</p> <pre>POST /images/registry.acme.com:5000/test/push HTTP/1.1
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>tag</strong> – The tag to associate with the image on the registry. This is optional.</li> </ul> <p><strong>Request Headers</strong>:</p> <ul> <li>
<p><strong>X-Registry-Auth</strong> – base64-encoded AuthConfig object, containing either login information, or a token</p> <ul> <li>
<p>Credential based login:</p> <pre>{
    "username": "jdoe",
    "password": "secret",
    "email": "jdoe@acme.com",
}
</pre>
</li> <li>
<p>Identity token based login:</p> <pre>{
    "identitytoken": "9cbaf023786cd7..."
}
</pre>
</li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such image</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="tag-an-image-into-a-repository">Tag an image into a repository</h3> <p><code>POST /images/(name)/tag</code></p> <p>Tag the image <code>name</code> into a repository</p> <p><strong>Example request</strong>:</p> <pre>POST /images/test/tag?repo=myrepo&amp;tag=v42 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 201 Created
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>repo</strong> – The repository to tag in</li> <li>
<strong>tag</strong> - The new tag name</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>404</strong> – no such image</li> <li>
<strong>409</strong> – conflict</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="remove-an-image">Remove an image</h3> <p><code>DELETE /images/(name)</code></p> <p>Remove the image <code>name</code> from the filesystem</p> <p><strong>Example request</strong>:</p> <pre>DELETE /images/test HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-type: application/json

[
 {"Untagged": "3e2f21a89f"},
 {"Deleted": "3e2f21a89f"},
 {"Deleted": "53b4f83ac9"}
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>force</strong> – 1/True/true or 0/False/false, default false</li> <li>
<strong>noprune</strong> – 1/True/true or 0/False/false, default false</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such image</li> <li>
<strong>409</strong> – conflict</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="search-images">Search images</h3> <p><code>GET /images/search</code></p> <p>Search for an image on <a href="https://hub.docker.com" target="_blank">Docker Hub</a>.</p> <blockquote> <p><strong>Note</strong>: The response keys have changed from API v1.6 to reflect the JSON sent by the registry server to the docker daemon’s request.</p> </blockquote> <p><strong>Example request</strong>:</p> <pre>GET /images/search?term=sshd HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
        {
            "description": "",
            "is_official": false,
            "is_automated": false,
            "name": "wma55/u1210sshd",
            "star_count": 0
        },
        {
            "description": "",
            "is_official": false,
            "is_automated": false,
            "name": "jdswinbank/sshd",
            "star_count": 0
        },
        {
            "description": "",
            "is_official": false,
            "is_automated": false,
            "name": "vgauthier/sshd",
            "star_count": 0
        }
...
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>term</strong> – term to search</li> <li>
<strong>limit</strong> – maximum returned search results</li> <li>
<strong>filters</strong> – a JSON encoded value of the filters (a map[string][]string) to process on the images list. Available filters: <ul> <li><code>stars=&lt;number&gt;</code></li> <li><code>is-automated=(true|false)</code></li> <li><code>is-official=(true|false)</code></li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h2 id="3-3-misc">3.3 Misc</h2> <h3 id="check-auth-configuration">Check auth configuration</h3> <p><code>POST /auth</code></p> <p>Validate credentials for a registry and get identity token, if available, for accessing the registry without password.</p> <p><strong>Example request</strong>:</p> <pre>POST /auth HTTP/1.1
Content-Type: application/json

{
     "username": "hannibal",
     "password": "xxxx",
     "serveraddress": "https://index.docker.io/v1/"
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK

{
     "Status": "Login Succeeded",
     "IdentityToken": "9cbaf023786cd7..."
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>204</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="display-system-wide-information">Display system-wide information</h3> <p><code>GET /info</code></p> <p>Display system-wide information</p> <p><strong>Example request</strong>:</p> <pre>GET /info HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
    "Architecture": "x86_64",
    "ClusterStore": "etcd://localhost:2379",
    "CgroupDriver": "cgroupfs",
    "Containers": 11,
    "ContainersRunning": 7,
    "ContainersStopped": 3,
    "ContainersPaused": 1,
    "CpuCfsPeriod": true,
    "CpuCfsQuota": true,
    "Debug": false,
    "DockerRootDir": "/var/lib/docker",
    "Driver": "btrfs",
    "DriverStatus": [[""]],
    "ExperimentalBuild": false,
    "HttpProxy": "http://test:test@localhost:8080",
    "HttpsProxy": "https://test:test@localhost:8080",
    "ID": "7TRN:IPZB:QYBB:VPBQ:UMPP:KARE:6ZNR:XE6T:7EWV:PKF4:ZOJD:TPYS",
    "IPv4Forwarding": true,
    "Images": 16,
    "IndexServerAddress": "https://index.docker.io/v1/",
    "InitPath": "/usr/bin/docker",
    "InitSha1": "",
    "KernelMemory": true,
    "KernelVersion": "3.12.0-1-amd64",
    "Labels": [
        "storage=ssd"
    ],
    "MemTotal": 2099236864,
    "MemoryLimit": true,
    "NCPU": 1,
    "NEventsListener": 0,
    "NFd": 11,
    "NGoroutines": 21,
    "Name": "prod-server-42",
    "NoProxy": "9.81.1.160",
    "OomKillDisable": true,
    "OSType": "linux",
    "OperatingSystem": "Boot2Docker",
    "Plugins": {
        "Volume": [
            "local"
        ],
        "Network": [
            "null",
            "host",
            "bridge"
        ]
    },
    "RegistryConfig": {
        "IndexConfigs": {
            "docker.io": {
                "Mirrors": null,
                "Name": "docker.io",
                "Official": true,
                "Secure": true
            }
        },
        "InsecureRegistryCIDRs": [
            "127.0.0.0/8"
        ]
    },
    "SecurityOptions": [
        "apparmor",
        "seccomp",
        "selinux"
    ],
    "ServerVersion": "1.9.0",
    "SwapLimit": false,
    "SystemStatus": [["State", "Healthy"]],
    "SystemTime": "2015-03-10T11:11:23.730591467-07:00"
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="show-the-docker-version-information">Show the docker version information</h3> <p><code>GET /version</code></p> <p>Show the docker version information</p> <p><strong>Example request</strong>:</p> <pre>GET /version HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
     "Version": "1.13.0",
     "Os": "linux",
     "KernelVersion": "3.19.0-23-generic",
     "GoVersion": "go1.6.3",
     "GitCommit": "deadbee",
     "Arch": "amd64",
     "ApiVersion": "1.25",
     "BuildTime": "2016-06-14T07:09:13.444803460+00:00",
     "Experimental": true
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="ping-the-docker-server">Ping the docker server</h3> <p><code>GET /_ping</code></p> <p>Ping the docker server</p> <p><strong>Example request</strong>:</p> <pre>GET /_ping HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: text/plain

OK
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>500</strong> - server error</li> </ul> <h3 id="create-a-new-image-from-a-container-s-changes">Create a new image from a container’s changes</h3> <p><code>POST /commit</code></p> <p>Create a new image from a container’s changes</p> <p><strong>Example request</strong>:</p> <pre>POST /commit?container=44c004db4b17&amp;comment=message&amp;repo=myrepo HTTP/1.1
Content-Type: application/json

{
     "Hostname": "",
     "Domainname": "",
     "User": "",
     "AttachStdin": false,
     "AttachStdout": true,
     "AttachStderr": true,
     "Tty": false,
     "OpenStdin": false,
     "StdinOnce": false,
     "Env": null,
     "Cmd": [
             "date"
     ],
     "Mounts": [
       {
         "Source": "/data",
         "Destination": "/data",
         "Mode": "ro,Z",
         "RW": false
       }
     ],
     "Labels": {
             "key1": "value1",
             "key2": "value2"
      },
     "WorkingDir": "",
     "NetworkDisabled": false,
     "ExposedPorts": {
             "22/tcp": {}
     }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 201 Created
Content-Type: application/json

{"Id": "596069db4bf5"}
</pre> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>config</strong> - the container’s configuration</li> </ul> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>container</strong> – source container</li> <li>
<strong>repo</strong> – repository</li> <li>
<strong>tag</strong> – tag</li> <li>
<strong>comment</strong> – commit message</li> <li>
<strong>author</strong> – author (e.g., “John Hannibal Smith &lt;<a href="mailto:hannibal%40a-team.com/">hannibal@a-team.com</a>&gt;“)</li> <li>
<strong>pause</strong> – 1/True/true or 0/False/false, whether to pause the container before committing</li> <li>
<strong>changes</strong> – Dockerfile instructions to apply while committing</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="monitor-docker-s-events">Monitor Docker’s events</h3> <p><code>GET /events</code></p> <p>Get container events from docker, in real time via streaming.</p> <p>Docker containers report the following events:</p> <pre>attach, commit, copy, create, destroy, detach, die, exec_create, exec_detach, exec_start, export, kill, oom, pause, rename, resize, restart, start, stop, top, unpause, update
</pre> <p>Docker images report the following events:</p> <pre>delete, import, load, pull, push, save, tag, untag
</pre> <p>Docker volumes report the following events:</p> <pre>create, mount, unmount, destroy
</pre> <p>Docker networks report the following events:</p> <pre>create, connect, disconnect, destroy
</pre> <p>Docker daemon report the following event:</p> <pre>reload
</pre> <p><strong>Example request</strong>:</p> <pre>GET /events?since=1374067924
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
Server: Docker/1.11.0 (linux)
Date: Fri, 29 Apr 2016 15:18:06 GMT
Transfer-Encoding: chunked

{
  "status": "pull",
  "id": "alpine:latest",
  "Type": "image",
  "Action": "pull",
  "Actor": {
    "ID": "alpine:latest",
    "Attributes": {
      "name": "alpine"
    }
  },
  "time": 1461943101,
  "timeNano": 1461943101301854122
}
{
  "status": "create",
  "id": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
  "from": "alpine",
  "Type": "container",
  "Action": "create",
  "Actor": {
    "ID": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
    "Attributes": {
      "com.example.some-label": "some-label-value",
      "image": "alpine",
      "name": "my-container"
    }
  },
  "time": 1461943101,
  "timeNano": 1461943101381709551
}
{
  "status": "attach",
  "id": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
  "from": "alpine",
  "Type": "container",
  "Action": "attach",
  "Actor": {
    "ID": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
    "Attributes": {
      "com.example.some-label": "some-label-value",
      "image": "alpine",
      "name": "my-container"
    }
  },
  "time": 1461943101,
  "timeNano": 1461943101383858412
}
{
  "Type": "network",
  "Action": "connect",
  "Actor": {
    "ID": "7dc8ac97d5d29ef6c31b6052f3938c1e8f2749abbd17d1bd1febf2608db1b474",
    "Attributes": {
      "container": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
      "name": "bridge",
      "type": "bridge"
    }
  },
  "time": 1461943101,
  "timeNano": 1461943101394865557
}
{
  "status": "start",
  "id": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
  "from": "alpine",
  "Type": "container",
  "Action": "start",
  "Actor": {
    "ID": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
    "Attributes": {
      "com.example.some-label": "some-label-value",
      "image": "alpine",
      "name": "my-container"
    }
  },
  "time": 1461943101,
  "timeNano": 1461943101607533796
}
{
  "status": "resize",
  "id": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
  "from": "alpine",
  "Type": "container",
  "Action": "resize",
  "Actor": {
    "ID": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
    "Attributes": {
      "com.example.some-label": "some-label-value",
      "height": "46",
      "image": "alpine",
      "name": "my-container",
      "width": "204"
    }
  },
  "time": 1461943101,
  "timeNano": 1461943101610269268
}
{
  "status": "die",
  "id": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
  "from": "alpine",
  "Type": "container",
  "Action": "die",
  "Actor": {
    "ID": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
    "Attributes": {
      "com.example.some-label": "some-label-value",
      "exitCode": "0",
      "image": "alpine",
      "name": "my-container"
    }
  },
  "time": 1461943105,
  "timeNano": 1461943105079144137
}
{
  "Type": "network",
  "Action": "disconnect",
  "Actor": {
    "ID": "7dc8ac97d5d29ef6c31b6052f3938c1e8f2749abbd17d1bd1febf2608db1b474",
    "Attributes": {
      "container": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
      "name": "bridge",
      "type": "bridge"
    }
  },
  "time": 1461943105,
  "timeNano": 1461943105230860245
}
{
  "status": "destroy",
  "id": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
  "from": "alpine",
  "Type": "container",
  "Action": "destroy",
  "Actor": {
    "ID": "ede54ee1afda366ab42f824e8a5ffd195155d853ceaec74a927f249ea270c743",
    "Attributes": {
      "com.example.some-label": "some-label-value",
      "image": "alpine",
      "name": "my-container"
    }
  },
  "time": 1461943105,
  "timeNano": 1461943105338056026
}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>since</strong> – Timestamp. Show all events created since timestamp and then stream</li> <li>
<strong>until</strong> – Timestamp. Show events created until given timestamp and stop streaming</li> <li>
<strong>filters</strong> – A json encoded value of the filters (a map[string][]string) to process on the event list. Available filters: <ul> <li>
<code>container=&lt;string&gt;</code>; -- container to filter</li> <li>
<code>event=&lt;string&gt;</code>; -- event to filter</li> <li>
<code>image=&lt;string&gt;</code>; -- image to filter</li> <li>
<code>label=&lt;string&gt;</code>; -- image and container label to filter</li> <li>
<code>type=&lt;string&gt;</code>; -- either <code>container</code> or <code>image</code> or <code>volume</code> or <code>network</code> or <code>daemon</code>
</li> <li>
<code>volume=&lt;string&gt;</code>; -- volume to filter</li> <li>
<code>network=&lt;string&gt;</code>; -- network to filter</li> <li>
<code>daemon=&lt;string&gt;</code>; -- daemon name or id to filter</li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="get-a-tarball-containing-all-images-in-a-repository">Get a tarball containing all images in a repository</h3> <p><code>GET /images/(name)/get</code></p> <p>Get a tarball containing all images and metadata for the repository specified by <code>name</code>.</p> <p>If <code>name</code> is a specific name and tag (e.g. ubuntu:latest), then only that image (and its parents) are returned. If <code>name</code> is an image ID, similarly only that image (and its parents) are returned, but with the exclusion of the ‘repositories’ file in the tarball, as there were no image names referenced.</p> <p>See the <a href="#image-tarball-format">image tarball format</a> for more details.</p> <p><strong>Example request</strong></p> <pre>GET /images/ubuntu/get
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/x-tar

Binary data stream
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="get-a-tarball-containing-all-images">Get a tarball containing all images</h3> <p><code>GET /images/get</code></p> <p>Get a tarball containing all images and metadata for one or more repositories.</p> <p>For each value of the <code>names</code> parameter: if it is a specific name and tag (e.g. <code>ubuntu:latest</code>), then only that image (and its parents) are returned; if it is an image ID, similarly only that image (and its parents) are returned and there would be no names referenced in the ‘repositories’ file for this image ID.</p> <p>See the <a href="#image-tarball-format">image tarball format</a> for more details.</p> <p><strong>Example request</strong></p> <pre>GET /images/get?names=myname%2Fmyapp%3Alatest&amp;names=busybox
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/x-tar

Binary data stream
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="load-a-tarball-with-a-set-of-images-and-tags-into-docker">Load a tarball with a set of images and tags into docker</h3> <p><code>POST /images/load</code></p> <p>Load a set of images and tags into a Docker repository. See the <a href="#image-tarball-format">image tarball format</a> for more details.</p> <p><strong>Example request</strong></p> <pre>POST /images/load
Content-Type: application/x-tar

Tarball in body
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
Transfer-Encoding: chunked

{"status":"Loading layer","progressDetail":{"current":32768,"total":1292800},"progress":"[=                                                 ] 32.77 kB/1.293 MB","id":"8ac8bfaff55a"}
{"status":"Loading layer","progressDetail":{"current":65536,"total":1292800},"progress":"[==                                                ] 65.54 kB/1.293 MB","id":"8ac8bfaff55a"}
{"status":"Loading layer","progressDetail":{"current":98304,"total":1292800},"progress":"[===                                               ]  98.3 kB/1.293 MB","id":"8ac8bfaff55a"}
{"status":"Loading layer","progressDetail":{"current":131072,"total":1292800},"progress":"[=====                                             ] 131.1 kB/1.293 MB","id":"8ac8bfaff55a"}
...
{"stream":"Loaded image: busybox:latest\n"}
</pre> <p><strong>Example response</strong>:</p> <p>If the “quiet” query parameter is set to <code>true</code> / <code>1</code> (<code>?quiet=1</code>), progress details are suppressed, and only a confirmation message is returned once the action completes.</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
Transfer-Encoding: chunked

{"stream":"Loaded image: busybox:latest\n"}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>quiet</strong> – Boolean value, suppress progress details during load. Defaults to <code>0</code> / <code>false</code> if omitted.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="image-tarball-format">Image tarball format</h3> <p>An image tarball contains one directory per image layer (named using its long ID), each containing these files:</p> <ul> <li>
<code>VERSION</code>: currently <code>1.0</code> - the file format version</li> <li>
<code>json</code>: detailed layer information, similar to <code>docker inspect layer_id</code>
</li> <li>
<code>layer.tar</code>: A tarfile containing the filesystem changes in this layer</li> </ul> <p>The <code>layer.tar</code> file contains <code>aufs</code> style <code>.wh..wh.aufs</code> files and directories for storing attribute changes and deletions.</p> <p>If the tarball defines a repository, the tarball should also include a <code>repositories</code> file at the root that contains a list of repository and tag names mapped to layer IDs.</p> <pre>{"hello-world":
    {"latest": "565a9d68a73f6706862bfe8409a7f659776d4d60a8d096eb4a3cbce6999cc2a1"}
}
</pre> <h3 id="exec-create">Exec Create</h3> <p><code>POST /containers/(id or name)/exec</code></p> <p>Sets up an exec instance in a running container <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>POST /containers/e90e34656806/exec HTTP/1.1
Content-Type: application/json

  {
   "AttachStdin": false,
   "AttachStdout": true,
   "AttachStderr": true,
   "DetachKeys": "ctrl-p,ctrl-q",
   "Tty": false,
   "Cmd": [
                 "date"
         ]
  }
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 201 Created
Content-Type: application/json

{
     "Id": "f90e34656806",
     "Warnings":[]
}
</pre> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>AttachStdin</strong> - Boolean value, attaches to <code>stdin</code> of the <code>exec</code> command.</li> <li>
<strong>AttachStdout</strong> - Boolean value, attaches to <code>stdout</code> of the <code>exec</code> command.</li> <li>
<strong>AttachStderr</strong> - Boolean value, attaches to <code>stderr</code> of the <code>exec</code> command.</li> <li>
<strong>DetachKeys</strong> – Override the key sequence for detaching a container. Format is a single character <code>[a-Z]</code> or <code>ctrl-&lt;value&gt;</code> where <code>&lt;value&gt;</code> is one of: <code>a-z</code>, <code>@</code>, <code>^</code>, <code>[</code>, <code>,</code> or <code>_</code>.</li> <li>
<strong>Tty</strong> - Boolean value to allocate a pseudo-TTY.</li> <li>
<strong>Cmd</strong> - Command to run specified as a string or an array of strings.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> – no error</li> <li>
<strong>404</strong> – no such container</li> <li>
<strong>409</strong> - container is paused</li> <li>
<strong>500</strong> - server error</li> </ul> <h3 id="exec-start">Exec Start</h3> <p><code>POST /exec/(id)/start</code></p> <p>Starts a previously set up <code>exec</code> instance <code>id</code>. If <code>detach</code> is true, this API returns after starting the <code>exec</code> command. Otherwise, this API sets up an interactive session with the <code>exec</code> command.</p> <p><strong>Example request</strong>:</p> <pre>POST /exec/e90e34656806/start HTTP/1.1
Content-Type: application/json

{
 "Detach": false,
 "Tty": false
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/vnd.docker.raw-stream

{{ STREAM }}
</pre> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>Detach</strong> - Detach from the <code>exec</code> command.</li> <li>
<strong>Tty</strong> - Boolean value to allocate a pseudo-TTY.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such exec instance</li> <li>
<p><strong>409</strong> - container is paused</p> <p><strong>Stream details</strong>: Similar to the stream behavior of <code>POST /containers/(id or name)/attach</code> API</p>
</li> </ul> <h3 id="exec-resize">Exec Resize</h3> <p><code>POST /exec/(id)/resize</code></p> <p>Resizes the <code>tty</code> session used by the <code>exec</code> command <code>id</code>. The unit is number of characters. This API is valid only if <code>tty</code> was specified as part of creating and starting the <code>exec</code> command.</p> <p><strong>Example request</strong>:</p> <pre>POST /exec/e90e34656806/resize?h=40&amp;w=80 HTTP/1.1
Content-Type: text/plain
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 201 Created
Content-Type: text/plain
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>h</strong> – height of <code>tty</code> session</li> <li>
<strong>w</strong> – width</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> – no error</li> <li>
<strong>404</strong> – no such exec instance</li> </ul> <h3 id="exec-inspect">Exec Inspect</h3> <p><code>GET /exec/(id)/json</code></p> <p>Return low-level information about the <code>exec</code> command <code>id</code>.</p> <p><strong>Example request</strong>:</p> <pre>GET /exec/11fb006128e8ceb3942e7c58d77750f24210e35f879dd204ac975c184b820b39/json HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "CanRemove": false,
  "ContainerID": "b53ee82b53a40c7dca428523e34f741f3abc51d9f297a14ff874bf761b995126",
  "DetachKeys": "",
  "ExitCode": 2,
  "ID": "f33bbfb39f5b142420f4759b2348913bd4a8d1a6d7fd56499cb41a1bb91d7b3b",
  "OpenStderr": true,
  "OpenStdin": true,
  "OpenStdout": true,
  "ProcessConfig": {
    "arguments": [
      "-c",
      "exit 2"
    ],
    "entrypoint": "sh",
    "privileged": false,
    "tty": true,
    "user": "1000"
  },
  "Running": false
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such exec instance</li> <li>
<strong>500</strong> - server error</li> </ul> <h2 id="3-4-volumes">3.4 Volumes</h2> <h3 id="list-volumes">List volumes</h3> <p><code>GET /volumes</code></p> <p><strong>Example request</strong>:</p> <pre>GET /volumes HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "Volumes": [
    {
      "Name": "tardis",
      "Driver": "local",
      "Mountpoint": "/var/lib/docker/volumes/tardis",
      "Labels":{
        "com.example.some-label": "some-value",
        "com.example.some-other-label": "some-other-value"
      },
      "Scope": "local"
    }
  ],
  "Warnings": []
}
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>filters</strong> - JSON encoded value of the filters (a <code>map[string][]string</code>) to process on the volumes list. Available filters: <ul> <li>
<code>name=&lt;volume-name&gt;</code> Matches all or part of a volume name.</li> <li>
<code>dangling=&lt;boolean&gt;</code> When set to <code>true</code> (or <code>1</code>), returns all volumes that are “dangling” (not in use by a container). When set to <code>false</code> (or <code>0</code>), only volumes that are in use by one or more containers are returned.</li> <li>
<code>driver=&lt;volume-driver-name&gt;</code> Matches all or part of a volume driver name.</li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>500</strong> - server error</li> </ul> <h3 id="create-a-volume">Create a volume</h3> <p><code>POST /volumes/create</code></p> <p>Create a volume</p> <p><strong>Example request</strong>:</p> <pre>POST /volumes/create HTTP/1.1
Content-Type: application/json

{
  "Name": "tardis",
  "Labels": {
    "com.example.some-label": "some-value",
    "com.example.some-other-label": "some-other-value"
  },
  "Driver": "custom"
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 201 Created
Content-Type: application/json

{
  "Name": "tardis",
  "Driver": "custom",
  "Mountpoint": "/var/lib/docker/volumes/tardis",
  "Status": {
    "hello": "world"
  },
  "Labels": {
    "com.example.some-label": "some-value",
    "com.example.some-other-label": "some-other-value"
  },
  "Scope": "local"
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> - no error</li> <li>
<strong>500</strong> - server error</li> </ul> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>Name</strong> - The new volume’s name. If not specified, Docker generates a name.</li> <li>
<strong>Driver</strong> - Name of the volume driver to use. Defaults to <code>local</code> for the name.</li> <li>
<strong>DriverOpts</strong> - A mapping of driver options and values. These options are passed directly to the driver and are driver specific.</li> <li>
<strong>Labels</strong> - Labels to set on the volume, specified as a map: <code>{"key":"value","key2":"value2"}</code>
</li> </ul> <p><strong>JSON fields in response</strong>:</p> <p>Refer to the <a href="#inspect-a-volume">inspect a volume</a> section or details about the JSON fields returned in the response.</p> <h3 id="inspect-a-volume">Inspect a volume</h3> <p><code>GET /volumes/(name)</code></p> <p>Return low-level information on the volume <code>name</code></p> <p><strong>Example request</strong>:</p> <pre>GET /volumes/tardis
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "Name": "tardis",
  "Driver": "custom",
  "Mountpoint": "/var/lib/docker/volumes/tardis/_data",
  "Status": {
    "hello": "world"
  },
  "Labels": {
      "com.example.some-label": "some-value",
      "com.example.some-other-label": "some-other-value"
  },
  "Scope": "local"
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>404</strong> - no such volume</li> <li>
<strong>500</strong> - server error</li> </ul> <p><strong>JSON fields in response</strong>:</p> <p>The following fields can be returned in the API response. Empty fields, or fields that are not supported by the volume’s driver may be omitted in the response.</p> <ul> <li>
<strong>Name</strong> - Name of the volume.</li> <li>
<strong>Driver</strong> - Name of the volume driver used by the volume.</li> <li>
<strong>Mountpoint</strong> - Mount path of the volume on the host.</li> <li>
<strong>Status</strong> - Low-level details about the volume, provided by the volume driver. Details are returned as a map with key/value pairs: <code>{"key":"value","key2":"value2"}</code>. The <code>Status</code> field is optional, and is omitted if the volume driver does not support this feature.</li> <li>
<strong>Labels</strong> - Labels set on the volume, specified as a map: <code>{"key":"value","key2":"value2"}</code>.</li> <li>
<strong>Scope</strong> - Scope describes the level at which the volume exists, can be one of <code>global</code> for cluster-wide or <code>local</code> for machine level. The default is <code>local</code>.</li> </ul> <h3 id="remove-a-volume">Remove a volume</h3> <p><code>DELETE /volumes/(name)</code></p> <p>Instruct the driver to remove the volume (<code>name</code>).</p> <p><strong>Example request</strong>:</p> <pre>DELETE /volumes/tardis HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> - no error</li> <li>
<strong>404</strong> - no such volume or volume driver</li> <li>
<strong>409</strong> - volume is in use and cannot be removed</li> <li>
<strong>500</strong> - server error</li> </ul> <h2 id="3-5-networks">3.5 Networks</h2> <h3 id="list-networks">List networks</h3> <p><code>GET /networks</code></p> <p><strong>Example request</strong>:</p> <pre>GET /networks?filters={"type":{"custom":true}} HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
    "Name": "bridge",
    "Id": "f2de39df4171b0dc801e8002d1d999b77256983dfc63041c0f34030aa3977566",
    "Scope": "local",
    "Driver": "bridge",
    "EnableIPv6": false,
    "Internal": false,
    "IPAM": {
      "Driver": "default",
      "Config": [
        {
          "Subnet": "172.17.0.0/16"
        }
      ]
    },
    "Containers": {
      "39b69226f9d79f5634485fb236a23b2fe4e96a0a94128390a7fbbcc167065867": {
        "EndpointID": "ed2419a97c1d9954d05b46e462e7002ea552f216e9b136b80a7db8d98b442eda",
        "MacAddress": "02:42:ac:11:00:02",
        "IPv4Address": "172.17.0.2/16",
        "IPv6Address": ""
      }
    },
    "Options": {
      "com.docker.network.bridge.default_bridge": "true",
      "com.docker.network.bridge.enable_icc": "true",
      "com.docker.network.bridge.enable_ip_masquerade": "true",
      "com.docker.network.bridge.host_binding_ipv4": "0.0.0.0",
      "com.docker.network.bridge.name": "docker0",
      "com.docker.network.driver.mtu": "1500"
    }
  },
  {
    "Name": "none",
    "Id": "e086a3893b05ab69242d3c44e49483a3bbbd3a26b46baa8f61ab797c1088d794",
    "Scope": "local",
    "Driver": "null",
    "EnableIPv6": false,
    "Internal": false,
    "IPAM": {
      "Driver": "default",
      "Config": []
    },
    "Containers": {},
    "Options": {}
  },
  {
    "Name": "host",
    "Id": "13e871235c677f196c4e1ecebb9dc733b9b2d2ab589e30c539efeda84a24215e",
    "Scope": "local",
    "Driver": "host",
    "EnableIPv6": false,
    "Internal": false,
    "IPAM": {
      "Driver": "default",
      "Config": []
    },
    "Containers": {},
    "Options": {}
  }
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>filters</strong> - JSON encoded network list filter. The filter value is one of: <ul> <li>
<code>driver=&lt;driver-name&gt;</code> Matches a network’s driver.</li> <li>
<code>id=&lt;network-id&gt;</code> Matches all or part of a network id.</li> <li>
<code>label=&lt;key&gt;</code> or <code>label=&lt;key&gt;=&lt;value&gt;</code> of a network label.</li> <li>
<code>name=&lt;network-name&gt;</code> Matches all or part of a network name.</li> <li>
<code>type=["custom"|"builtin"]</code> Filters networks by type. The <code>custom</code> keyword returns all user-defined networks.</li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>500</strong> - server error</li> </ul> <h3 id="inspect-network">Inspect network</h3> <p><code>GET /networks/&lt;network-id&gt;</code></p> <p><strong>Example request</strong>:</p> <pre>GET /networks/7d86d31b1478e7cca9ebed7e73aa0fdeec46c5ca29497431d3007d2d9e15ed99 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "Name": "net01",
  "Id": "7d86d31b1478e7cca9ebed7e73aa0fdeec46c5ca29497431d3007d2d9e15ed99",
  "Scope": "local",
  "Driver": "bridge",
  "EnableIPv6": false,
  "IPAM": {
    "Driver": "default",
    "Config": [
      {
        "Subnet": "172.19.0.0/16",
        "Gateway": "172.19.0.1"
      }
    ],
    "Options": {
        "foo": "bar"
    }
  },
  "Internal": false,
  "Containers": {
    "19a4d5d687db25203351ed79d478946f861258f018fe384f229f2efa4b23513c": {
      "Name": "test",
      "EndpointID": "628cadb8bcb92de107b2a1e516cbffe463e321f548feb37697cce00ad694f21a",
      "MacAddress": "02:42:ac:13:00:02",
      "IPv4Address": "172.19.0.2/16",
      "IPv6Address": ""
    }
  },
  "Options": {
    "com.docker.network.bridge.default_bridge": "true",
    "com.docker.network.bridge.enable_icc": "true",
    "com.docker.network.bridge.enable_ip_masquerade": "true",
    "com.docker.network.bridge.host_binding_ipv4": "0.0.0.0",
    "com.docker.network.bridge.name": "docker0",
    "com.docker.network.driver.mtu": "1500"
  },
  "Labels": {
    "com.example.some-label": "some-value",
    "com.example.some-other-label": "some-other-value"
  }
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>404</strong> - network not found</li> </ul> <h3 id="create-a-network">Create a network</h3> <p><code>POST /networks/create</code></p> <p>Create a network</p> <p><strong>Example request</strong>:</p> <pre>POST /networks/create HTTP/1.1
Content-Type: application/json

{
  "Name":"isolated_nw",
  "CheckDuplicate":false,
  "Driver":"bridge",
  "EnableIPv6": true,
  "IPAM":{
    "Config":[
      {
        "Subnet":"172.20.0.0/16",
        "IPRange":"172.20.10.0/24",
        "Gateway":"172.20.10.11"
      },
      {
        "Subnet":"2001:db8:abcd::/64",
        "Gateway":"2001:db8:abcd::1011"
      }
    ],
    "Options": {
      "foo": "bar"
    }
  },
  "Internal":true,
  "Options": {
    "com.docker.network.bridge.default_bridge": "true",
    "com.docker.network.bridge.enable_icc": "true",
    "com.docker.network.bridge.enable_ip_masquerade": "true",
    "com.docker.network.bridge.host_binding_ipv4": "0.0.0.0",
    "com.docker.network.bridge.name": "docker0",
    "com.docker.network.driver.mtu": "1500"
  },
  "Labels": {
    "com.example.some-label": "some-value",
    "com.example.some-other-label": "some-other-value"
  }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 201 Created
Content-Type: application/json

{
  "Id": "22be93d5babb089c5aab8dbc369042fad48ff791584ca2da2100db837a1c7c30",
  "Warning": ""
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> - no error</li> <li>
<strong>404</strong> - plugin not found</li> <li>
<strong>500</strong> - server error</li> </ul> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>Name</strong> - The new network’s name. this is a mandatory field</li> <li>
<strong>CheckDuplicate</strong> - Requests daemon to check for networks with same name</li> <li>
<strong>Driver</strong> - Name of the network driver plugin to use. Defaults to <code>bridge</code> driver</li> <li>
<strong>Internal</strong> - Restrict external access to the network</li> <li>
<strong>IPAM</strong> - Optional custom IP scheme for the network</li> <li>
<strong>EnableIPv6</strong> - Enable IPv6 on the network</li> <li>
<strong>Options</strong> - Network specific options to be used by the drivers</li> <li>
<strong>Labels</strong> - Labels to set on the network, specified as a map: <code>{"key":"value" [,"key2":"value2"]}</code>
</li> </ul> <h3 id="connect-a-container-to-a-network">Connect a container to a network</h3> <p><code>POST /networks/(id)/connect</code></p> <p>Connect a container to a network</p> <p><strong>Example request</strong>:</p> <pre>POST /networks/22be93d5babb089c5aab8dbc369042fad48ff791584ca2da2100db837a1c7c30/connect HTTP/1.1
Content-Type: application/json

{
  "Container":"3613f73ba0e4",
  "EndpointConfig": {
    "IPAMConfig": {
        "IPv4Address":"172.24.56.89",
        "IPv6Address":"2001:db8::5689"
    }
  }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>403</strong> - operation not supported for swarm scoped networks</li> <li>
<strong>404</strong> - network or container is not found</li> <li>
<strong>500</strong> - Internal Server Error</li> </ul> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>container</strong> - container-id/name to be connected to the network</li> </ul> <h3 id="disconnect-a-container-from-a-network">Disconnect a container from a network</h3> <p><code>POST /networks/(id)/disconnect</code></p> <p>Disconnect a container from a network</p> <p><strong>Example request</strong>:</p> <pre>POST /networks/22be93d5babb089c5aab8dbc369042fad48ff791584ca2da2100db837a1c7c30/disconnect HTTP/1.1
Content-Type: application/json

{
  "Container":"3613f73ba0e4",
  "Force":false
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>403</strong> - operation not supported for swarm scoped networks</li> <li>
<strong>404</strong> - network or container not found</li> <li>
<strong>500</strong> - Internal Server Error</li> </ul> <p><strong>JSON parameters</strong>:</p> <ul> <li>
<strong>Container</strong> - container-id/name to be disconnected from a network</li> <li>
<strong>Force</strong> - Force the container to disconnect from a network</li> </ul> <h3 id="remove-a-network">Remove a network</h3> <p><code>DELETE /networks/(id)</code></p> <p>Instruct the driver to remove the network (<code>id</code>).</p> <p><strong>Example request</strong>:</p> <pre>DELETE /networks/22be93d5babb089c5aab8dbc369042fad48ff791584ca2da2100db837a1c7c30 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 204 No Content
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>204</strong> - no error</li> <li>
<strong>404</strong> - no such network</li> <li>
<strong>500</strong> - server error</li> </ul> <h2 id="3-6-plugins">3.6 Plugins</h2> <h3 id="list-plugins">List plugins</h3> <p><code>GET /plugins</code></p> <p>Returns information about installed plugins.</p> <p><strong>Example request</strong>:</p> <pre>GET /plugins HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
    "Id": "5724e2c8652da337ab2eedd19fc6fc0ec908e4bd907c7421bf6a8dfc70c4c078",
    "Name": "tiborvass/no-remove",
    "Tag": "latest",
    "Active": true,
    "Config": {
      "Mounts": [
        {
          "Name": "",
          "Description": "",
          "Settable": null,
          "Source": "/data",
          "Destination": "/data",
          "Type": "bind",
          "Options": [
            "shared",
            "rbind"
          ]
        },
        {
          "Name": "",
          "Description": "",
          "Settable": null,
          "Source": null,
          "Destination": "/foobar",
          "Type": "tmpfs",
          "Options": null
        }
      ],
      "Env": [
        "DEBUG=1"
      ],
      "Args": null,
      "Devices": null
    },
    "Manifest": {
      "ManifestVersion": "v0",
      "Description": "A test plugin for Docker",
      "Documentation": "https://docs.docker.com/engine/extend/plugins/",
      "Interface": {
        "Types": [
          "docker.volumedriver/1.0"
        ],
        "Socket": "plugins.sock"
      },
      "Entrypoint": [
        "plugin-no-remove",
        "/data"
      ],
      "Workdir": "",
      "User": {
      },
      "Network": {
        "Type": "host"
      },
      "Capabilities": null,
      "Mounts": [
        {
          "Name": "",
          "Description": "",
          "Settable": null,
          "Source": "/data",
          "Destination": "/data",
          "Type": "bind",
          "Options": [
            "shared",
            "rbind"
          ]
        },
        {
          "Name": "",
          "Description": "",
          "Settable": null,
          "Source": null,
          "Destination": "/foobar",
          "Type": "tmpfs",
          "Options": null
        }
      ],
      "Devices": [
        {
          "Name": "device",
          "Description": "a host device to mount",
          "Settable": null,
          "Path": "/dev/cpu_dma_latency"
        }
      ],
      "Env": [
        {
          "Name": "DEBUG",
          "Description": "If set, prints debug messages",
          "Settable": null,
          "Value": "1"
        }
      ],
      "Args": {
        "Name": "args",
        "Description": "command line arguments",
        "Settable": null,
        "Value": [

        ]
      }
    }
  }
]
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>500</strong> - server error</li> </ul> <h3 id="install-a-plugin">Install a plugin</h3> <p><code>POST /plugins/pull?name=&lt;plugin name&gt;</code></p> <p>Pulls and installs a plugin. After the plugin is installed, it can be enabled using the <a href="#enable-a-plugin"><code>POST /plugins/(plugin name)/enable</code> endpoint</a>.</p> <p><strong>Example request</strong>:</p> <pre>POST /plugins/pull?name=tiborvass/no-remove:latest HTTP/1.1
</pre> <p>The <code>:latest</code> tag is optional, and is used as default if omitted. When using this endpoint to pull a plugin from the registry, the <code>X-Registry-Auth</code> header can be used to include a base64-encoded AuthConfig object. Refer to the <a href="#create-an-image">create an image</a> section for more details.</p> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 175

[
  {
    "Name": "network",
    "Description": "",
    "Value": [
      "host"
    ]
  },
  {
    "Name": "mount",
    "Description": "",
    "Value": [
      "/data"
    ]
  },
  {
    "Name": "device",
    "Description": "",
    "Value": [
      "/dev/cpu_dma_latency"
    ]
  }
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>name</strong> - Name of the plugin to pull. The name may include a tag or digest. This parameter is required.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>500</strong> - error parsing reference / not a valid repository/tag: repository name must have at least one component</li> <li>
<strong>500</strong> - plugin already exists</li> </ul> <h3 id="inspect-a-plugin">Inspect a plugin</h3> <p><code>GET /plugins/(plugin name)</code></p> <p>Returns detailed information about an installed plugin.</p> <p><strong>Example request</strong>:</p> <pre>GET /plugins/tiborvass/no-remove:latest HTTP/1.1
</pre> <p>The <code>:latest</code> tag is optional, and is used as default if omitted.</p> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "Id": "5724e2c8652da337ab2eedd19fc6fc0ec908e4bd907c7421bf6a8dfc70c4c078",
  "Name": "tiborvass/no-remove",
  "Tag": "latest",
  "Active": false,
  "Config": {
    "Mounts": [
      {
        "Name": "",
        "Description": "",
        "Settable": null,
        "Source": "/data",
        "Destination": "/data",
        "Type": "bind",
        "Options": [
          "shared",
          "rbind"
        ]
      },
      {
        "Name": "",
        "Description": "",
        "Settable": null,
        "Source": null,
        "Destination": "/foobar",
        "Type": "tmpfs",
        "Options": null
      }
    ],
    "Env": [
      "DEBUG=1"
    ],
    "Args": null,
    "Devices": null
  },
  "Manifest": {
    "ManifestVersion": "v0",
    "Description": "A test plugin for Docker",
    "Documentation": "https://docs.docker.com/engine/extend/plugins/",
    "Interface": {
      "Types": [
        "docker.volumedriver/1.0"
      ],
      "Socket": "plugins.sock"
    },
    "Entrypoint": [
      "plugin-no-remove",
      "/data"
    ],
    "Workdir": "",
    "User": {
    },
    "Network": {
      "Type": "host"
    },
    "Capabilities": null,
    "Mounts": [
      {
        "Name": "",
        "Description": "",
        "Settable": null,
        "Source": "/data",
        "Destination": "/data",
        "Type": "bind",
        "Options": [
          "shared",
          "rbind"
        ]
      },
      {
        "Name": "",
        "Description": "",
        "Settable": null,
        "Source": null,
        "Destination": "/foobar",
        "Type": "tmpfs",
        "Options": null
      }
    ],
    "Devices": [
      {
        "Name": "device",
        "Description": "a host device to mount",
        "Settable": null,
        "Path": "/dev/cpu_dma_latency"
      }
    ],
    "Env": [
      {
        "Name": "DEBUG",
        "Description": "If set, prints debug messages",
        "Settable": null,
        "Value": "1"
      }
    ],
    "Args": {
      "Name": "args",
      "Description": "command line arguments",
      "Settable": null,
      "Value": [

      ]
    }
  }
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>404</strong> - plugin not installed</li> </ul>  <h3 id="enable-a-plugin">Enable a plugin</h3> <p><code>POST /plugins/(plugin name)/enable</code></p> <p>Enables a plugin</p> <p><strong>Example request</strong>:</p> <pre>POST /plugins/tiborvass/no-remove:latest/enable HTTP/1.1
</pre> <p>The <code>:latest</code> tag is optional, and is used as default if omitted.</p> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>500</strong> - plugin is already enabled</li> </ul> <h3 id="disable-a-plugin">Disable a plugin</h3> <p><code>POST /plugins/(plugin name)/disable</code></p> <p>Disables a plugin</p> <p><strong>Example request</strong>:</p> <pre>POST /plugins/tiborvass/no-remove:latest/disable HTTP/1.1
</pre> <p>The <code>:latest</code> tag is optional, and is used as default if omitted.</p> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>500</strong> - plugin is already disabled</li> </ul> <h3 id="remove-a-plugin">Remove a plugin</h3> <p><code>DELETE /plugins/(plugin name)</code></p> <p>Removes a plugin</p> <p><strong>Example request</strong>:</p> <pre>DELETE /plugins/tiborvass/no-remove:latest HTTP/1.1
</pre> <p>The <code>:latest</code> tag is optional, and is used as default if omitted.</p> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>force</strong> - Boolean value, set to <code>1</code> / <code>True</code> / <code>true</code> to force removing the plugin. Forcing removal disables the plugin before removing, but may result in issues if the plugin is in use by a container.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> <li>
<strong>404</strong> - plugin not installed</li> <li>
<strong>500</strong> - plugin is active</li> </ul>  <h2 id="3-7-nodes">3.7 Nodes</h2> <p><strong>Note</strong>: Node operations require the engine to be part of a swarm.</p> <h3 id="list-nodes">List nodes</h3> <p><code>GET /nodes</code></p> <p>List nodes</p> <p><strong>Example request</strong>:</p> <pre>GET /nodes HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
    "ID": "24ifsmvkjbyhk",
    "Version": {
      "Index": 8
    },
    "CreatedAt": "2016-06-07T20:31:11.853781916Z",
    "UpdatedAt": "2016-06-07T20:31:11.999868824Z",
    "Spec": {
      "Name": "my-node",
      "Role": "manager",
      "Availability": "active"
      "Labels": {
          "foo": "bar"
      }
    },
    "Description": {
      "Hostname": "bf3067039e47",
      "Platform": {
        "Architecture": "x86_64",
        "OS": "linux"
      },
      "Resources": {
        "NanoCPUs": 4000000000,
        "MemoryBytes": 8272408576
      },
      "Engine": {
        "EngineVersion": "1.12.0-dev",
        "Labels": {
            "foo": "bar",
        }
        "Plugins": [
          {
            "Type": "Volume",
            "Name": "local"
          },
          {
            "Type": "Network",
            "Name": "bridge"
          }
          {
            "Type": "Network",
            "Name": "null"
          }
          {
            "Type": "Network",
            "Name": "overlay"
          }
        ]
      }
    },
    "Status": {
      "State": "ready"
    },
    "ManagerStatus": {
      "Leader": true,
      "Reachability": "reachable",
      "Addr": "172.17.0.2:2377""
    }
  }
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>filters</strong> – a JSON encoded value of the filters (a <code>map[string][]string</code>) to process on the nodes list. Available filters: <ul> <li><code>id=&lt;node id&gt;</code></li> <li><code>name=&lt;node name&gt;</code></li> <li>
<code>membership=</code>(<code>pending</code>|<code>accepted</code>|<code>rejected</code>)`</li> <li>
<code>role=</code>(<code>worker</code>|<code>manager</code>)`</li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="inspect-a-node">Inspect a node</h3> <p><code>GET /nodes/&lt;id&gt;</code></p> <p>Return low-level information on the node <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>  GET /nodes/24ifsmvkjbyhk HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "ID": "24ifsmvkjbyhk",
  "Version": {
    "Index": 8
  },
  "CreatedAt": "2016-06-07T20:31:11.853781916Z",
  "UpdatedAt": "2016-06-07T20:31:11.999868824Z",
  "Spec": {
    "Name": "my-node",
    "Role": "manager",
    "Availability": "active"
    "Labels": {
        "foo": "bar"
    }
  },
  "Description": {
    "Hostname": "bf3067039e47",
    "Platform": {
      "Architecture": "x86_64",
      "OS": "linux"
    },
    "Resources": {
      "NanoCPUs": 4000000000,
      "MemoryBytes": 8272408576
    },
    "Engine": {
      "EngineVersion": "1.12.0-dev",
      "Labels": {
          "foo": "bar",
      }
      "Plugins": [
        {
          "Type": "Volume",
          "Name": "local"
        },
        {
          "Type": "Network",
          "Name": "bridge"
        }
        {
          "Type": "Network",
          "Name": "null"
        }
        {
          "Type": "Network",
          "Name": "overlay"
        }
      ]
    }
  },
  "Status": {
    "State": "ready"
  },
  "ManagerStatus": {
    "Leader": true,
    "Reachability": "reachable",
    "Addr": "172.17.0.2:2377""
  }
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such node</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="remove-a-node">Remove a node</h3> <p><code>DELETE /nodes/&lt;id&gt;</code></p> <p>Remove a node [<code>id</code>] from the Swarm.</p> <p><strong>Example request</strong>:</p> <pre>DELETE /nodes/24ifsmvkjbyhk HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>force</strong> - 1/True/true or 0/False/false, Force remove an active node. Default <code>false</code>.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such node</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="update-a-node">Update a node</h3> <p><code>POST /nodes/&lt;id&gt;/update</code></p> <p>Update the node <code>id</code>.</p> <p>The payload of the <code>POST</code> request is the new <code>NodeSpec</code> and overrides the current <code>NodeSpec</code> for the specified node.</p> <p>If <code>Availability</code> or <code>Role</code> are omitted, this returns an error. Any other field omitted resets the current value to either an empty value or the default cluster-wide value.</p> <p><strong>Example Request</strong></p> <pre>POST /nodes/24ifsmvkjbyhk/update?version=8 HTTP/1.1
Content-Type: application/json

{
  "Availability": "active",
  "Name": "node-name",
  "Role": "manager",
  "Labels": {
    "foo": "bar"
  }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>version</strong> – The version number of the node object being updated. This is required to avoid conflicting writes.</li> </ul> <p>JSON Parameters:</p> <ul> <li>
<strong>Annotations</strong> – Optional medata to associate with the service. <ul> <li>
<strong>Name</strong> – User-defined name for the service.</li> <li>
<strong>Labels</strong> – A map of labels to associate with the service (e.g., <code>{"key":"value"[,"key2":"value2"]}</code>).</li> </ul>
</li> <li>
<strong>Role</strong> - Role of the node (worker/manager).</li> <li>
<strong>Availability</strong> - Availability of the node (active/pause/drain).</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such node</li> <li>
<strong>500</strong> – server error</li> </ul> <h2 id="3-8-swarm">3.8 Swarm</h2> <h3 id="inspect-swarm">Inspect swarm</h3> <p><code>GET /swarm</code></p> <p>Inspect swarm</p> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

{
  "CreatedAt" : "2016-08-15T16:00:20.349727406Z",
  "Spec" : {
    "Dispatcher" : {
      "HeartbeatPeriod" : 5000000000
    },
    "Orchestration" : {
     "TaskHistoryRetentionLimit" : 10
    },
    "CAConfig" : {
      "NodeCertExpiry" : 7776000000000000
    },
    "Raft" : {
      "LogEntriesForSlowFollowers" : 500,
      "HeartbeatTick" : 1,
      "SnapshotInterval" : 10000,
      "ElectionTick" : 3
    },
    "TaskDefaults" : {},
    "Name" : "default"
  },
 "JoinTokens" : {
    "Worker" : "SWMTKN-1-1h8aps2yszaiqmz2l3oc5392pgk8e49qhx2aj3nyv0ui0hez2a-6qmn92w6bu3jdvnglku58u11a",
    "Manager" : "SWMTKN-1-1h8aps2yszaiqmz2l3oc5392pgk8e49qhx2aj3nyv0ui0hez2a-8llk83c4wm9lwioey2s316r9l"
 },
 "ID" : "70ilmkj2f6sp2137c753w2nmt",
 "UpdatedAt" : "2016-08-15T16:32:09.623207604Z",
 "Version" : {
   "Index" : 51
}
</pre> <p>}</p> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> - no error</li> </ul> <h3 id="initialize-a-new-swarm">Initialize a new swarm</h3> <p><code>POST /swarm/init</code></p> <p>Initialize a new swarm</p> <p><strong>Example request</strong>:</p> <pre>POST /swarm/init HTTP/1.1
Content-Type: application/json

{
  "ListenAddr": "0.0.0.0:2377",
  "AdvertiseAddr": "192.168.1.1:2377",
  "ForceNewCluster": false,
  "Spec": {
    "Orchestration": {},
    "Raft": {},
    "Dispatcher": {},
    "CAConfig": {}
  }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>406</strong> – node is already part of a swarm</li> </ul> <p>JSON Parameters:</p> <ul> <li>
<strong>ListenAddr</strong> – Listen address used for inter-manager communication, as well as determining the networking interface used for the VXLAN Tunnel Endpoint (VTEP). This can either be an address/port combination in the form <code>192.168.1.1:4567</code>, or an interface followed by a port number, like <code>eth0:4567</code>. If the port number is omitted, the default swarm listening port is used.</li> <li>
<strong>AdvertiseAddr</strong> – Externally reachable address advertised to other nodes. This can either be an address/port combination in the form <code>192.168.1.1:4567</code>, or an interface followed by a port number, like <code>eth0:4567</code>. If the port number is omitted, the port number from the listen address is used. If <code>AdvertiseAddr</code> is not specified, it will be automatically detected when possible.</li> <li>
<strong>ForceNewCluster</strong> – Force creation of a new swarm.</li> <li>
<strong>Spec</strong> – Configuration settings for the new swarm. <ul> <li>
<strong>Orchestration</strong> – Configuration settings for the orchestration aspects of the swarm. <ul> <li>
<strong>TaskHistoryRetentionLimit</strong> – Maximum number of tasks history stored.</li> </ul>
</li> <li>
<strong>Raft</strong> – Raft related configuration. <ul> <li>
<strong>SnapshotInterval</strong> – Number of logs entries between snapshot.</li> <li>
<strong>KeepOldSnapshots</strong> – Number of snapshots to keep beyond the current snapshot.</li> <li>
<strong>LogEntriesForSlowFollowers</strong> – Number of log entries to keep around to sync up slow followers after a snapshot is created.</li> <li>
<strong>HeartbeatTick</strong> – Amount of ticks (in seconds) between each heartbeat.</li> <li>
<strong>ElectionTick</strong> – Amount of ticks (in seconds) needed without a leader to trigger a new election.</li> </ul>
</li> <li>
<strong>Dispatcher</strong> – Configuration settings for the task dispatcher. <ul> <li>
<strong>HeartbeatPeriod</strong> – The delay for an agent to send a heartbeat to the dispatcher.</li> </ul>
</li> <li>
<strong>CAConfig</strong> – Certificate authority configuration. <ul> <li>
<strong>NodeCertExpiry</strong> – Automatic expiry for nodes certificates.</li> <li>
<strong>ExternalCA</strong> - Configuration for forwarding signing requests to an external certificate authority. <ul> <li>
<strong>Protocol</strong> - Protocol for communication with the external CA (currently only “cfssl” is supported).</li> <li>
<strong>URL</strong> - URL where certificate signing requests should be sent.</li> <li>
<strong>Options</strong> - An object with key/value pairs that are interpreted as protocol-specific options for the external CA driver.</li> </ul>
</li> </ul>
</li> </ul>
</li> </ul> <h3 id="join-an-existing-swarm">Join an existing swarm</h3> <p><code>POST /swarm/join</code></p> <p>Join an existing swarm</p> <p><strong>Example request</strong>:</p> <pre>POST /swarm/join HTTP/1.1
Content-Type: application/json

{
  "ListenAddr": "0.0.0.0:2377",
  "AdvertiseAddr": "192.168.1.1:2377",
  "RemoteAddrs": ["node1:2377"],
  "JoinToken": "SWMTKN-1-3pu6hszjas19xyp7ghgosyx9k8atbfcr8p2is99znpy26u2lkl-7p73s1dx5in4tatdymyhg9hu2"
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>406</strong> – node is already part of a swarm</li> </ul> <p>JSON Parameters:</p> <ul> <li>
<strong>ListenAddr</strong> – Listen address used for inter-manager communication if the node gets promoted to manager, as well as determining the networking interface used for the VXLAN Tunnel Endpoint (VTEP).</li> <li>
<strong>AdvertiseAddr</strong> – Externally reachable address advertised to other nodes. This can either be an address/port combination in the form <code>192.168.1.1:4567</code>, or an interface followed by a port number, like <code>eth0:4567</code>. If the port number is omitted, the port number from the listen address is used. If <code>AdvertiseAddr</code> is not specified, it will be automatically detected when possible.</li> <li>
<strong>RemoteAddr</strong> – Address of any manager node already participating in the swarm.</li> <li>
<strong>JoinToken</strong> – Secret token for joining this Swarm.</li> </ul> <h3 id="leave-a-swarm">Leave a swarm</h3> <p><code>POST /swarm/leave</code></p> <p>Leave a swarm</p> <p><strong>Example request</strong>:</p> <pre>POST /swarm/leave HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>406</strong> – node is not part of a swarm</li> </ul> <h3 id="update-a-swarm">Update a swarm</h3> <p><code>POST /swarm/update</code></p> <p>Update a swarm</p> <p><strong>Example request</strong>:</p> <pre>POST /swarm/update HTTP/1.1

{
  "Name": "default",
  "Orchestration": {
    "TaskHistoryRetentionLimit": 10
  },
  "Raft": {
    "SnapshotInterval": 10000,
    "LogEntriesForSlowFollowers": 500,
    "HeartbeatTick": 1,
    "ElectionTick": 3
  },
  "Dispatcher": {
    "HeartbeatPeriod": 5000000000
  },
  "CAConfig": {
    "NodeCertExpiry": 7776000000000000
  },
  "JoinTokens": {
    "Worker": "SWMTKN-1-3pu6hszjas19xyp7ghgosyx9k8atbfcr8p2is99znpy26u2lkl-1awxwuwd3z9j1z3puu7rcgdbx",
    "Manager": "SWMTKN-1-3pu6hszjas19xyp7ghgosyx9k8atbfcr8p2is99znpy26u2lkl-7p73s1dx5in4tatdymyhg9hu2"
  }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>version</strong> – The version number of the swarm object being updated. This is required to avoid conflicting writes.</li> <li>
<strong>rotateWorkerToken</strong> - Set to <code>true</code> (or <code>1</code>) to rotate the worker join token.</li> <li>
<strong>rotateManagerToken</strong> - Set to <code>true</code> (or <code>1</code>) to rotate the manager join token.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>400</strong> – bad parameter</li> <li>
<strong>406</strong> – node is not part of a swarm</li> </ul> <p>JSON Parameters:</p> <ul> <li>
<strong>Orchestration</strong> – Configuration settings for the orchestration aspects of the swarm. <ul> <li>
<strong>TaskHistoryRetentionLimit</strong> – Maximum number of tasks history stored.</li> </ul>
</li> <li>
<strong>Raft</strong> – Raft related configuration. <ul> <li>
<strong>SnapshotInterval</strong> – Number of logs entries between snapshot.</li> <li>
<strong>KeepOldSnapshots</strong> – Number of snapshots to keep beyond the current snapshot.</li> <li>
<strong>LogEntriesForSlowFollowers</strong> – Number of log entries to keep around to sync up slow followers after a snapshot is created.</li> <li>
<strong>HeartbeatTick</strong> – Amount of ticks (in seconds) between each heartbeat.</li> <li>
<strong>ElectionTick</strong> – Amount of ticks (in seconds) needed without a leader to trigger a new election.</li> </ul>
</li> <li>
<strong>Dispatcher</strong> – Configuration settings for the task dispatcher. <ul> <li>
<strong>HeartbeatPeriod</strong> – The delay for an agent to send a heartbeat to the dispatcher.</li> </ul>
</li> <li>
<strong>CAConfig</strong> – CA configuration. <ul> <li>
<strong>NodeCertExpiry</strong> – Automatic expiry for nodes certificates.</li> <li>
<strong>ExternalCA</strong> - Configuration for forwarding signing requests to an external certificate authority. <ul> <li>
<strong>Protocol</strong> - Protocol for communication with the external CA (currently only “cfssl” is supported).</li> <li>
<strong>URL</strong> - URL where certificate signing requests should be sent.</li> <li>
<strong>Options</strong> - An object with key/value pairs that are interpreted as protocol-specific options for the external CA driver.</li> </ul>
</li> </ul>
</li> <li>
<strong>JoinTokens</strong> - Tokens that can be used by other nodes to join the swarm. <ul> <li>
<strong>Worker</strong> - Token to use for joining as a worker.</li> <li>
<strong>Manager</strong> - Token to use for joining as a manager.</li> </ul>
</li> </ul> <h2 id="3-9-services">3.9 Services</h2> <p><strong>Note</strong>: Service operations require to first be part of a swarm.</p> <h3 id="list-services">List services</h3> <p><code>GET /services</code></p> <p>List services</p> <p><strong>Example request</strong>:</p> <pre>GET /services HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Type: application/json

[
  {
    "ID": "9mnpnzenvg8p8tdbtq4wvbkcz",
    "Version": {
      "Index": 19
    },
    "CreatedAt": "2016-06-07T21:05:51.880065305Z",
    "UpdatedAt": "2016-06-07T21:07:29.962229872Z",
    "Spec": {
      "Name": "hopeful_cori",
      "TaskTemplate": {
        "ContainerSpec": {
          "Image": "redis"
        },
        "Resources": {
          "Limits": {},
          "Reservations": {}
        },
        "RestartPolicy": {
          "Condition": "ANY"
        },
        "Placement": {}
      },
      "Mode": {
        "Replicated": {
          "Replicas": 1
        }
      },
      "UpdateConfig": {
        "Parallelism": 1
      },
      "EndpointSpec": {
        "Mode": "VIP",
        "Ingress": "PUBLICPORT",
        "ExposedPorts": [
          {
            "Protocol": "tcp",
            "Port": 6379
          }
        ]
      }
    },
    "Endpoint": {
      "Spec": {},
      "ExposedPorts": [
        {
          "Protocol": "tcp",
          "Port": 6379,
          "PublicPort": 30000
        }
      ],
      "VirtualIPs": [
        {
          "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
          "Addr": "10.255.0.2/16"
        },
        {
          "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
          "Addr": "10.255.0.3/16"
        }
      ]
    }
  }
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>filters</strong> – a JSON encoded value of the filters (a <code>map[string][]string</code>) to process on the services list. Available filters: <ul> <li><code>id=&lt;node id&gt;</code></li> <li><code>name=&lt;node name&gt;</code></li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="create-a-service">Create a service</h3> <p><code>POST /services/create</code></p> <p>Create a service. When using this endpoint to create a service using a private repository from the registry, the <code>X-Registry-Auth</code> header must be used to include a base64-encoded AuthConfig object. Refer to the <a href="#create-an-image">create an image</a> section for more details.</p> <p><strong>Example request</strong>:</p> <pre>POST /services/create HTTP/1.1
Content-Type: application/json

{
  "Name": "web",
  "TaskTemplate": {
    "ContainerSpec": {
      "Image": "nginx:alpine",
      "Mounts": [
        {
          "ReadOnly": true,
          "Source": "web-data",
          "Target": "/usr/share/nginx/html",
          "Type": "volume",
          "VolumeOptions": {
            "DriverConfig": {
            },
            "Labels": {
              "com.example.something": "something-value"
            }
          }
        }
      ],
      "User": "33"
    },
    "LogDriver": {
      "Name": "json-file",
      "Options": {
        "max-file": "3",
        "max-size": "10M"
      }
    },
    "Placement": {},
    "Resources": {
      "Limits": {
        "MemoryBytes": 104857600.0
      },
      "Reservations": {
      }
    },
    "RestartPolicy": {
      "Condition": "on-failure",
      "Delay": 10000000000.0,
      "MaxAttempts": 10
    }
  },
  "Mode": {
    "Replicated": {
      "Replicas": 4
    }
  },
  "UpdateConfig": {
    "Delay": 30000000000.0,
    "Parallelism": 2,
    "FailureAction": "pause"
  },
  "EndpointSpec": {
    "Ports": [
      {
        "Protocol": "tcp",
        "PublishedPort": 8080,
        "TargetPort": 80
      }
    ]
  },
  "Labels": {
    "foo": "bar"
  }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 201 Created
Content-Type: application/json

{
  "ID":"ak7w3gjqoa3kuz8xcpnyy0pvl"
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>201</strong> – no error</li> <li>
<strong>406</strong> – server error or node is not part of a swarm</li> <li>
<strong>409</strong> – name conflicts with an existing object</li> </ul> <p><strong>JSON Parameters</strong>:</p> <ul> <li>
<strong>Name</strong> – User-defined name for the service.</li> <li>
<strong>Labels</strong> – A map of labels to associate with the service (e.g., <code>{"key":"value"[,"key2":"value2"]}</code>).</li> <li>
<strong>TaskTemplate</strong> – Specification of the tasks to start as part of the new service. <ul> <li>
<strong>ContainerSpec</strong> - Container settings for containers started as part of this task. <ul> <li>
<strong>Image</strong> – A string specifying the image name to use for the container.</li> <li>
<strong>Command</strong> – The command to be run in the image.</li> <li>
<strong>Args</strong> – Arguments to the command.</li> <li>
<strong>Env</strong> – A list of environment variables in the form of <code>["VAR=value"[,"VAR2=value2"]]</code>.</li> <li>
<strong>Dir</strong> – A string specifying the working directory for commands to run in.</li> <li>
<strong>User</strong> – A string value specifying the user inside the container.</li> <li>
<strong>Labels</strong> – A map of labels to associate with the service (e.g., <code>{"key":"value"[,"key2":"value2"]}</code>).</li> <li>
<strong>Mounts</strong> – Specification for mounts to be added to containers created as part of the service. <ul> <li>
<strong>Target</strong> – Container path.</li> <li>
<strong>Source</strong> – Mount source (e.g. a volume name, a host path).</li> <li>
<strong>Type</strong> – The mount type (<code>bind</code>, or <code>volume</code>).</li> <li>
<strong>ReadOnly</strong> – A boolean indicating whether the mount should be read-only.</li> <li>
<strong>BindOptions</strong> - Optional configuration for the <code>bind</code> type. <ul> <li>
<strong>Propagation</strong> – A propagation mode with the value <code>[r]private</code>, <code>[r]shared</code>, or <code>[r]slave</code>.</li> </ul>
</li> <li>
<strong>VolumeOptions</strong> – Optional configuration for the <code>volume</code> type. <ul> <li>
<strong>NoCopy</strong> – A boolean indicating if volume should be populated with the data from the target. (Default false)</li> <li>
<strong>Labels</strong> – User-defined name and labels for the volume.</li> <li>
<strong>DriverConfig</strong> – Map of driver-specific options. <ul> <li>
<strong>Name</strong> - Name of the driver to use to create the volume.</li> <li>
<strong>Options</strong> - key/value map of driver specific options.</li> </ul>
</li> </ul>
</li> </ul>
</li> <li>
<strong>StopGracePeriod</strong> – Amount of time to wait for the container to terminate before forcefully killing it.</li> </ul>
</li> <li>
<strong>LogDriver</strong> - Log configuration for containers created as part of the service. <ul> <li>
<strong>Name</strong> - Name of the logging driver to use (<code>json-file</code>, <code>syslog</code>, <code>journald</code>, <code>gelf</code>, <code>fluentd</code>, <code>awslogs</code>, <code>splunk</code>, <code>etwlogs</code>, <code>none</code>).</li> <li>
<strong>Options</strong> - Driver-specific options.</li> </ul>
</li> <li>
<strong>Resources</strong> – Resource requirements which apply to each individual container created as part of the service. <ul> <li>
<strong>Limits</strong> – Define resources limits. <ul> <li>
<strong>NanoCPUs</strong> – CPU limit in units of 10<sup>-9</sup> CPU shares.</li> <li>
<strong>MemoryBytes</strong> – Memory limit in Bytes.</li> </ul>
</li> <li>
<strong>Reservation</strong> – Define resources reservation. <ul> <li>
<strong>NanoCPUs</strong> – CPU reservation in units of 10<sup>-9</sup> CPU shares.</li> <li>
<strong>MemoryBytes</strong> – Memory reservation in Bytes.</li> </ul>
</li> </ul>
</li> <li>
<strong>RestartPolicy</strong> – Specification for the restart policy which applies to containers created as part of this service. <ul> <li>
<strong>Condition</strong> – Condition for restart (<code>none</code>, <code>on-failure</code>, or <code>any</code>).</li> <li>
<strong>Delay</strong> – Delay between restart attempts.</li> <li>
<strong>Attempts</strong> – Maximum attempts to restart a given container before giving up (default value is 0, which is ignored).</li> <li>
<strong>Window</strong> – Windows is the time window used to evaluate the restart policy (default value is 0, which is unbounded).</li> </ul>
</li> <li>
<strong>Placement</strong> – An array of constraints.</li> </ul>
</li> <li>
<strong>Mode</strong> – Scheduling mode for the service (<code>replicated</code> or <code>global</code>, defaults to <code>replicated</code>).</li> <li>
<strong>UpdateConfig</strong> – Specification for the update strategy of the service. <ul> <li>
<strong>Parallelism</strong> – Maximum number of tasks to be updated in one iteration (0 means unlimited parallelism).</li> <li>
<strong>Delay</strong> – Amount of time between updates.</li> <li>
<strong>FailureAction</strong> - Action to take if an updated task fails to run, or stops running during the update. Values are <code>continue</code> and <code>pause</code>.</li> </ul>
</li> <li>
<strong>Networks</strong> – Array of network names or IDs to attach the service to.</li> <li>
<strong>Endpoint</strong> – Properties that can be configured to access and load balance a service. <ul> <li>
<strong>Spec</strong> – <ul> <li>
<strong>Mode</strong> – The mode of resolution to use for internal load balancing between tasks (<code>vip</code> or <code>dnsrr</code>).</li> <li>
<strong>Ports</strong> – Exposed ports that this service is accessible on from the outside, in the form of: <code>"Ports": { "&lt;port&gt;/&lt;tcp|udp&gt;: {}" }</code>
</li> </ul>
</li> <li><strong>VirtualIPs</strong></li> </ul>
</li> </ul> <p><strong>Request Headers</strong>:</p> <ul> <li>
<strong>Content-type</strong> – Set to <code>"application/json"</code>.</li> <li>
<strong>X-Registry-Auth</strong> – base64-encoded AuthConfig object, containing either login information, or a token. Refer to the <a href="#create-an-image">create an image</a> section for more details.</li> </ul> <h3 id="remove-a-service">Remove a service</h3> <p><code>DELETE /services/(id or name)</code></p> <p>Stop and remove the service <code>id</code></p> <p><strong>Example request</strong>:</p> <pre>DELETE /services/16253994b7c4 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 No Content
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such service</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="inspect-one-or-more-services">Inspect one or more services</h3> <p><code>GET /services/(id or name)</code></p> <p>Return information on the service <code>id</code>.</p> <p><strong>Example request</strong>:</p> <pre>GET /services/1cb4dnqcyx6m66g2t538x3rxha HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>{
  "ID": "ak7w3gjqoa3kuz8xcpnyy0pvl",
  "Version": {
    "Index": 95
  },
  "CreatedAt": "2016-06-07T21:10:20.269723157Z",
  "UpdatedAt": "2016-06-07T21:10:20.276301259Z",
  "Spec": {
    "Name": "redis",
    "Task": {
      "ContainerSpec": {
        "Image": "redis"
      },
      "Resources": {
        "Limits": {},
        "Reservations": {}
      },
      "RestartPolicy": {
        "Condition": "ANY"
      },
      "Placement": {}
    },
    "Mode": {
      "Replicated": {
        "Replicas": 1
      }
    },
    "UpdateConfig": {
      "Parallelism": 1
    },
    "EndpointSpec": {
      "Mode": "VIP",
      "Ingress": "PUBLICPORT",
      "ExposedPorts": [
        {
          "Protocol": "tcp",
          "Port": 6379
        }
      ]
    }
  },
  "Endpoint": {
    "Spec": {},
    "ExposedPorts": [
      {
        "Protocol": "tcp",
        "Port": 6379,
        "PublicPort": 30001
      }
    ],
    "VirtualIPs": [
      {
        "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
        "Addr": "10.255.0.4/16"
      }
    ]
  }
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such service</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="update-a-service">Update a service</h3> <p><code>POST /services/(id or name)/update</code></p> <p>Update a service. When using this endpoint to create a service using a private repository from the registry, the <code>X-Registry-Auth</code> header can be used to update the authentication information for that is stored for the service. The header contains a base64-encoded AuthConfig object. Refer to the <a href="#create-an-image">create an image</a> section for more details.</p> <p><strong>Example request</strong>:</p> <pre>POST /services/1cb4dnqcyx6m66g2t538x3rxha/update?version=23 HTTP/1.1
Content-Type: application/json

{
  "Name": "top",
  "TaskTemplate": {
    "ContainerSpec": {
      "Image": "busybox",
      "Args": [
        "top"
      ]
    },
    "Resources": {
      "Limits": {},
      "Reservations": {}
    },
    "RestartPolicy": {
      "Condition": "any",
      "MaxAttempts": 0
    },
    "Placement": {}
  },
  "Mode": {
    "Replicated": {
      "Replicas": 1
    }
  },
  "UpdateConfig": {
    "Parallelism": 1
  },
  "EndpointSpec": {
    "Mode": "vip"
  }
}
</pre> <p><strong>Example response</strong>:</p> <pre>HTTP/1.1 200 OK
Content-Length: 0
Content-Type: text/plain; charset=utf-8
</pre> <p><strong>JSON Parameters</strong>:</p> <ul> <li>
<strong>Name</strong> – User-defined name for the service.</li> <li>
<strong>Labels</strong> – A map of labels to associate with the service (e.g., <code>{"key":"value"[,"key2":"value2"]}</code>).</li> <li>
<strong>TaskTemplate</strong> – Specification of the tasks to start as part of the new service. <ul> <li>
<strong>ContainerSpec</strong> - Container settings for containers started as part of this task. <ul> <li>
<strong>Image</strong> – A string specifying the image name to use for the container.</li> <li>
<strong>Command</strong> – The command to be run in the image.</li> <li>
<strong>Args</strong> – Arguments to the command.</li> <li>
<strong>Env</strong> – A list of environment variables in the form of <code>["VAR=value"[,"VAR2=value2"]]</code>.</li> <li>
<strong>Dir</strong> – A string specifying the working directory for commands to run in.</li> <li>
<strong>User</strong> – A string value specifying the user inside the container.</li> <li>
<strong>Labels</strong> – A map of labels to associate with the service (e.g., <code>{"key":"value"[,"key2":"value2"]}</code>).</li> <li>
<strong>Mounts</strong> – Specification for mounts to be added to containers created as part of the new service. <ul> <li>
<strong>Target</strong> – Container path.</li> <li>
<strong>Source</strong> – Mount source (e.g. a volume name, a host path).</li> <li>
<strong>Type</strong> – The mount type (<code>bind</code>, or <code>volume</code>).</li> <li>
<strong>ReadOnly</strong> – A boolean indicating whether the mount should be read-only.</li> <li>
<strong>BindOptions</strong> - Optional configuration for the <code>bind</code> type <ul> <li>
<strong>Propagation</strong> – A propagation mode with the value <code>[r]private</code>, <code>[r]shared</code>, or <code>[r]slave</code>.</li> </ul>
</li> <li>
<strong>VolumeOptions</strong> – Optional configuration for the <code>volume</code> type. <ul> <li>
<strong>NoCopy</strong> – A boolean indicating if volume should be populated with the data from the target. (Default false)</li> <li>
<strong>Labels</strong> – User-defined name and labels for the volume.</li> <li>
<strong>DriverConfig</strong> – Map of driver-specific options. <ul> <li>
<strong>Name</strong> - Name of the driver to use to create the volume</li> <li>
<strong>Options</strong> - key/value map of driver specific options</li> </ul>
</li> </ul>
</li> </ul>
</li> <li>
<strong>StopGracePeriod</strong> – Amount of time to wait for the container to terminate before forcefully killing it.</li> </ul>
</li> <li>
<strong>Resources</strong> – Resource requirements which apply to each individual container created as part of the service. <ul> <li>
<strong>Limits</strong> – Define resources limits. <ul> <li>
<strong>CPU</strong> – CPU limit</li> <li>
<strong>Memory</strong> – Memory limit</li> </ul>
</li> <li>
<strong>Reservation</strong> – Define resources reservation. <ul> <li>
<strong>CPU</strong> – CPU reservation</li> <li>
<strong>Memory</strong> – Memory reservation</li> </ul>
</li> </ul>
</li> <li>
<strong>RestartPolicy</strong> – Specification for the restart policy which applies to containers created as part of this service. <ul> <li>
<strong>Condition</strong> – Condition for restart (<code>none</code>, <code>on-failure</code>, or <code>any</code>).</li> <li>
<strong>Delay</strong> – Delay between restart attempts.</li> <li>
<strong>Attempts</strong> – Maximum attempts to restart a given container before giving up (default value is 0, which is ignored).</li> <li>
<strong>Window</strong> – Windows is the time window used to evaluate the restart policy (default value is 0, which is unbounded).</li> </ul>
</li> <li>
<strong>Placement</strong> – An array of constraints.</li> </ul>
</li> <li>
<strong>Mode</strong> – Scheduling mode for the service (<code>replicated</code> or <code>global</code>, defaults to <code>replicated</code>).</li> <li>
<strong>UpdateConfig</strong> – Specification for the update strategy of the service. <ul> <li>
<strong>Parallelism</strong> – Maximum number of tasks to be updated in one iteration (0 means unlimited parallelism).</li> <li>
<strong>Delay</strong> – Amount of time between updates.</li> </ul>
</li> <li>
<strong>Networks</strong> – Array of network names or IDs to attach the service to.</li> <li>
<strong>Endpoint</strong> – Properties that can be configured to access and load balance a service. <ul> <li>
<strong>Spec</strong> – <ul> <li>
<strong>Mode</strong> – The mode of resolution to use for internal load balancing between tasks (<code>vip</code> or <code>dnsrr</code>).</li> <li>
<strong>Ports</strong> – Exposed ports that this service is accessible on from the outside, in the form of: <code>"Ports": { "&lt;port&gt;/&lt;tcp|udp&gt;: {}" }</code>
</li> </ul>
</li> <li><strong>VirtualIPs</strong></li> </ul>
</li> </ul> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>version</strong> – The version number of the service object being updated. This is required to avoid conflicting writes.</li> </ul> <p><strong>Request Headers</strong>:</p> <ul> <li>
<strong>Content-type</strong> – Set to <code>"application/json"</code>.</li> <li>
<strong>X-Registry-Auth</strong> – base64-encoded AuthConfig object, containing either login information, or a token. Refer to the <a href="#create-an-image">create an image</a> section for more details.</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – no such service</li> <li>
<strong>500</strong> – server error</li> </ul> <h2 id="3-10-tasks">3.10 Tasks</h2> <p><strong>Note</strong>: Task operations require the engine to be part of a swarm.</p> <h3 id="list-tasks">List tasks</h3> <p><code>GET /tasks</code></p> <p>List tasks</p> <p><strong>Example request</strong>:</p> <pre>GET /tasks HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>[
  {
    "ID": "0kzzo1i0y4jz6027t0k7aezc7",
    "Version": {
      "Index": 71
    },
    "CreatedAt": "2016-06-07T21:07:31.171892745Z",
    "UpdatedAt": "2016-06-07T21:07:31.376370513Z",
    "Name": "hopeful_cori",
    "Spec": {
      "ContainerSpec": {
        "Image": "redis"
      },
      "Resources": {
        "Limits": {},
        "Reservations": {}
      },
      "RestartPolicy": {
        "Condition": "ANY"
      },
      "Placement": {}
    },
    "ServiceID": "9mnpnzenvg8p8tdbtq4wvbkcz",
    "Instance": 1,
    "NodeID": "24ifsmvkjbyhk",
    "ServiceAnnotations": {},
    "Status": {
      "Timestamp": "2016-06-07T21:07:31.290032978Z",
      "State": "FAILED",
      "Message": "execution failed",
      "ContainerStatus": {}
    },
    "DesiredState": "SHUTDOWN",
    "NetworksAttachments": [
      {
        "Network": {
          "ID": "4qvuz4ko70xaltuqbt8956gd1",
          "Version": {
            "Index": 18
          },
          "CreatedAt": "2016-06-07T20:31:11.912919752Z",
          "UpdatedAt": "2016-06-07T21:07:29.955277358Z",
          "Spec": {
            "Name": "ingress",
            "Labels": {
              "com.docker.swarm.internal": "true"
            },
            "DriverConfiguration": {},
            "IPAM": {
              "Driver": {},
              "Configs": [
                {
                  "Family": "UNKNOWN",
                  "Subnet": "10.255.0.0/16"
                }
              ]
            }
          },
          "DriverState": {
            "Name": "overlay",
            "Options": {
              "com.docker.network.driver.overlay.vxlanid_list": "256"
            }
          },
          "IPAM": {
            "Driver": {
              "Name": "default"
            },
            "Configs": [
              {
                "Family": "UNKNOWN",
                "Subnet": "10.255.0.0/16"
              }
            ]
          }
        },
        "Addresses": [
          "10.255.0.10/16"
        ]
      }
    ],
    "Endpoint": {
      "Spec": {},
      "ExposedPorts": [
        {
          "Protocol": "tcp",
          "Port": 6379,
          "PublicPort": 30000
        }
      ],
      "VirtualIPs": [
        {
          "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
          "Addr": "10.255.0.2/16"
        },
        {
          "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
          "Addr": "10.255.0.3/16"
        }
      ]
    }
  },
  {
    "ID": "1yljwbmlr8er2waf8orvqpwms",
    "Version": {
      "Index": 30
    },
    "CreatedAt": "2016-06-07T21:07:30.019104782Z",
    "UpdatedAt": "2016-06-07T21:07:30.231958098Z",
    "Name": "hopeful_cori",
    "Spec": {
      "ContainerSpec": {
        "Image": "redis"
      },
      "Resources": {
        "Limits": {},
        "Reservations": {}
      },
      "RestartPolicy": {
        "Condition": "ANY"
      },
      "Placement": {}
    },
    "ServiceID": "9mnpnzenvg8p8tdbtq4wvbkcz",
    "Instance": 1,
    "NodeID": "24ifsmvkjbyhk",
    "ServiceAnnotations": {},
    "Status": {
      "Timestamp": "2016-06-07T21:07:30.202183143Z",
      "State": "FAILED",
      "Message": "execution failed",
      "ContainerStatus": {}
    },
    "DesiredState": "SHUTDOWN",
    "NetworksAttachments": [
      {
        "Network": {
          "ID": "4qvuz4ko70xaltuqbt8956gd1",
          "Version": {
            "Index": 18
          },
          "CreatedAt": "2016-06-07T20:31:11.912919752Z",
          "UpdatedAt": "2016-06-07T21:07:29.955277358Z",
          "Spec": {
            "Name": "ingress",
            "Labels": {
              "com.docker.swarm.internal": "true"
            },
            "DriverConfiguration": {},
            "IPAM": {
              "Driver": {},
              "Configs": [
                {
                  "Family": "UNKNOWN",
                  "Subnet": "10.255.0.0/16"
                }
              ]
            }
          },
          "DriverState": {
            "Name": "overlay",
            "Options": {
              "com.docker.network.driver.overlay.vxlanid_list": "256"
            }
          },
          "IPAM": {
            "Driver": {
              "Name": "default"
            },
            "Configs": [
              {
                "Family": "UNKNOWN",
                "Subnet": "10.255.0.0/16"
              }
            ]
          }
        },
        "Addresses": [
          "10.255.0.5/16"
        ]
      }
    ],
    "Endpoint": {
      "Spec": {},
      "ExposedPorts": [
        {
          "Protocol": "tcp",
          "Port": 6379,
          "PublicPort": 30000
        }
      ],
      "VirtualIPs": [
        {
          "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
          "Addr": "10.255.0.2/16"
        },
        {
          "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
          "Addr": "10.255.0.3/16"
        }
      ]
    }
  }
]
</pre> <p><strong>Query parameters</strong>:</p> <ul> <li>
<strong>filters</strong> – a JSON encoded value of the filters (a <code>map[string][]string</code>) to process on the services list. Available filters: <ul> <li><code>id=&lt;task id&gt;</code></li> <li><code>name=&lt;task name&gt;</code></li> <li><code>service=&lt;service name&gt;</code></li> <li><code>node=&lt;node id&gt;</code></li> <li>
<code>label=key</code> or <code>label="key=value"</code>
</li> <li><code>desired-state=(running | shutdown | accepted)</code></li> </ul>
</li> </ul> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>500</strong> – server error</li> </ul> <h3 id="inspect-a-task">Inspect a task</h3> <p><code>GET /tasks/(task id)</code></p> <p>Get details on a task</p> <p><strong>Example request</strong>:</p> <pre>GET /tasks/0kzzo1i0y4jz6027t0k7aezc7 HTTP/1.1
</pre> <p><strong>Example response</strong>:</p> <pre>{
  "ID": "0kzzo1i0y4jz6027t0k7aezc7",
  "Version": {
    "Index": 71
  },
  "CreatedAt": "2016-06-07T21:07:31.171892745Z",
  "UpdatedAt": "2016-06-07T21:07:31.376370513Z",
  "Name": "hopeful_cori",
  "Spec": {
    "ContainerSpec": {
      "Image": "redis"
    },
    "Resources": {
      "Limits": {},
      "Reservations": {}
    },
    "RestartPolicy": {
      "Condition": "ANY"
    },
    "Placement": {}
  },
  "ServiceID": "9mnpnzenvg8p8tdbtq4wvbkcz",
  "Instance": 1,
  "NodeID": "24ifsmvkjbyhk",
  "ServiceAnnotations": {},
  "Status": {
    "Timestamp": "2016-06-07T21:07:31.290032978Z",
    "State": "FAILED",
    "Message": "execution failed",
    "ContainerStatus": {}
  },
  "DesiredState": "SHUTDOWN",
  "NetworksAttachments": [
    {
      "Network": {
        "ID": "4qvuz4ko70xaltuqbt8956gd1",
        "Version": {
          "Index": 18
        },
        "CreatedAt": "2016-06-07T20:31:11.912919752Z",
        "UpdatedAt": "2016-06-07T21:07:29.955277358Z",
        "Spec": {
          "Name": "ingress",
          "Labels": {
            "com.docker.swarm.internal": "true"
          },
          "DriverConfiguration": {},
          "IPAM": {
            "Driver": {},
            "Configs": [
              {
                "Family": "UNKNOWN",
                "Subnet": "10.255.0.0/16"
              }
            ]
          }
        },
        "DriverState": {
          "Name": "overlay",
          "Options": {
            "com.docker.network.driver.overlay.vxlanid_list": "256"
          }
        },
        "IPAM": {
          "Driver": {
            "Name": "default"
          },
          "Configs": [
            {
              "Family": "UNKNOWN",
              "Subnet": "10.255.0.0/16"
            }
          ]
        }
      },
      "Addresses": [
        "10.255.0.10/16"
      ]
    }
  ],
  "Endpoint": {
    "Spec": {},
    "ExposedPorts": [
      {
        "Protocol": "tcp",
        "Port": 6379,
        "PublicPort": 30000
      }
    ],
    "VirtualIPs": [
      {
        "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
        "Addr": "10.255.0.2/16"
      },
      {
        "NetworkID": "4qvuz4ko70xaltuqbt8956gd1",
        "Addr": "10.255.0.3/16"
      }
    ]
  }
}
</pre> <p><strong>Status codes</strong>:</p> <ul> <li>
<strong>200</strong> – no error</li> <li>
<strong>404</strong> – unknown task</li> <li>
<strong>500</strong> – server error</li> </ul> <h1 id="4-going-further">4. Going further</h1> <h2 id="4-1-inside-docker-run">4.1 Inside <code>docker run</code>
</h2> <p>As an example, the <code>docker run</code> command line makes the following API calls:</p> <ul> <li><p>Create the container</p></li> <li>
<p>If the status code is 404, it means the image doesn’t exist:</p> <ul> <li>Try to pull it.</li> <li>Then, retry to create the container.</li> </ul>
</li> <li><p>Start the container.</p></li> <li><p>If you are not in detached mode:</p></li> <li><p>Attach to the container, using <code>logs=1</code> (to have <code>stdout</code> and <code>stderr</code> from the container’s start) and <code>stream=1</code></p></li> <li><p>If in detached mode or only <code>stdin</code> is attached, display the container’s id.</p></li> </ul> <h2 id="4-2-hijacking">4.2 Hijacking</h2> <p>In this version of the API, <code>/attach</code>, uses hijacking to transport <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> on the same socket.</p> <p>To hint potential proxies about connection hijacking, Docker client sends connection upgrade headers similarly to websocket.</p> <pre>Upgrade: tcp
Connection: Upgrade
</pre> <p>When Docker daemon detects the <code>Upgrade</code> header, it switches its status code from <strong>200 OK</strong> to <strong>101 UPGRADED</strong> and resends the same headers.</p> <h2 id="4-3-cors-requests">4.3 CORS Requests</h2> <p>To set cross origin requests to the remote api please give values to <code>--api-cors-header</code> when running Docker in daemon mode. Set * (asterisk) allows all, default or blank means CORS disabled</p> <pre>$ dockerd -H="192.168.1.9:2375" --api-cors-header="http://foo.bar"
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013–2016 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/engine/reference/api/docker_remote_api_v1.25/" class="_attribution-link" target="_blank">https://docs.docker.com/engine/reference/api/docker_remote_api_v1.25/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
