
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ControllerAuthorize (Class) - CakePHP 2.8 - W3cubDocs</title>
  
  <meta name="description" content="An authorization adapter for AuthComponent. Provides the ability to authorize using a controller callback. Your controller&#39;s isAuthorized() &hellip;">
  <meta name="keywords" content="class, controllerauthorize, -, cakephp, cakephp~2.8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~2.8/class-controllerauthorize/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cakephp~2.8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~2.8/" class="_nav-link" title="" style="margin-left:0;">CakePHP 2.8</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cakephp">
				
<h1>Class ControllerAuthorize</h1>  <p>An authorization adapter for AuthComponent. Provides the ability to authorize using a controller callback. Your controller's isAuthorized() method should return a boolean to indicate whether or not the user is authorized.</p> <pre data-language="php">public function isAuthorized($user) {
    if (!empty($this-&gt;request-&gt;params['admin'])) {
        return $user['role'] === 'admin';
    }
    return !empty($user);
}</pre> <p>the above is simple implementation that would only authorize users of the 'admin' role to access admin routing.</p>  <dl class="tree"> <dd style="padding-left:0px"> <a href="../class-baseauthorize/"><span>BaseAuthorize</span></a> </dd> <dd style="padding-left:30px"> <img src="http://api.cakephp.org/2.8/resources/inherit.png" alt="Extended by"> <b><span>ControllerAuthorize</span></b> </dd> </dl> <div class="info"> <b>Package:</b> <a href="../package-cake/">Cake</a>\<a href="../package-cake.controller/">Controller</a>\<a href="../package-cake.controller.component/">Component</a>\<a href="../package-cake.controller.component.auth/">Auth</a><br> <b>Since:</b> 2.0<br> <b>See:</b> AuthComponent::$authenticate<br> <b>Copyright:</b> Copyright (c) Cake Software Foundation, Inc. (http://cakefoundation.org)<br> <b>License:</b> <a href="http://www.opensource.org/licenses/mit-license.php" target="_blank">MIT License</a><br> <b>Location:</b> <a href="http://api.cakephp.org/2.8/source-class-ControllerAuthorize.html#17-66" title="Go to source code" target="_blank">Cake/Controller/Component/Auth/ControllerAuthorize.php</a><br> </div>  <h2>Inherited Properties</h2> <ul class="member-summary used"> <li> <code><a href="../class-baseauthorize/#%24_Collection">_Collection</a></code>, <code><a href="../class-baseauthorize/#%24_Controller">_Controller</a></code>, <code><a href="../class-baseauthorize/#%24settings">settings</a></code> </li> </ul>   <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="../class-controllerauthorize/#_authorize">authorize()</a> <span class="label">public</span> </div>  Checks user authorization using a controller callback.  </li> <li class="clearfix"> <div> <a href="../class-controllerauthorize/#_controller">controller()</a> <span class="label">public</span> </div>  Get/set the controller this authorize object will be working with. Also checks that isAuthorized is implemented.  </li> </ul>   <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="_authorize"> <span class="name">authorize()</span><a href="http://api.cakephp.org/2.8/source-class-ControllerAuthorize.html#55-64" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">authorize( array $user , CakeRequest $request )</pre>  <p>Checks user authorization using a controller callback.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$user</code> </dt> <dd>Active user data</dd> <dt> <code><a href="../class-cakerequest/">CakeRequest</a></code> <code>$request</code> </dt> <dd>Request instance.</dd> </dl>  <h4>Returns</h4>  boolean<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_controller"> <span class="name">controller()</span><a href="http://api.cakephp.org/2.8/source-class-ControllerAuthorize.html#39-53" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">controller( Controller $controller null )</pre>  <p>Get/set the controller this authorize object will be working with. Also checks that isAuthorized is implemented.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-controller/">Controller</a></code> <code>$controller</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>null to get, a controller to set.</dd> </dl>  <h4>Returns</h4>  mixed<br>  <h4>Throws</h4>  <code><a href="../class-cakeexception/">CakeException</a></code><br>  <h4>Overrides</h4> <code><a href="../class-baseauthorize/#_controller">BaseAuthorize::controller()</a></code>  </div>   <h2>Methods inherited from <a href="../class-baseauthorize/#methods">BaseAuthorize</a>
</h2> <div class="method-detail">   <h3 class="method-name" id="___construct"> <span class="name">__construct()</span><a href="http://api.cakephp.org/2.8/source-class-BaseAuthorize.html#63-74" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">__construct( ComponentCollection $collection , string $settings array() )</pre>  <p>Constructor</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-componentcollection/">ComponentCollection</a></code> <code>$collection</code> </dt> <dd>The controller for this request.</dd> <dt> string <code>$settings</code> <span class="label">optional</span> <span class="php-keyword1">array</span>() </dt> <dd>An array of settings. This class does not use any settings.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_action"> <span class="name">action()</span><a href="http://api.cakephp.org/2.8/source-class-BaseAuthorize.html#103-120" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">action( CakeRequest $request , string $path '/:plugin/:controller/:action' )</pre>  <p>Get the action path for a given request. Primarily used by authorize objects that need to get information about the plugin, controller, and action being invoked.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cakerequest/">CakeRequest</a></code> <code>$request</code> </dt> <dd>The request a path is needed for.</dd> <dt> string <code>$path</code> <span class="label">optional</span> <span class="php-quote">'/:plugin/:controller/:action'</span> </dt> <dd>Path format.</dd> </dl>  <h4>Returns</h4>  string<br>the action path for the given request.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_mapActions"> <span class="name">mapActions()</span><a href="http://api.cakephp.org/2.8/source-class-BaseAuthorize.html#122-166" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">mapActions( array $map array() )</pre>  <p>Maps crud actions to actual action names. Used to modify or get the current mapped actions.</p> <p>Create additional mappings for a standard CRUD operation:</p> <pre data-language="php">$this-&gt;Auth-&gt;mapActions(array('create' =&gt; array('add', 'register'));</pre> <p>Or equivalently:</p> <pre data-language="php">$this-&gt;Auth-&gt;mapActions(array('register' =&gt; 'create', 'add' =&gt; 'create'));</pre> <p>Create mappings for custom CRUD operations:</p> <pre data-language="php">$this-&gt;Auth-&gt;mapActions(array('range' =&gt; 'search'));</pre> <p>You can use the custom CRUD operations to create additional generic permissions that behave like CRUD operations. Doing this will require additional columns on the permissions lookup. For example if one wanted an additional search CRUD operation one would create and additional column '_search' in the aros_acos table. One could create a custom admin CRUD operation for administration functions similarly if needed.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$map</code> <span class="label">optional</span> <span class="php-keyword1">array</span>() </dt> <dd>Either an array of mappings, or undefined to get current values.</dd> </dl>  <h4>Returns</h4>  mixed<br>Either the current mappings or null when setting.<br>  <h4>See</h4>  AuthComponent::mapActions()<br>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2016 The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="http://api.cakephp.org/2.8/class-ControllerAuthorize.html" class="_attribution-link" target="_blank">http://api.cakephp.org/2.8/class-ControllerAuthorize.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
