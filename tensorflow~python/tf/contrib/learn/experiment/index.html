
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>contrib.learn.Experiment - TensorFlow Python - W3cubDocs</title>
  
  <meta name="description" content=" See the guide&#58; Learn (contrib) &#62; Distributed training utilities ">
  <meta name="keywords" content="tf, contrib, learn, experiment, -, tensorflow, python, tensorflow~python">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/tensorflow~python/tf/contrib/learn/experiment/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/tensorflow~python.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/tensorflow~python/" class="_nav-link" title="" style="margin-left:0;">TensorFlow Python</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _tensorflow">
				
<h1 itemprop="name" class="devsite-page-title"> tf.contrib.learn.Experiment </h1>    <h3 id="class_tfcontriblearnexperiment"><code>class tf.contrib.learn.Experiment</code></h3> <p>See the guide: <a href="https://www.tensorflow.org/api_guides/python/contrib.learn#Distributed_training_utilities" target="_blank">Learn (contrib) &gt; Distributed training utilities</a></p> <p>Experiment is a class containing all information needed to train a model.</p> <p>After an experiment is created (by passing an Estimator and inputs for training and evaluation), an Experiment instance knows how to invoke training and eval loops in a sensible fashion for distributed training.</p> <h2 id="properties">Properties</h2> <h3 id="continuous_eval_predicate_fn"><code>continuous_eval_predicate_fn</code></h3> <h3 id="continuous_eval_throttle_secs"><code>continuous_eval_throttle_secs</code></h3> <h3 id="delay_workers_by_global_step"><code>delay_workers_by_global_step</code></h3> <h3 id="estimator"><code>estimator</code></h3> <h3 id="eval_delay_secs"><code>eval_delay_secs</code></h3> <h3 id="eval_hooks"><code>eval_hooks</code></h3> <h3 id="eval_input_fn"><code>eval_input_fn</code></h3> <h3 id="eval_metrics"><code>eval_metrics</code></h3> <h3 id="eval_steps"><code>eval_steps</code></h3> <h3 id="export_strategies"><code>export_strategies</code></h3> <h3 id="local_eval_frequency"><code>local_eval_frequency</code></h3> <h3 id="min_eval_frequency"><code>min_eval_frequency</code></h3> <h3 id="train_input_fn"><code>train_input_fn</code></h3> <h3 id="train_monitors"><code>train_monitors</code></h3> <h3 id="train_steps"><code>train_steps</code></h3> <h2 id="methods">Methods</h2> <h3 id="__init__"><code>__init__(*args, **kwargs)</code></h3> <p>Constructor for <code>Experiment</code>. (deprecated arguments)</p> <p>SOME ARGUMENTS ARE DEPRECATED. They will be removed after 2016-10-23. Instructions for updating: local_eval_frequency is deprecated as local_run will be renamed to train_and_evaluate. Use min_eval_frequency and call train_and_evaluate instead. Note, however, that the default for min_eval_frequency is 1, meaning models will be evaluated every time a new checkpoint is available. In contrast, the default for local_eval_frequency is None, resulting in evaluation occurring only after training has completed. min_eval_frequency is ignored when calling the deprecated local_run.</p> <p>Creates an Experiment instance. None of the functions passed to this constructor are executed at construction time. They are stored and used when a method is executed which requires it.</p> <h4 id="args">Args:</h4> <ul> <li>
<b><code>estimator</code></b>: Object implementing <code>Trainable</code> and <code>Evaluable</code>.</li> <li>
<b><code>train_input_fn</code></b>: function, returns features and labels for training.</li> <li>
<b><code>eval_input_fn</code></b>: function, returns features and labels for evaluation. If <code>eval_steps</code> is <code>None</code>, this should be configured only to produce for a finite number of batches (generally, 1 epoch over the evaluation data).</li> <li>
<b><code>eval_metrics</code></b>: <code>dict</code> of string, metric function. If <code>None</code>, default set is used.</li> <li>
<b><code>train_steps</code></b>: Perform this many steps of training. <code>None</code>, the default, means train forever.</li> <li>
<b><code>eval_steps</code></b>: <code>evaluate</code> runs until input is exhausted (or another exception is raised), or for <code>eval_steps</code> steps, if specified.</li> <li>
<b><code>train_monitors</code></b>: A list of monitors to pass to the <code>Estimator</code>'s <code>fit</code> function.</li> <li>
<b><code>eval_hooks</code></b>: A list of <code>SessionRunHook</code> hooks to pass to the <code>Estimator</code>'s <code>evaluate</code> function.</li> <li>
<b><code>local_eval_frequency</code></b>: Frequency of running eval in steps, when running locally. If <code>None</code>, runs evaluation only at the end of training.</li> <li>
<b><code>eval_delay_secs</code></b>: Start evaluating after waiting for this many seconds.</li> <li>
<b><code>continuous_eval_throttle_secs</code></b>: Do not re-evaluate unless the last evaluation was started at least this many seconds ago for continuous_eval().</li> <li>
<b><code>min_eval_frequency</code></b>: (applies only to train_and_evaluate). the minimum number of steps between evaluations. Of course, evaluation does not occur if no new snapshot is available, hence, this is the minimum.</li> <li>
<b><code>delay_workers_by_global_step</code></b>: if <code>True</code> delays training workers based on global step instead of time.</li> <li>
<b><code>export_strategies</code></b>: A list of <code>ExportStrategy</code>s, or a single one, or None.</li> <li>
<b><code>continuous_eval_predicate_fn</code></b>: A predicate function determining whether to continue eval after each iteration. <code>predicate_fn</code> takes the evaluation results as arguments. At the beginning of evaluation, the passed eval results will be None so it's expected that the predicate function handles that gracefully. When <code>predicate_fn</code> is not specified, continuous eval will run in an infinite loop.</li> </ul> <h4 id="raises">Raises:</h4> <ul> <li>
<b><code>ValueError</code></b>: if <code>estimator</code> does not implement <code>Evaluable</code> and <code>Trainable</code>, or if export_strategies has the wrong type.</li> </ul> <h3 id="continuous_eval"><code>continuous_eval(delay_secs=None, throttle_delay_secs=None, evaluate_checkpoint_only_once=True)</code></h3> <h3 id="continuous_eval_on_train_data"><code>continuous_eval_on_train_data(delay_secs=None, throttle_delay_secs=None)</code></h3> <h3 id="evaluate"><code>evaluate(delay_secs=None)</code></h3> <p>Evaluate on the evaluation data.</p> <p>Runs evaluation on the evaluation data and returns the result. Runs for <code>self._eval_steps</code> steps, or if it's <code>None</code>, then run until input is exhausted or another exception is raised. Start the evaluation after <code>delay_secs</code> seconds, or if it's <code>None</code>, defaults to using <code>self._eval_delay_secs</code> seconds.</p> <h4 id="args_1">Args:</h4> <ul> <li>
<b><code>delay_secs</code></b>: Start evaluating after this many seconds. If <code>None</code>, defaults to using <code>self._eval_delays_secs</code>.</li> </ul> <h4 id="returns">Returns:</h4> <p>The result of the <code>evaluate</code> call to the <code>Estimator</code>.</p> <h3 id="local_run"><code>local_run(*args, **kwargs)</code></h3> <p>DEPRECATED FUNCTION</p> <p>THIS FUNCTION IS DEPRECATED. It will be removed after 2016-10-23. Instructions for updating: local_run will be renamed to train_and_evaluate and the new default behavior will be to run evaluation every time there is a new checkpoint.</p> <h3 id="run_std_server"><code>run_std_server()</code></h3> <p>Starts a TensorFlow server and joins the serving thread.</p> <p>Typically used for parameter servers.</p> <h4 id="raises_1">Raises:</h4> <ul> <li>
<b><code>ValueError</code></b>: if not enough information is available in the estimator's config to create a server.</li> </ul> <h3 id="test"><code>test()</code></h3> <p>Tests training and evaluating the estimator both for a single step.</p> <h4 id="returns_1">Returns:</h4> <p>The result of the <code>evaluate</code> call to the <code>Estimator</code>.</p> <h3 id="train"><code>train(delay_secs=None)</code></h3> <p>Fit the estimator using the training data.</p> <p>Train the estimator for <code>self._train_steps</code> steps, after waiting for <code>delay_secs</code> seconds. If <code>self._train_steps</code> is <code>None</code>, train forever.</p> <h4 id="args_2">Args:</h4> <ul> <li>
<b><code>delay_secs</code></b>: Start training after this many seconds.</li> </ul> <h4 id="returns_2">Returns:</h4> <p>The trained estimator.</p> <h3 id="train_and_evaluate"><code>train_and_evaluate()</code></h3> <p>Interleaves training and evaluation.</p> <p>The frequency of evaluation is controlled by the contructor arg <code>min_eval_frequency</code>. When this parameter is None or 0, evaluation happens only after training has completed. Note that evaluation cannot happen more frequently than checkpoints are taken. If no new snapshots are available when evaluation is supposed to occur, then evaluation doesn't happen for another <code>min_eval_frequency</code> steps (assuming a checkpoint is available at that point). Thus, settings <code>min_eval_frequency</code> to 1 means that the model will be evaluated everytime there is a new checkpoint.</p> <p>This is particular useful for a "Master" task in the cloud, whose responsibility it is to take checkpoints, evaluate those checkpoints, and write out summaries. Participating in training as the supervisor allows such a task to accomplish the first and last items, while performing evaluation allows for the second.</p> <h4 id="returns_3">Returns:</h4> <p>The result of the <code>evaluate</code> call to the <code>Estimator</code>.</p> <p>Defined in <a href="https://www.tensorflow.org/code/tensorflow/contrib/learn/python/learn/experiment.py" target="_blank"><code>tensorflow/contrib/learn/python/learn/experiment.py</code></a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2017 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 3.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/Experiment" class="_attribution-link" target="_blank">https://www.tensorflow.org/api_docs/python/tf/contrib/learn/Experiment</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
