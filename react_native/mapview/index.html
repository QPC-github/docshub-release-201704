
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>MapView - React Native - W3cubDocs</title>
  
  <meta name="description" content=" IMPORTANT&#58; This component is now DEPRECATED and will be removed in January 2017 (React Native version 0.42). This component only supports iOS. ">
  <meta name="keywords" content="mapview, -, react, native, react_native">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/react_native/mapview/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/react_native.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/react_native/" class="_nav-link" title="" style="margin-left:0;">React Native</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _react">
				
<h1 id="mapview">
MapView </h1>
<p><strong>IMPORTANT: This component is now DEPRECATED and will be removed in January 2017 (React Native version 0.42). This component only supports iOS.</strong></p>
<p><strong>Please use <a href="https://github.com/airbnb/react-native-maps" target="_blank">react-native-maps</a> by Airbnb instead of this component.</strong> Our friends at Airbnb have done an amazing job building a cross-platform <code>MapView</code> component that is more feature complete. It is used extensively (over 9k installs / month).</p>
<p><code>MapView</code> is used to display embeddable maps and annotations using <code>MKMapView</code>.</p>
<pre class="prism language-javascript" data-language="javascript">import React, { Component } from 'react';
import { MapView } from 'react-native';

class MapMyRide extends Component {
  render() {
    return (
      &lt;MapView
        style={{height: 200, margin: 40}}
        showsUserLocation={true}
      /&gt;
    );
  }
}</pre>
<h2 id="props">
Props </h2>
<h3 class="propTitle" id="view">
<a href="../view/#props">View props...</a> </h3>
<h3 class="propTitle" id="annotations">
annotations?: <code class="propType"><code>[object Object]</code></code> </h3>
<div><p>Map annotations with title and subtitle.</p></div>
<h3 class="propTitle" id="followuserlocation">
followUserLocation?: <code class="propType"><code>bool</code></code> </h3>
<div><p>If <code>true</code> the map will follow the user's location whenever it changes. Note that this has no effect unless <code>showsUserLocation</code> is enabled. Default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="legallabelinsets">
legalLabelInsets?: <code class="propType"><code>{top: number, left: number, bottom: number, right: number}</code></code> </h3>
<div><p>Insets for the map's legal label, originally at bottom left of the map.</p></div>
<h3 class="propTitle" id="maptype">
mapType?: <code class="propType"><code>enum('standard', 'satellite', 'hybrid')</code></code> </h3>
<div>
<p>The map type to be displayed.</p>
<ul>
<li>
<code>standard</code>: Standard road map (default).</li>
<li>
<code>satellite</code>: Satellite view.</li>
<li>
<code>hybrid</code>: Satellite view with roads and points of interest overlaid.</li>
</ul>
</div>
<h3 class="propTitle" id="maxdelta">
maxDelta?: <code class="propType"><code>number</code></code> </h3>
<div><p>Maximum size of the area that can be displayed.</p></div>
<h3 class="propTitle" id="mindelta">
minDelta?: <code class="propType"><code>number</code></code> </h3>
<div><p>Minimum size of the area that can be displayed.</p></div>
<h3 class="propTitle" id="onannotationpress">
onAnnotationPress?: <code class="propType"><code>function</code></code> </h3>
<div><p>Deprecated. Use annotation <code>onFocus</code> and <code>onBlur</code> instead.</p></div>
<h3 class="propTitle" id="onregionchange">
onRegionChange?: <code class="propType"><code>function</code></code> </h3>
<div><p>Callback that is called continuously when the user is dragging the map.</p></div>
<h3 class="propTitle" id="onregionchangecomplete">
onRegionChangeComplete?: <code class="propType"><code>function</code></code> </h3>
<div><p>Callback that is called once, when the user is done moving the map.</p></div>
<h3 class="propTitle" id="overlays">
overlays?: <code class="propType"><code>[object Object]</code></code> </h3>
<div><p>Map overlays</p></div>
<h3 class="propTitle" id="pitchenabled">
pitchEnabled?: <code class="propType"><code>bool</code></code> </h3>
<div>
<p>When this property is set to <code>true</code> and a valid camera is associated with the map, the camera's pitch angle is used to tilt the plane of the map.</p>
<p>When this property is set to <code>false</code>, the camera's pitch angle is ignored and the map is always displayed as if the user is looking straight down onto it.</p>
</div>
<h3 class="propTitle" id="region">
region?: <code class="propType"><code>{latitude: [object Object], longitude: [object Object], latitudeDelta: [object Object], longitudeDelta: [object Object]}</code></code> </h3>
<div>
<p>The region to be displayed by the map.</p>
<p>The region is defined by the center coordinates and the span of coordinates to display.</p>
</div>
<h3 class="propTitle" id="rotateenabled">
rotateEnabled?: <code class="propType"><code>bool</code></code> </h3>
<div>
<p>When this property is set to <code>true</code> and a valid camera is associated with the map, the camera's heading angle is used to rotate the plane of the map around its center point.</p>
<p>When this property is set to <code>false</code>, the camera's heading angle is ignored and the map is always oriented so that true north is situated at the top of the map view</p>
</div>
<h3 class="propTitle" id="scrollenabled">
scrollEnabled?: <code class="propType"><code>bool</code></code> </h3>
<div><p>If <code>false</code> the user won't be able to change the map region being displayed. Default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="showsannotationcallouts">
showsAnnotationCallouts?: <code class="propType"><code>bool</code></code> </h3>
<div><p>If <code>true</code> the map will show the callouts for all annotations without the user having to click on the annotation. Default value is <code>false</code>.</p></div>
<h3 class="propTitle" id="showscompass">
showsCompass?: <code class="propType"><code>bool</code></code> </h3>
<div><p>If <code>false</code>, compass won't be displayed on the map. Default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="showspointsofinterest">
showsPointsOfInterest?: <code class="propType"><code>bool</code></code> </h3>
<div><p>If <code>false</code> points of interest won't be displayed on the map. Default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="showsuserlocation">
showsUserLocation?: <code class="propType"><code>bool</code></code> </h3>
<div>
<p>If <code>true</code> the app will ask for the user's location and display it on the map. Default value is <code>false</code>.</p>
<p><strong>NOTE</strong>: You'll need to add the <code>NSLocationWhenInUseUsageDescription</code> key in Info.plist to enable geolocation, otherwise it will fail silently.</p>
</div>
<h3 class="propTitle" id="style">
style?: <code class="propType"><code>[object Object]</code></code> </h3>
<div><p>Used to style and layout the <code>MapView</code>.</p></div>
<h3 class="propTitle" id="zoomenabled">
zoomEnabled?: <code class="propType"><code>bool</code></code> </h3>
<div><p>If <code>false</code> the user won't be able to pinch/zoom the map. Default value is <code>true</code>.</p></div>
<h3 class="propTitle" id="active">
<span class="platform">android</span>active?: <code class="propType"><code>bool</code></code> </h3>
<h3 id="type-definitions">
Type Definitions </h3>
<h3 class="propTitle" id="annotationdragstate">
AnnotationDragState </h3>
<div><p>State of an annotation on the map.</p></div>
<strong>Type:</strong><br>$Enum<div>
<br><strong>Constants:</strong><table class="params">
<thead><tr>
<th>Value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td>idle</td>
<td class="description"><div><p>Annotation is not being touched.</p></div></td>
</tr>
<tr>
<td>starting</td>
<td class="description"><div><p>Annotation dragging has began.</p></div></td>
</tr>
<tr>
<td>dragging</td>
<td class="description"><div><p>Annotation is being dragged.</p></div></td>
</tr>
<tr>
<td>canceling</td>
<td class="description"><div><p>Annotation dragging is being canceled.</p></div></td>
</tr>
<tr>
<td>ending</td>
<td class="description"><div><p>Annotation dragging has ended.</p></div></td>
</tr>
</tbody>
</table>
</div>
<h3 id="examples">
Examples </h3>
<div class="example-container"><pre class="prism language-javascript" data-language="javascript">'use strict';

var React = require('react');
var ReactNative = require('react-native');
var { PropTypes } = React;
var {
  Image,
  MapView,
  StyleSheet,
  Text,
  TextInput,
  TouchableOpacity,
  View,
} = ReactNative;

var regionText = {
  latitude: '0',
  longitude: '0',
  latitudeDelta: '0',
  longitudeDelta: '0',
};

var MapRegionInput = React.createClass({

  propTypes: {
    region: PropTypes.shape({
      latitude: PropTypes.number.isRequired,
      longitude: PropTypes.number.isRequired,
      latitudeDelta: PropTypes.number,
      longitudeDelta: PropTypes.number,
    }),
    onChange: PropTypes.func.isRequired,
  },

  getInitialState() {
    return {
      region: {
        latitude: 0,
        longitude: 0,
      }
    };
  },

  componentWillReceiveProps: function(nextProps) {
    this.setState({
      region: nextProps.region || this.getInitialState().region
    });
  },

  render: function() {
    var region = this.state.region || this.getInitialState().region;
    return (
      &lt;View&gt;
        &lt;View style={styles.row}&gt;
          &lt;Text&gt;
            {'Latitude'}
          &lt;/Text&gt;
          &lt;TextInput
            value={'' + region.latitude}
            style={styles.textInput}
            onChange={this._onChangeLatitude}
            selectTextOnFocus={true}
          /&gt;
        &lt;/View&gt;
        &lt;View style={styles.row}&gt;
          &lt;Text&gt;
            {'Longitude'}
          &lt;/Text&gt;
          &lt;TextInput
            value={'' + region.longitude}
            style={styles.textInput}
            onChange={this._onChangeLongitude}
            selectTextOnFocus={true}
          /&gt;
        &lt;/View&gt;
        &lt;View style={styles.row}&gt;
          &lt;Text&gt;
            {'Latitude delta'}
          &lt;/Text&gt;
          &lt;TextInput
            value={
              region.latitudeDelta == null ? '' : String(region.latitudeDelta)
            }
            style={styles.textInput}
            onChange={this._onChangeLatitudeDelta}
            selectTextOnFocus={true}
          /&gt;
        &lt;/View&gt;
        &lt;View style={styles.row}&gt;
          &lt;Text&gt;
            {'Longitude delta'}
          &lt;/Text&gt;
          &lt;TextInput
            value={
              region.longitudeDelta == null ? '' : String(region.longitudeDelta)
            }
            style={styles.textInput}
            onChange={this._onChangeLongitudeDelta}
            selectTextOnFocus={true}
          /&gt;
        &lt;/View&gt;
        &lt;View style={styles.changeButton}&gt;
          &lt;Text onPress={this._change}&gt;
            {'Change'}
          &lt;/Text&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    );
  },

  _onChangeLatitude: function(e) {
    regionText.latitude = e.nativeEvent.text;
  },

  _onChangeLongitude: function(e) {
    regionText.longitude = e.nativeEvent.text;
  },

  _onChangeLatitudeDelta: function(e) {
    regionText.latitudeDelta = e.nativeEvent.text;
  },

  _onChangeLongitudeDelta: function(e) {
    regionText.longitudeDelta = e.nativeEvent.text;
  },

  _change: function() {
    this.setState({
      region: {
        latitude: parseFloat(regionText.latitude),
        longitude: parseFloat(regionText.longitude),
        latitudeDelta: parseFloat(regionText.latitudeDelta),
        longitudeDelta: parseFloat(regionText.longitudeDelta),
      },
    });
    this.props.onChange(this.state.region);
  },

});

class MapViewExample extends React.Component {
  state = {
    isFirstLoad: true,
    mapRegion: undefined,
    mapRegionInput: undefined,
    annotations: [],
  };

  render() {
    return (
      &lt;View&gt;
        &lt;MapView
          style={styles.map}
          onRegionChange={this._onRegionChange}
          onRegionChangeComplete={this._onRegionChangeComplete}
          region={this.state.mapRegion}
          annotations={this.state.annotations}
        /&gt;
        &lt;MapRegionInput
          onChange={this._onRegionInputChanged}
          region={this.state.mapRegionInput}
        /&gt;
      &lt;/View&gt;
    );
  }

  _getAnnotations = (region) =&gt; {
    return [{
      longitude: region.longitude,
      latitude: region.latitude,
      title: 'You Are Here',
    }];
  };

  _onRegionChange = (region) =&gt; {
    this.setState({
      mapRegionInput: region,
    });
  };

  _onRegionChangeComplete = (region) =&gt; {
    if (this.state.isFirstLoad) {
      this.setState({
        mapRegionInput: region,
        annotations: this._getAnnotations(region),
        isFirstLoad: false,
      });
    }
  };

  _onRegionInputChanged = (region) =&gt; {
    this.setState({
      mapRegion: region,
      mapRegionInput: region,
      annotations: this._getAnnotations(region),
    });
  };
}

class AnnotationExample extends React.Component {
  state = {
    isFirstLoad: true,
    annotations: [],
    mapRegion: undefined,
  };

  render() {
    if (this.state.isFirstLoad) {
      var onRegionChangeComplete = (region) =&gt; {
        this.setState({
          isFirstLoad: false,
          annotations: [{
            longitude: region.longitude,
            latitude: region.latitude,
            ...this.props.annotation,
          }],
        });
      };
    }

    return (
      &lt;MapView
        showsAnnotationCallouts={this.props.showsAnnotationCallouts}
        style={styles.map}
        onRegionChangeComplete={onRegionChangeComplete}
        region={this.state.mapRegion}
        annotations={this.state.annotations}
      /&gt;
    );
  }
}

class DraggableAnnotationExample extends React.Component {
  state = {
    isFirstLoad: true,
    annotations: [],
    mapRegion: undefined,
  };

  createAnnotation = (longitude, latitude) =&gt; {
    return {
      longitude,
      latitude,
      draggable: true,
      onDragStateChange: (event) =&gt; {
        if (event.state === 'idle') {
          this.setState({
            annotations: [this.createAnnotation(event.longitude, event.latitude)],
          });
        }
        console.log('Drag state: ' + event.state);
      },
    };
  };

  render() {
    if (this.state.isFirstLoad) {
      var onRegionChangeComplete = (region) =&gt; {
        //When the MapView loads for the first time, we can create the annotation at the
        //region that was loaded.
        this.setState({
          isFirstLoad: false,
          annotations: [this.createAnnotation(region.longitude, region.latitude)],
        });
      };
    }

    return (
      &lt;MapView
        style={styles.map}
        onRegionChangeComplete={onRegionChangeComplete}
        region={this.state.mapRegion}
        annotations={this.state.annotations}
      /&gt;
    );
  }
}

var styles = StyleSheet.create({
  map: {
    height: 150,
    margin: 10,
    borderWidth: 1,
    borderColor: '#000000',
  },
  row: {
    flexDirection: 'row',
    justifyContent: 'space-between',
  },
  textInput: {
    width: 150,
    height: 20,
    borderWidth: 0.5,
    borderColor: '#aaaaaa',
    fontSize: 13,
    padding: 4,
  },
  changeButton: {
    alignSelf: 'center',
    marginTop: 5,
    padding: 3,
    borderWidth: 0.5,
    borderColor: '#777777',
  },
});

exports.displayName = (undefined: ?string);
exports.title = '&lt;MapView&gt;';
exports.description = 'Base component to display maps';
exports.examples = [
  {
    title: 'Map',
    render() {
      return &lt;MapViewExample /&gt;;
    }
  },
  {
    title: 'showsUserLocation + followUserLocation',
    render() {
      return (
        &lt;MapView
          style={styles.map}
          showsUserLocation={true}
          followUserLocation={true}
        /&gt;
      );
    }
  },
  {
    title: 'Callout example',
    render() {
      return &lt;AnnotationExample style={styles.map} annotation={{
        title: 'More Info...',
        rightCalloutView: (
          &lt;TouchableOpacity
            onPress={() =&gt; {
              alert('You Are Here');
            }}&gt;
            &lt;Image
              style={{width:30, height:30}}
              source={require('./uie_thumb_selected.png')}
            /&gt;
          &lt;/TouchableOpacity&gt;
        ),
      }}/&gt;;
    }
  },
  {
    title: 'Show callouts by default example',
    render() {
      return &lt;AnnotationExample
        style={styles.map}
        annotation={{
          title: 'More Info...',
          rightCalloutView: (
            &lt;TouchableOpacity
              onPress={() =&gt; {
                alert('You Are Here');
              }}&gt;
              &lt;Image
                style={{width:30, height:30}}
                source={require('./uie_thumb_selected.png')}
              /&gt;
            &lt;/TouchableOpacity&gt;
          ),
        }}
        showsAnnotationCallouts={true}
      /&gt;;
    }
  },
  {
    title: 'Annotation focus example',
    render() {
      return &lt;AnnotationExample style={styles.map} annotation={{
        title: 'More Info...',
        onFocus: () =&gt; {
          alert('Annotation gets focus');
        },
        onBlur: () =&gt; {
          alert('Annotation lost focus');
        }
      }}/&gt;;
    }
  },
  {
    title: 'Draggable pin',
    render() {
      return &lt;DraggableAnnotationExample/&gt;;
    }
  },
  {
    title: 'Custom pin color',
    render() {
      return &lt;AnnotationExample style={styles.map} annotation={{
        title: 'You Are Purple',
        tintColor: MapView.PinColors.PURPLE,
      }}/&gt;;
    }
  },
  {
    title: 'Custom pin image',
    render() {
      return &lt;AnnotationExample style={styles.map} annotation={{
        title: 'Thumbs Up!',
        image: require('./uie_thumb_big.png'),
      }}/&gt;;
    }
  },
  {
    title: 'Custom pin view',
    render() {
      return &lt;AnnotationExample style={styles.map} annotation={{
        title: 'Thumbs Up!',
        view: &lt;View style={{
          alignItems: 'center',
        }}&gt;
          &lt;Text style={{fontWeight: 'bold', color: '#f007'}}&gt;
            Thumbs Up!
          &lt;/Text&gt;
          &lt;Image
            style={{width: 90, height: 65, resizeMode: 'cover'}}
            source={require('./uie_thumb_big.png')}
          /&gt;
        &lt;/View&gt;,
      }}/&gt;;
    }
  },
  {
    title: 'Custom overlay',
    render() {
      return &lt;MapView
        style={styles.map}
        region={{
          latitude: 39.06,
          longitude: -95.22,
        }}
        overlays={[{
          coordinates:[
            {latitude: 32.47, longitude: -107.85},
            {latitude: 45.13, longitude: -94.48},
            {latitude: 39.27, longitude: -83.25},
            {latitude: 32.47, longitude: -107.85},
          ],
          strokeColor: '#f007',
          lineWidth: 3,
        }]}
      /&gt;;
    }
  },
];</pre></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2015–2017 Facebook Inc.<br>Licensed under the Creative Commons Attribution 4.0 International Public License.<br>
    <a href="https://facebook.github.io/react-native/docs/mapview.html" class="_attribution-link" target="_blank">https://facebook.github.io/react-native/docs/mapview.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
