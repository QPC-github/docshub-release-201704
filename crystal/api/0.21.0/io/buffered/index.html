
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>IO&#58;&#58;Buffered - Crystal - W3cubDocs</title>
  
  <meta name="description" content=" The IO&#58;&#58;Buffered mixin enhances the IO module with input&#47;output buffering. ">
  <meta name="keywords" content="module, io, buffered, -, crystal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/crystal/api/0.21.0/io/buffered/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/crystal.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/crystal/" class="_nav-link" title="" style="margin-left:0;">Crystal</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _crystal">
				
<h1 class="type-name"> module IO::Buffered </h1> <h2>Overview</h2> <p>The <code><a href="../buffered/">IO::Buffered</a></code> mixin enhances the <code><a href="../../io/">IO</a></code> module with input/output buffering.</p> <p>The buffering behaviour can be turned on/off with the <code><a href="../buffered/#sync%3D%28sync%29-instance-method">#sync=</a></code> method.</p> <p>Additionally, several methods, like <code>#gets</code>, are implemented in a more efficient way.</p> <h2>Included Modules</h2> <ul class="other-types-list"> <li class="other-type"><a href="../../io/">IO</a></li> </ul> <h2>Direct including types</h2> <ul class="other-types-list"> <li class="other-type"><a href="../filedescriptor/">IO::FileDescriptor</a></li> </ul> <h2>Defined in:</h2> <a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L7" target="_blank">io/buffered.cr</a> <br> <h2>Constant Summary</h2> <dl> <dt class="entry-const" id="BUFFER_SIZE"> <strong>BUFFER_SIZE</strong> = <code>8192</code> </dt> </dl> <h2>Instance Method Summary</h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#close%3ANil-instance-method" class="signature"><strong>#close</strong> : Nil</a> <div class="summary"><p>Flushes and closes the underlying <code><a href="../../io/">IO</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#flush-instance-method" class="signature"><strong>#flush</strong></a> <div class="summary"><p>Flushes any buffered data and the underlying <code><a href="../../io/">IO</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#flush_on_newline%3D%28flush_on_newline%29-instance-method" class="signature"><strong>#flush_on_newline=</strong>(flush_on_newline)</a> <div class="summary"><p>Turns on/off flushing the underlying <code><a href="../../io/">IO</a></code> when a newline is written.</p></div> </li> <li class="entry-summary"> <a href="#flush_on_newline%3F-instance-method" class="signature"><strong>#flush_on_newline?</strong></a> <div class="summary"><p>Determines if this <code><a href="../../io/">IO</a></code> flushes automatically when a newline is written.</p></div> </li> <li class="entry-summary"> <a href="#peek%3ABytes%3F-instance-method" class="signature"><strong>#peek</strong> : Bytes?</a> <div class="summary"><p>Returns the bytes hold in the read buffer.</p></div> </li> <li class="entry-summary"> <a href="#read%28slice%3ABytes%29-instance-method" class="signature"><strong>#read</strong>(slice : Bytes)</a> <div class="summary"><p>Buffered implementation of <code><a href="../../io/#read%28slice%3ABytes%29-instance-method">IO#read(slice)</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#rewind-instance-method" class="signature"><strong>#rewind</strong></a> <div class="summary"><p>Rewinds the underlying <code><a href="../../io/">IO</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#sync%3D%28sync%29-instance-method" class="signature"><strong>#sync=</strong>(sync)</a> <div class="summary"><p>Turns on/off <code><a href="../../io/">IO</a></code> buffering.</p></div> </li> <li class="entry-summary"> <a href="#sync%3F-instance-method" class="signature"><strong>#sync?</strong></a> <div class="summary"><p>Determines if this <code><a href="../../io/">IO</a></code> does buffering.</p></div> </li> <li class="entry-summary"> <a href="#unbuffered_close-instance-method" class="signature"><strong>#unbuffered_close</strong></a> <div class="summary"><p>Closes the wrapped <code><a href="../../io/">IO</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#unbuffered_flush-instance-method" class="signature"><strong>#unbuffered_flush</strong></a> <div class="summary"><p>Flushes the wrapped <code><a href="../../io/">IO</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#unbuffered_read%28slice%3ABytes%29-instance-method" class="signature"><strong>#unbuffered_read</strong>(slice : Bytes)</a> <div class="summary"><p>Reads at most <em>slice.size</em> bytes from the wrapped <code><a href="../../io/">IO</a></code> into <em>slice</em>.</p></div> </li> <li class="entry-summary"> <a href="#unbuffered_rewind-instance-method" class="signature"><strong>#unbuffered_rewind</strong></a> <div class="summary"><p>Rewinds the wrapped <code><a href="../../io/">IO</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#unbuffered_write%28slice%3ABytes%29-instance-method" class="signature"><strong>#unbuffered_write</strong>(slice : Bytes)</a> <div class="summary"><p>Writes at most <em>slice.size</em> bytes from <em>slice</em> into the wrapped <code><a href="../../io/">IO</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#write%28slice%3ABytes%29-instance-method" class="signature"><strong>#write</strong>(slice : Bytes)</a> <div class="summary"><p>Buffered implementation of <code><a href="../../io/#write%28slice%3ABytes%29%3ANil-instance-method">IO#write(slice)</a></code>.</p></div> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from module <code><a href="../../io/">IO</a></code>
</h3> <a href="../../io/#%3C%3C%28obj%29%3Aself-instance-method" class="tooltip"> &lt; &lt;&lt;</a>, <a href="../../io/#close-instance-method" class="tooltip"> close close</a>, <a href="../../io/#closed%3F-instance-method" class="tooltip"> closed? closed?</a>, <a href="../../io/#each_byte-instance-method" class="tooltip"> each_byte<br>each_byte(&amp;block) : Nil each_byte</a>, <a href="../../io/#each_char%28%26block%29%3ANil-instance-method" class="tooltip"> each_char(&amp;block) : Nil<br>each_char each_char</a>, <a href="../../io/#each_line%28%2Aargs%2C%2A%2Aoptions%2C%26block%29%3ANil-instance-method" class="tooltip"> each_line(*args, **options, &amp;block) : Nil<br>each_line(*args, **options) each_line</a>, <a href="../../io/#encoding%3AString-instance-method" class="tooltip"> encoding : String encoding</a>, <a href="../../io/#flush-instance-method" class="tooltip"> flush flush</a>, <a href="../../io/#gets%28limit%3AInt%2Cchomp%3Dfalse%29%3AString%3F-instance-method" class="tooltip"> gets(limit : Int, chomp = false) : String?<br>gets(delimiter : Char, chomp = false) : String?<br>gets(delimiter : String, chomp = false) : String?<br>gets(chomp = true) : String?<br>gets(delimiter : Char, limit : Int, chomp = false) : String? gets</a>, <a href="../../io/#gets_to_end%3AString-instance-method" class="tooltip"> gets_to_end : String gets_to_end</a>, <a href="../../io/#peek%3ABytes%3F-instance-method" class="tooltip"> peek : Bytes? peek</a>, <a href="../../io/#print%28%2Aobjects%3A_%29%3ANil-instance-method" class="tooltip"> print(*objects : _) : Nil<br>print(obj) : Nil print</a>, <a href="../../io/#printf%28format_string%2Cargs%3AArray%7CTuple%29%3ANil-instance-method" class="tooltip"> printf(format_string, args : Array | Tuple) : Nil<br>printf(format_string, *args) : Nil printf</a>, <a href="../../io/#puts%28%2Aobjects%3A_%29%3ANil-instance-method" class="tooltip"> puts(*objects : _) : Nil<br>puts : Nil<br>puts(obj) : Nil<br>puts(string : String) : Nil puts</a>, <a href="../../io/#read%28slice%3ABytes%29-instance-method" class="tooltip"> read(slice : Bytes) read</a>, <a href="../../io/#read_byte%3AUInt8%3F-instance-method" class="tooltip"> read_byte : UInt8? read_byte</a>, <a href="../../io/#read_bytes%28type%2Cformat%3AIO%3A%3AByteFormat%3DIO%3A%3AByteFormat%3A%3ASystemEndian%29-instance-method" class="tooltip"> read_bytes(type, format : IO::ByteFormat = IO::ByteFormat::SystemEndian) read_bytes</a>, <a href="../../io/#read_char%3AChar%3F-instance-method" class="tooltip"> read_char : Char? read_char</a>, <a href="../../io/#read_fully%28slice%3ABytes%29-instance-method" class="tooltip"> read_fully(slice : Bytes) read_fully</a>, <a href="../../io/#read_fully%3F%28slice%3ABytes%29-instance-method" class="tooltip"> read_fully?(slice : Bytes) read_fully?</a>, <a href="../../io/#read_line%28%2Aargs%2C%2A%2Aoptions%29%3AString%3F-instance-method" class="tooltip"> read_line(*args, **options) : String? read_line</a>, <a href="../../io/#read_string%28bytesize%3AInt%29%3AString-instance-method" class="tooltip"> read_string(bytesize : Int) : String read_string</a>, <a href="../../io/#read_utf8%28slice%3ABytes%29-instance-method" class="tooltip"> read_utf8(slice : Bytes) read_utf8</a>, <a href="../../io/#read_utf8_byte-instance-method" class="tooltip"> read_utf8_byte read_utf8_byte</a>, <a href="../../io/#rewind-instance-method" class="tooltip"> rewind rewind</a>, <a href="../../io/#set_encoding%28encoding%3AString%2Cinvalid%3ASymbol%3F%3Dnil%29-instance-method" class="tooltip"> set_encoding(encoding : String, invalid : Symbol? = nil) set_encoding</a>, <a href="../../io/#skip%28bytes_count%3AInt%29%3ANil-instance-method" class="tooltip"> skip(bytes_count : Int) : Nil skip</a>, <a href="../../io/#skip_to_end%3ANil-instance-method" class="tooltip"> skip_to_end : Nil skip_to_end</a>, <a href="../../io/#tty%3F%3ABool-instance-method" class="tooltip"> tty? : Bool tty?</a>, <a href="../../io/#write%28slice%3ABytes%29%3ANil-instance-method" class="tooltip"> write(slice : Bytes) : Nil write</a>, <a href="../../io/#write_byte%28byte%3AUInt8%29-instance-method" class="tooltip"> write_byte(byte : UInt8) write_byte</a>, <a href="../../io/#write_bytes%28object%2Cformat%3AIO%3A%3AByteFormat%3DIO%3A%3AByteFormat%3A%3ASystemEndian%29-instance-method" class="tooltip"> write_bytes(object, format : IO::ByteFormat = IO::ByteFormat::SystemEndian) write_bytes</a>, <a href="../../io/#write_utf8%28slice%3ABytes%29-instance-method" class="tooltip"> write_utf8(slice : Bytes) write_utf8</a> <h3>Class methods inherited from module <code><a href="../../io/">IO</a></code>
</h3> <a href="../../io/#copy%28src%2Cdst%2Climit%3AInt%29-class-method" class="tooltip"> copy(src, dst, limit : Int)<br>copy(src, dst) copy</a>, <a href="../../io/#pipe%28read_blocking%3Dfalse%2Cwrite_blocking%3Dfalse%29-class-method" class="tooltip"> pipe(read_blocking = false, write_blocking = false)<br>pipe(read_blocking = false, write_blocking = false, &amp;block) pipe</a>, <a href="../../io/#select%28read_ios%2Cwrite_ios%2Cerror_ios%2Ctimeout_sec%3ALibC%3A%3ATimeT%7CInt%7CFloat%3F%29-class-method" class="tooltip"> select(read_ios, write_ios, error_ios, timeout_sec : LibC::TimeT | Int | Float?)<br>select(read_ios, write_ios = nil, error_ios = nil) select</a> </div> <h2>Instance Method Detail</h2> <div class="entry-detail" id="close:Nil-instance-method"> <h3 class="signature">def <strong>close</strong> : <a href="../../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L193" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Flushes and closes the underlying <code><a href="../../io/">IO</a></code>.</p></div>   </div> <div class="entry-detail" id="flush-instance-method"> <h3 class="signature">def <strong>flush</strong><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L185" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Flushes any buffered data and the underlying <code><a href="../../io/">IO</a></code>. Returns <code>self</code>.</p></div>   </div> <div class="entry-detail" id="flush_on_newline=(flush_on_newline)-instance-method"> <h3 class="signature">def <strong>flush_on_newline=</strong>(flush_on_newline)<a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L162" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Turns on/off flushing the underlying <code><a href="../../io/">IO</a></code> when a newline is written.</p></div>   </div> <div class="entry-detail" id="flush_on_newline?-instance-method"> <h3 class="signature">def <strong>flush_on_newline?</strong><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L167" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Determines if this <code><a href="../../io/">IO</a></code> flushes automatically when a newline is written.</p></div>   </div> <div class="entry-detail" id="peek:Bytes?-instance-method"> <h3 class="signature">def <strong>peek</strong> : <a href="../../bytes/">Bytes</a>?<a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L79" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns the bytes hold in the read buffer.</p> <p>This method only performs a read to return peek data if the current buffer is empty: otherwise no read is performed and whatever is in the buffer is returned.</p>
</div>   </div> <div class="entry-detail" id="read(slice:Bytes)-instance-method"> <h3 class="signature">def <strong>read</strong>(slice : <a href="../../bytes/">Bytes</a>)<a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L49" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Buffered implementation of <code><a href="../../io/#read%28slice%3ABytes%29-instance-method">IO#read(slice)</a></code>.</p></div>   </div> <div class="entry-detail" id="rewind-instance-method"> <h3 class="signature">def <strong>rewind</strong><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L200" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Rewinds the underlying <code><a href="../../io/">IO</a></code>. Returns <code>self</code>.</p></div>   </div> <div class="entry-detail" id="sync=(sync)-instance-method"> <h3 class="signature">def <strong>sync=</strong>(sync)<a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L174" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Turns on/off <code><a href="../../io/">IO</a></code> buffering. When <em>sync</em> is set to <code>true</code>, no buffering will be done (that is, writing to this <code><a href="../../io/">IO</a></code> is immediately synced to the underlying <code><a href="../../io/">IO</a></code>).</p></div>   </div> <div class="entry-detail" id="sync?-instance-method"> <h3 class="signature">def <strong>sync?</strong><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L180" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Determines if this <code><a href="../../io/">IO</a></code> does buffering. If <code>true</code>, no buffering is done.</p></div>   </div> <div class="entry-detail" id="unbuffered_close-instance-method"> <h3 class="signature">abstract def <strong>unbuffered_close</strong><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L29" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Closes the wrapped <code><a href="../../io/">IO</a></code>.</p></div>   </div> <div class="entry-detail" id="unbuffered_flush-instance-method"> <h3 class="signature">abstract def <strong>unbuffered_flush</strong><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L26" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Flushes the wrapped <code><a href="../../io/">IO</a></code>.</p></div>   </div> <div class="entry-detail" id="unbuffered_read(slice:Bytes)-instance-method"> <h3 class="signature">abstract def <strong>unbuffered_read</strong>(slice : <a href="../../bytes/">Bytes</a>)<a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L19" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Reads at most <em>slice.size</em> bytes from the wrapped <code><a href="../../io/">IO</a></code> into <em>slice</em>. Returns the number of bytes read.</p></div>   </div> <div class="entry-detail" id="unbuffered_rewind-instance-method"> <h3 class="signature">abstract def <strong>unbuffered_rewind</strong><a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L32" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Rewinds the wrapped <code><a href="../../io/">IO</a></code>.</p></div>   </div> <div class="entry-detail" id="unbuffered_write(slice:Bytes)-instance-method"> <h3 class="signature">abstract def <strong>unbuffered_write</strong>(slice : <a href="../../bytes/">Bytes</a>)<a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L23" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Writes at most <em>slice.size</em> bytes from <em>slice</em> into the wrapped <code><a href="../../io/">IO</a></code>. Returns the number of bytes written.</p></div>   </div> <div class="entry-detail" id="write(slice:Bytes)-instance-method"> <h3 class="signature">def <strong>write</strong>(slice : <a href="../../bytes/">Bytes</a>)<a href="https://github.com/crystal-lang/crystal/blob/c2c2276ec667171af5c2347490f49acdbdc4a3ca/src/io/buffered.cr#L108" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Buffered implementation of <code><a href="../../io/#write%28slice%3ABytes%29%3ANil-instance-method">IO#write(slice)</a></code>.</p></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/0.21.0/IO/Buffered.html" class="_attribution-link" target="_blank">https://crystal-lang.org/api/0.21.0/IO/Buffered.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
