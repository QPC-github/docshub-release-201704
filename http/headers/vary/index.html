
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Vary - HTTP - W3cubDocs</title>
  
  <meta name="description" content="The Vary HTTP response header determines how to match future request headers to decide whether a cached response can be used rather than requesting &hellip;">
  <meta name="keywords" content="vary, -, http">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/http/headers/vary/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/http.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/http/" class="_nav-link" title="" style="margin-left:0;">HTTP</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _mdn">
				
<h1>Vary</h1> <p>The <code>Vary</code> HTTP response header determines how to match future request headers to decide whether a cached response can be used rather than requesting a fresh one from the origin server. It is used by the server to indicate which headers it used when selecting a representation of a resource in a <a href="../../content_negotiation/">content negotiation</a> algorithm.</p> <p>The <code>Vary</code> header should be set on a <a title="The HTTP 304 Not Modified client redirection response code indicates that there is no need to retransmit the requested resources. It is an implicit redirection to a cached resource. This happens when the request method is safe, like a GET or a HEAD request, or when the request is conditional and uses a If-None-Match or a If-Modified-Since header." href="../../status/304/"><code>304</code></a> <code>Not Modified</code> response exactly like it would have been set on an equivalent <a title="The HTTP 200 OK success status response code indicates that the request has succeeded. A 200 response is cacheable by default." href="../../status/200/"><code>200</code></a> <code>OK</code> response.</p> <table class="properties"> <tbody> <tr> <th scope="row">Header type</th> <td><a title="Response header: A response header is an HTTP header that can be used in an HTTP response and that doesn't relate to the content of the message. Response headers, like Age, Location or Server are used to give a more detailed context of the response." class="glossaryLink" href="https://developer.mozilla.org/en-US/docs/Glossary/Response_header" target="_blank">Response header</a></td> </tr> <tr> <th scope="row"><a title="Forbidden header name: A forbidden header name is an HTTP header name that cannot be modified programmatically." class="glossaryLink" href="https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name" target="_blank">Forbidden header name</a></th> <td>no</td> </tr> </tbody> </table> <h2 id="Syntax">Syntax</h2> <pre class="syntaxbox">Vary: *
Vary: &lt;header-name&gt;, &lt;header-name&gt;, ...
</pre> <h2 id="Directives">Directives</h2> <dl> <dt>*</dt> <dd>Each request for a URL is supposed to be treated as a unique and uncacheable request. A better way to indicate this is to use <a title="The Cache-Control general-header field is used to specify directives for caching mechanisms in both, requests and responses. Caching directives are unidirectional, meaning that a given directive in a request is not implying that the same directive is to be given in the response." href="../cache-control/"><code>Cache-Control</code></a><code>: private</code>, which is clearer to read and also signals that the object shouldn't be stored ever.</dd> <dt>&lt;header-name&gt;</dt> <dd>A comma-separated list of header names to take into account when deciding whether or not a cached response can be used.</dd> </dl> <h2 id="Examples">Examples</h2> <h3 id="Dynamic_serving">Dynamic serving</h3> <p>When using the <code>Vary: User-Agent</code> header, caching servers should consider the user agent when deciding whether to serve the page from cache. For example, if you are serving different content to mobile users, it can help you to avoid that a cache may mistakenly serve a desktop version of your site to your mobile users. It can help Google and other search engines to discover the mobile version of a page, and might also tell them that no <a href="https://en.wikipedia.org/wiki/Cloaking" target="_blank">Cloaking</a> is intended.</p> <pre>Vary: User-Agent</pre> <h2 id="Specifications">Specifications</h2> <table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Title</th> </tr> <tr> <td><a href="http://tools.ietf.org/html/7231#section-7.1.4" target="_blank">RFC 7231, section 7.1.4: Vary</a></td> <td>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</td> </tr> </tbody> </table> <h2 id="Browser_compatibility">Browser compatibility</h2>  <div id="compat-desktop"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari</th> <th>Servo</th> </tr> </thead>
<tbody><tr>
<td>Vary</td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
</tr></tbody>
</table></div>
<div id="compat-mobile"><table class="compat-table"> <thead> <tr> <th>Feature</th> <th>Android</th> <th>Chrome for Android</th> <th>Edge Mobile</th> <th>Firefox for Android</th> <th>IE Mobile</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> </thead>
<tbody><tr>
<td>Vary</td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
<td><span style="color: #888;">(Yes)</span></td>
</tr></tbody>
</table></div> <h2 id="Compatibility_notes">Compatibility notes</h2> <ul> <li><a href="https://blogs.msdn.microsoft.com/ieinternals/2009/06/17/vary-with-care/" target="_blank">Vary with care – Vary header problems in IE6-9</a></li> </ul> <h2 id="See_also">See also</h2> <ul> <li><a title="The Cache-Control general-header field is used to specify directives for caching mechanisms in both, requests and responses. Caching directives are unidirectional, meaning that a given directive in a request is not implying that the same directive is to be given in the response." href="../cache-control/"><code>Cache-Control</code></a></li> <li><a title="The User-Agent request header contains a characteristic string that allows the network protocol peers to identify the application type, operating system, software vendor or software version of the requesting software user agent." href="../user-agent/"><code>User-Agent</code></a></li> <li><a href="https://www.fastly.com/blog/best-practices-for-using-the-vary-header" target="_blank">Best Practices for Using the Vary Header – fastly.com</a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Vary%24edit" class="_attribution-link" target="_blank">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Vary" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Vary</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
