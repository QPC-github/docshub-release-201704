
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>UpgradeShell (Class) - CakePHP 2.9 - W3cubDocs</title>
  
  <meta name="description" content=" A shell class to help developers upgrade applications to CakePHP 2.0 ">
  <meta name="keywords" content="class, upgradeshell, -, cakephp, cakephp~2.9">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~2.9/class-upgradeshell/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cakephp~2.9.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~2.9/" class="_nav-link" title="" style="margin-left:0;">CakePHP 2.9</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cakephp">
				
<h1>Class UpgradeShell</h1>  <p>A shell class to help developers upgrade applications to CakePHP 2.0</p>  <dl class="tree"> <dd style="padding-left:0px"> AppShell </dd> <dd style="padding-left:30px"> <img src="https://api.cakephp.org/2.9/resources/inherit.png" alt="Extended by"> <b><span>UpgradeShell</span></b> </dd> </dl> <div class="info"> <b>Package:</b> <a href="../package-cake/">Cake</a>\<a href="../package-cake.console/">Console</a>\<a href="../package-cake.console.command/">Command</a><br> <b>Copyright:</b> Copyright (c) Cake Software Foundation, Inc. (http://cakefoundation.org)<br> <b>License:</b> <a href="http://www.opensource.org/licenses/mit-license.php" target="_blank">MIT License</a><br> <b>Location:</b> <a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#23-893" title="Go to source code" target="_blank">Cake/Console/Command/UpgradeShell.php</a><br> </div>  <h2>Properties summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <code><a href="../class-upgradeshell/#%24_files">$_files</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  Files  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-upgradeshell/#%24_map">$_map</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  Map  </li> <li class="clearfix"> <div class="name"> <code><a href="../class-upgradeshell/#%24_paths">$_paths</a></code>  <span class="label">protected</span>  </div> <div class="property-type"><code>array</code></div>  Paths  </li> </ul>   <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <div> <a href="../class-upgradeshell/#__filesRegexpUpdate">_filesRegexpUpdate()</a> <span class="label">protected</span> </div>  Updates files based on regular expressions.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#__findFiles">_findFiles()</a> <span class="label">protected</span> </div>  Searches the paths and finds files based on extension.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#__moveAppClasses">_moveAppClasses()</a> <span class="label">protected</span> </div>  Move the AppController, and AppModel classes.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#__movePhpFiles">_movePhpFiles()</a> <span class="label">protected</span> </div>  Move application php files to where they now should be  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#__moveViewFiles">_moveViewFiles()</a> <span class="label">protected</span> </div>  Move application views files to where they now should be  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#__updateFile">_updateFile()</a> <span class="label">protected</span> </div>  Update a single file.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_all">all()</a> <span class="label">public</span> </div>  Run all upgrade steps one at a time  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_basics">basics()</a> <span class="label">public</span> </div>  Upgrade the removed basics functions.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_components">components()</a> <span class="label">public</span> </div>  Update components.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_configure">configure()</a> <span class="label">public</span> </div>  Update Configure::read() calls with no params.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_constants">constants()</a> <span class="label">public</span> </div>  constants  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_controller_redirects">controller_redirects()</a> <span class="label">public</span> </div>  Update controller redirects.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_exceptions">exceptions()</a> <span class="label">public</span> </div>  <p>Replace cakeError with built-in exceptions. NOTE: this ignores calls where you've passed your own secondary parameters to cakeError().</p>  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_getOptionParser">getOptionParser()</a> <span class="label">public</span> </div>  Gets the option parser instance and configures it.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_helpers">helpers()</a> <span class="label">public</span> </div>  Update helpers.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_i18n">i18n()</a> <span class="label">public</span> </div>  Update i18n.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_locations">locations()</a> <span class="label">public</span> </div>  Move files and folders to their new homes  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_request">request()</a> <span class="label">public</span> </div>  Update the properties moved to CakeRequest.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_startup">startup()</a> <span class="label">public</span> </div>  Shell startup, prints info message about dry run.  </li> <li class="clearfix"> <div> <a href="../class-upgradeshell/#_tests">tests()</a> <span class="label">public</span> </div>  Update tests.  </li> </ul>   <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="__filesRegexpUpdate"> <span class="name">_filesRegexpUpdate()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#756-768" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_filesRegexpUpdate( array $patterns )</pre>  <p>Updates files based on regular expressions.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$patterns</code> </dt> <dd>Array of search and replacement patterns.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__findFiles"> <span class="name">_findFiles()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#770-793" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_findFiles( string $extensions '' )</pre>  <p>Searches the paths and finds files based on extension.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$extensions</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The extensions to include. Defaults to none.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__moveAppClasses"> <span class="name">_moveAppClasses()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#636-663" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_moveAppClasses( )</pre>  <p>Move the AppController, and AppModel classes.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="__movePhpFiles"> <span class="name">_movePhpFiles()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#665-754" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_movePhpFiles( string $path , array $options )</pre>  <p>Move application php files to where they now should be</p> <p>Find all php files in the folder (honoring recursive) and determine where CakePHP expects the file to be If the file is not exactly where CakePHP expects it - move it.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$path</code> </dt> <dd>The path to move files in.</dd> <dt> array <code>$options</code> </dt> <dd>array(recursive, checkFolder)</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__moveViewFiles"> <span class="name">_moveViewFiles()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#599-634" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_moveViewFiles( )</pre>  <p>Move application views files to where they now should be</p> <p>Find all view files in the folder and determine where cake expects the file to be</p>  </div> <div class="method-detail">   <h3 class="method-name" id="__updateFile"> <span class="name">_updateFile()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#795-814" title="Go to source code" class="source" target="_blank">source</a> <span class="label">protected</span>  </h3> <pre class="method-signature" data-language="php">_updateFile( string $file , array $patterns )</pre>  <p>Update a single file.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$file</code> </dt> <dd>The file to update</dd> <dt> array <code>$patterns</code> </dt> <dd>The replacement patterns to run.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_all"> <span class="name">all()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#80-94" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">all( )</pre>  <p>Run all upgrade steps one at a time</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_basics"> <span class="name">basics()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#284-343" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">basics( )</pre>  <p>Upgrade the removed basics functions.</p> <ul> <li>a(<em>) -&gt; array(</em>)</li> <li>e(*) -&gt; echo *</li> <li>ife(*, *, <em>) -&gt; !empty(</em>) ? * : *</li> <li>a(<em>) -&gt; array(</em>)</li> <li>r(*, *, <em>) -&gt; str_replace(</em>, *, *)</li> <li>up(<em>) -&gt; strtoupper(</em>)</li> <li>low(*, *, <em>) -&gt; strtolower(</em>)</li> <li>getMicrotime() -&gt; microtime(true)</li> </ul>  </div> <div class="method-detail">   <h3 class="method-name" id="_components"> <span class="name">components()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#532-558" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">components( )</pre>  <p>Update components.</p> <ul> <li>Make components that extend CakeObject to extend Component.</li> </ul>  </div> <div class="method-detail">   <h3 class="method-name" id="_configure"> <span class="name">configure()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#405-425" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">configure( )</pre>  <p>Update Configure::read() calls with no params.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_constants"> <span class="name">constants()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#427-507" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">constants( )</pre>  <p>constants</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_controller_redirects"> <span class="name">controller_redirects()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#509-530" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">controller_redirects( )</pre>  <p>Update controller redirects.</p> <ul> <li>Make redirect statements return early.</li> </ul>  </div> <div class="method-detail">   <h3 class="method-name" id="_exceptions"> <span class="name">exceptions()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#560-597" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">exceptions( )</pre>  <p>Replace cakeError with built-in exceptions. NOTE: this ignores calls where you've passed your own secondary parameters to cakeError().</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_getOptionParser"> <span class="name">getOptionParser()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#816-891" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">getOptionParser( )</pre>  <p>Gets the option parser instance and configures it.</p> <h4>Returns</h4>  <code><a href="../class-consoleoptionparser/">ConsoleOptionParser</a></code><br>   </div> <div class="method-detail">   <h3 class="method-name" id="_helpers"> <span class="name">helpers()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#208-249" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">helpers( )</pre>  <p>Update helpers.</p> <ul> <li>Converts helpers usage to new format.</li> </ul>  </div> <div class="method-detail">   <h3 class="method-name" id="_i18n"> <span class="name">i18n()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#251-282" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">i18n( )</pre>  <p>Update i18n.</p> <ul> <li>Removes extra true param.</li> <li>Add the echo to __*() calls that didn't need them before.</li> </ul>  </div> <div class="method-detail">   <h3 class="method-name" id="_locations"> <span class="name">locations()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#119-206" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">locations( )</pre>  <p>Move files and folders to their new homes</p> <p>Moves folders containing files which cannot necessarily be auto-detected (libs and templates) and then looks for all php files except vendors, and moves them to where Cake 2.0 expects to find them.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_request"> <span class="name">request()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#345-403" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">request( )</pre>  <p>Update the properties moved to CakeRequest.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_startup"> <span class="name">startup()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#65-78" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">startup( )</pre>  <p>Shell startup, prints info message about dry run.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_tests"> <span class="name">tests()</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#96-117" title="Go to source code" class="source" target="_blank">source</a> <span class="label">public</span>  </h3> <pre class="method-signature" data-language="php">tests( )</pre>  <p>Update tests.</p> <ul> <li>Update tests class names to FooTest rather than FooTestCase.</li> </ul>  </div>   <h2>Properties detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_files"> <span class="name">$_files</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#30-35" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Files</p> <div> <pre data-language="php">array()</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_map"> <span class="name">$_map</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#44-63" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Map</p> <div> <pre data-language="php">array(
    'Controller' =&gt; 'Controller',
    'Component' =&gt; 'Controller/Component',
    'Model' =&gt; 'Model',
    'Behavior' =&gt; 'Model/Behavior',
    'Datasource' =&gt; 'Model/Datasource',
    'Dbo' =&gt; 'Model/Datasource/Database',
    'View' =&gt; 'View',
    'Helper' =&gt; 'View/Helper',
    'Shell' =&gt; 'Console/Command',
    'Task' =&gt; 'Console/Command/Task',
    'Case' =&gt; 'Test/Case',
    'Fixture' =&gt; 'Test/Fixture',
    'Error' =&gt; 'Lib/Error',
)</pre> </div>  </div> <div class="property-detail">  <h3 class="property-name" id="$_paths"> <span class="name">$_paths</span><a href="https://api.cakephp.org/2.9/source-class-UpgradeShell.html#37-42" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Paths</p> <div> <pre data-language="php">array()</pre> </div>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2016 The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/2.9/class-UpgradeShell.html" class="_attribution-link" target="_blank">https://api.cakephp.org/2.9/class-UpgradeShell.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
