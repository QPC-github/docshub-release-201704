
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Django Shortcut Functions - Django 1.8 - W3cubDocs</title>
  
  <meta name="description" content="The package django.shortcuts collects helper functions and classes that “span” multiple levels of MVC. In other words, these functions&#47;classes &hellip;">
  <meta name="keywords" content="django, shortcut, functions, -, django~1.8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/django~1.8/topics/http/shortcuts/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/django~1.8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/django~1.8/" class="_nav-link" title="" style="margin-left:0;">Django 1.8</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="django-shortcut-functions">Django shortcut functions</h1> <p id="module-django.shortcuts">The package <code>django.shortcuts</code> collects helper functions and classes that “span” multiple levels of MVC. In other words, these functions/classes introduce controlled coupling for convenience’s sake.</p>  <h2 id="render"><code>render</code></h2> <dl class="function"> <dt id="django.shortcuts.render">
<code>render(request, template_name, context=None, context_instance=_context_instance_undefined, content_type=None, status=None, current_app=_current_app_undefined, dirs=_dirs_undefined, using=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/_modules/django/shortcuts/#render" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Combines a given template with a given context dictionary and returns an <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse" title="django.http.HttpResponse"><code>HttpResponse</code></a> object with that rendered text.</p> <p><a class="reference internal" href="#django.shortcuts.render" title="django.shortcuts.render"><code>render()</code></a> is the same as a call to <a class="reference internal" href="#django.shortcuts.render_to_response" title="django.shortcuts.render_to_response"><code>render_to_response()</code></a> with a <code>context_instance</code> argument that forces the use of a <a class="reference internal" href="../../../ref/templates/api/#django.template.RequestContext" title="django.template.RequestContext"><code>RequestContext</code></a>.</p> <p>Django does not provide a shortcut function which returns a <a class="reference internal" href="../../../ref/template-response/#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a> because the constructor of <a class="reference internal" href="../../../ref/template-response/#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><code>TemplateResponse</code></a> offers the same level of convenience as <a class="reference internal" href="#django.shortcuts.render" title="django.shortcuts.render"><code>render()</code></a>.</p> </dd>
</dl>  <h3 id="required-arguments">Required arguments</h3> <dl class="docutils"> <dt>
<code>request</code> </dt> <dd>The request object used to generate this response.</dd> <dt>
<code>template_name</code> </dt> <dd>The full name of a template to use or sequence of template names.</dd> </dl>   <h3 id="optional-arguments">Optional arguments</h3> <dl class="docutils"> <dt>
<code>context</code> </dt> <dd>
<p class="first">A dictionary of values to add to the template context. By default, this is an empty dictionary. If a value in the dictionary is callable, the view will call it just before rendering the template.</p> <div class="last versionchanged"> <p>The <code>context</code> argument used to be called <code>dictionary</code>. That name is deprecated in Django 1.8 and will be removed in Django 1.10.</p> </div> </dd> <dt>
<code>context_instance</code> </dt> <dd>
<p class="first">The context instance to render the template with. By default, the template will be rendered with a <code>RequestContext</code> instance (filled with values from <code>request</code> and <code>context</code>).</p> <div class="last deprecated"> <p><span class="versionmodified">Deprecated since version 1.8: </span>The <code>context_instance</code> argument is deprecated. Simply use <code>context</code>.</p> </div> </dd> <dt>
<code>content_type</code> </dt> <dd>The MIME type to use for the resulting document. Defaults to the value of the <a class="reference internal" href="../../../ref/settings/#std:setting-DEFAULT_CONTENT_TYPE"><code>DEFAULT_CONTENT_TYPE</code></a> setting.</dd> <dt>
<code>status</code> </dt> <dd>The status code for the response. Defaults to <code>200</code>.</dd> <dt>
<code>current_app</code> </dt> <dd>
<p class="first">A hint indicating which application contains the current view. See the <a class="reference internal" href="../urls/#topics-http-reversing-url-namespaces"><span class="std std-ref">namespaced URL resolution strategy</span></a> for more information.</p> <div class="last deprecated"> <p><span class="versionmodified">Deprecated since version 1.8: </span>The <code>current_app</code> argument is deprecated. Instead you should set <code>request.current_app</code>.</p> </div> </dd> <dt>
<code>using</code> </dt> <dd>The <a class="reference internal" href="../../../ref/settings/#std:setting-TEMPLATES-NAME"><code>NAME</code></a> of a template engine to use for loading the template.</dd> </dl> <div class="versionchanged"> <p>The <code>using</code> parameter was added.</p> </div> <div class="versionchanged"> <p>The <code>dirs</code> parameter was added.</p> </div> <div class="deprecated"> <p><span class="versionmodified">Deprecated since version 1.8: </span>The <code>dirs</code> parameter was deprecated.</p> </div>   <h3 id="example">Example</h3> <p>The following example renders the template <code>myapp/index.html</code> with the MIME type <em class="mimetype">application/xhtml+xml</em>:</p> <pre data-language="python">from django.shortcuts import render

def my_view(request):
    # View code here...
    return render(request, 'myapp/index.html', {"foo": "bar"},
        content_type="application/xhtml+xml")
</pre> <p>This example is equivalent to:</p> <pre data-language="python">from django.http import HttpResponse
from django.template import loader

def my_view(request):
    # View code here...
    t = loader.get_template('myapp/index.html')
    c = {'foo': 'bar'}
    return HttpResponse(t.render(c, request),
        content_type="application/xhtml+xml")
</pre>    <h2 id="render-to-response"><code>render_to_response</code></h2> <dl class="function"> <dt id="django.shortcuts.render_to_response">
<code>render_to_response(template_name, context=None, context_instance=_context_instance_undefined, content_type=None, status=None, dirs=_dirs_undefined, using=None)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/_modules/django/shortcuts/#render_to_response" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Renders a given template with a given context dictionary and returns an <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponse" title="django.http.HttpResponse"><code>HttpResponse</code></a> object with that rendered text.</p> </dd>
</dl>  <h3 id="id1">Required arguments</h3> <dl class="docutils"> <dt>
<code>template_name</code> </dt> <dd>The full name of a template to use or sequence of template names. If a sequence is given, the first template that exists will be used. See the <a class="reference internal" href="../../templates/#template-loading"><span class="std std-ref">template loading documentation</span></a> for more information on how templates are found.</dd> </dl>   <h3 id="id2">Optional arguments</h3> <dl class="docutils"> <dt>
<code>context</code> </dt> <dd>
<p class="first">A dictionary of values to add to the template context. By default, this is an empty dictionary. If a value in the dictionary is callable, the view will call it just before rendering the template.</p> <div class="last versionchanged"> <p>The <code>context</code> argument used to be called <code>dictionary</code>. That name is deprecated in Django 1.8 and will be removed in Django 1.10.</p> </div> </dd> <dt>
<code>context_instance</code> </dt> <dd>
<p class="first">The context instance to render the template with. By default, the template will be rendered with a <a class="reference internal" href="../../../ref/templates/api/#django.template.Context" title="django.template.Context"><code>Context</code></a> instance (filled with values from <code>context</code>). If you need to use <a class="reference internal" href="../../../ref/templates/api/#subclassing-context-requestcontext"><span class="std std-ref">context processors</span></a>, render the template with a <a class="reference internal" href="../../../ref/templates/api/#django.template.RequestContext" title="django.template.RequestContext"><code>RequestContext</code></a> instance instead. Your code might look something like this:</p> <pre data-language="python">return render_to_response('my_template.html',
                          my_context,
                          context_instance=RequestContext(request))
</pre> <div class="last deprecated"> <p><span class="versionmodified">Deprecated since version 1.8: </span>The <code>context_instance</code> argument is deprecated. Use the <a class="reference internal" href="#django.shortcuts.render" title="django.shortcuts.render"><code>render()</code></a> function instead which always makes <code>RequestContext</code> available.</p> </div> </dd> <dt>
<code>content_type</code> </dt> <dd>The MIME type to use for the resulting document. Defaults to the value of the <a class="reference internal" href="../../../ref/settings/#std:setting-DEFAULT_CONTENT_TYPE"><code>DEFAULT_CONTENT_TYPE</code></a> setting.</dd> <dt>
<code>status</code> </dt> <dd>The status code for the response. Defaults to <code>200</code>.</dd> <dt>
<code>using</code> </dt> <dd>The <a class="reference internal" href="../../../ref/settings/#std:setting-TEMPLATES-NAME"><code>NAME</code></a> of a template engine to use for loading the template.</dd> </dl> <div class="versionchanged"> <p>The <code>status</code> and <code>using</code> parameters were added.</p> </div> <div class="versionchanged"> <p>The <code>dirs</code> parameter was added.</p> </div> <div class="deprecated"> <p><span class="versionmodified">Deprecated since version 1.8: </span>The <code>dirs</code> parameter was deprecated.</p> </div>   <h3 id="id3">Example</h3> <p>The following example renders the template <code>myapp/index.html</code> with the MIME type <em class="mimetype">application/xhtml+xml</em>:</p> <pre data-language="python">from django.shortcuts import render_to_response

def my_view(request):
    # View code here...
    return render_to_response('myapp/index.html', {"foo": "bar"},
        content_type="application/xhtml+xml")
</pre> <p>This example is equivalent to:</p> <pre data-language="python">from django.http import HttpResponse
from django.template import Context, loader

def my_view(request):
    # View code here...
    t = loader.get_template('myapp/index.html')
    c = Context({'foo': 'bar'})
    return HttpResponse(t.render(c),
        content_type="application/xhtml+xml")
</pre>    <h2 id="redirect"><code>redirect</code></h2> <dl class="function"> <dt id="django.shortcuts.redirect">
<code>redirect(to, permanent=False, *args, **kwargs)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/_modules/django/shortcuts/#redirect" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns an <a class="reference internal" href="../../../ref/request-response/#django.http.HttpResponseRedirect" title="django.http.HttpResponseRedirect"><code>HttpResponseRedirect</code></a> to the appropriate URL for the arguments passed.</p> <p>The arguments could be:</p> <ul class="simple"> <li>A model: the model’s <a class="reference internal" href="../../../ref/models/instances/#django.db.models.Model.get_absolute_url" title="django.db.models.Model.get_absolute_url"><code>get_absolute_url()</code></a> function will be called.</li> <li>A view name, possibly with arguments: <a class="reference internal" href="../../../ref/urlresolvers/#django.core.urlresolvers.reverse" title="django.core.urlresolvers.reverse"><code>urlresolvers.reverse</code></a> will be used to reverse-resolve the name.</li> <li>An absolute or relative URL, which will be used as-is for the redirect location.</li> </ul> <p>By default issues a temporary redirect; pass <code>permanent=True</code> to issue a permanent redirect.</p> <div class="versionchanged"> <p>The ability to use relative URLs was added.</p> </div> </dd>
</dl>  <h3 id="examples">Examples</h3> <p>You can use the <a class="reference internal" href="#django.shortcuts.redirect" title="django.shortcuts.redirect"><code>redirect()</code></a> function in a number of ways.</p> <ol class="arabic"> <li>
<p class="first">By passing some object; that object’s <a class="reference internal" href="../../../ref/models/instances/#django.db.models.Model.get_absolute_url" title="django.db.models.Model.get_absolute_url"><code>get_absolute_url()</code></a> method will be called to figure out the redirect URL:</p> <pre data-language="python">from django.shortcuts import redirect

def my_view(request):
    ...
    object = MyModel.objects.get(...)
    return redirect(object)
</pre> </li> <li>
<p class="first">By passing the name of a view and optionally some positional or keyword arguments; the URL will be reverse resolved using the <a class="reference internal" href="../../../ref/urlresolvers/#django.core.urlresolvers.reverse" title="django.core.urlresolvers.reverse"><code>reverse()</code></a> method:</p> <pre data-language="python">def my_view(request):
    ...
    return redirect('some-view-name', foo='bar')
</pre> </li> <li>
<p class="first">By passing a hardcoded URL to redirect to:</p> <pre data-language="python">def my_view(request):
    ...
    return redirect('/some/url/')
</pre> <p>This also works with full URLs:</p> <pre data-language="python">def my_view(request):
    ...
    return redirect('http://example.com/')
</pre> </li> </ol> <p>By default, <a class="reference internal" href="#django.shortcuts.redirect" title="django.shortcuts.redirect"><code>redirect()</code></a> returns a temporary redirect. All of the above forms accept a <code>permanent</code> argument; if set to <code>True</code> a permanent redirect will be returned:</p> <pre data-language="python">def my_view(request):
    ...
    object = MyModel.objects.get(...)
    return redirect(object, permanent=True)
</pre>    <h2 id="get-object-or-404"><code>get_object_or_404</code></h2> <dl class="function"> <dt id="django.shortcuts.get_object_or_404">
<code>get_object_or_404(klass, *args, **kwargs)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/_modules/django/shortcuts/#get_object_or_404" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Calls <a class="reference internal" href="../../../ref/models/querysets/#django.db.models.query.QuerySet.get" title="django.db.models.query.QuerySet.get"><code>get()</code></a> on a given model manager, but it raises <a class="reference internal" href="../views/#django.http.Http404" title="django.http.Http404"><code>Http404</code></a> instead of the model’s <a class="reference internal" href="../../../ref/models/instances/#django.db.models.Model.DoesNotExist" title="django.db.models.Model.DoesNotExist"><code>DoesNotExist</code></a> exception.</p> </dd>
</dl>  <h3 id="id4">Required arguments</h3> <dl class="docutils"> <dt>
<code>klass</code> </dt> <dd>A <a class="reference internal" href="../../../ref/models/instances/#django.db.models.Model" title="django.db.models.Model"><code>Model</code></a> class, a <a class="reference internal" href="../../db/managers/#django.db.models.Manager" title="django.db.models.Manager"><code>Manager</code></a>, or a <a class="reference internal" href="../../../ref/models/querysets/#django.db.models.query.QuerySet" title="django.db.models.query.QuerySet"><code>QuerySet</code></a> instance from which to get the object.</dd> <dt>
<code>**kwargs</code> </dt> <dd>Lookup parameters, which should be in the format accepted by <code>get()</code> and <code>filter()</code>.</dd> </dl>   <h3 id="id5">Example</h3> <p>The following example gets the object with the primary key of 1 from <code>MyModel</code>:</p> <pre data-language="python">from django.shortcuts import get_object_or_404

def my_view(request):
    my_object = get_object_or_404(MyModel, pk=1)
</pre> <p>This example is equivalent to:</p> <pre data-language="python">from django.http import Http404

def my_view(request):
    try:
        my_object = MyModel.objects.get(pk=1)
    except MyModel.DoesNotExist:
        raise Http404("No MyModel matches the given query.")
</pre> <p>The most common use case is to pass a <a class="reference internal" href="../../../ref/models/instances/#django.db.models.Model" title="django.db.models.Model"><code>Model</code></a>, as shown above. However, you can also pass a <a class="reference internal" href="../../../ref/models/querysets/#django.db.models.query.QuerySet" title="django.db.models.query.QuerySet"><code>QuerySet</code></a> instance:</p> <pre data-language="python">queryset = Book.objects.filter(title__startswith='M')
get_object_or_404(queryset, pk=1)
</pre> <p>The above example is a bit contrived since it’s equivalent to doing:</p> <pre data-language="python">get_object_or_404(Book, title__startswith='M', pk=1)
</pre> <p>but it can be useful if you are passed the <code>queryset</code> variable from somewhere else.</p> <p>Finally, you can also use a <a class="reference internal" href="../../db/managers/#django.db.models.Manager" title="django.db.models.Manager"><code>Manager</code></a>. This is useful for example if you have a <a class="reference internal" href="../../db/managers/#custom-managers"><span class="std std-ref">custom manager</span></a>:</p> <pre data-language="python">get_object_or_404(Book.dahl_objects, title='Matilda')
</pre> <p>You can also use <a class="reference internal" href="../../../ref/models/relations/#django.db.models.fields.related.RelatedManager" title="django.db.models.fields.related.RelatedManager"><code>related managers</code></a>:</p> <pre data-language="python">author = Author.objects.get(name='Roald Dahl')
get_object_or_404(author.book_set, title='Matilda')
</pre> <p>Note: As with <code>get()</code>, a <a class="reference internal" href="../../../ref/exceptions/#django.core.exceptions.MultipleObjectsReturned" title="django.core.exceptions.MultipleObjectsReturned"><code>MultipleObjectsReturned</code></a> exception will be raised if more than one object is found.</p>    <h2 id="get-list-or-404"><code>get_list_or_404</code></h2> <dl class="function"> <dt id="django.shortcuts.get_list_or_404">
<code>get_list_or_404(klass, *args, **kwargs)</code> <a class="reference internal" href="https://docs.djangoproject.com/en/1.8/_modules/django/shortcuts/#get_list_or_404" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Returns the result of <a class="reference internal" href="../../../ref/models/querysets/#django.db.models.query.QuerySet.filter" title="django.db.models.query.QuerySet.filter"><code>filter()</code></a> on a given model manager cast to a list, raising <a class="reference internal" href="../views/#django.http.Http404" title="django.http.Http404"><code>Http404</code></a> if the resulting list is empty.</p> </dd>
</dl>  <h3 id="id6">Required arguments</h3> <dl class="docutils"> <dt>
<code>klass</code> </dt> <dd>A <a class="reference internal" href="../../../ref/models/instances/#django.db.models.Model" title="django.db.models.Model"><code>Model</code></a>, <a class="reference internal" href="../../db/managers/#django.db.models.Manager" title="django.db.models.Manager"><code>Manager</code></a> or <a class="reference internal" href="../../../ref/models/querysets/#django.db.models.query.QuerySet" title="django.db.models.query.QuerySet"><code>QuerySet</code></a> instance from which to get the list.</dd> <dt>
<code>**kwargs</code> </dt> <dd>Lookup parameters, which should be in the format accepted by <code>get()</code> and <code>filter()</code>.</dd> </dl>   <h3 id="id7">Example</h3> <p>The following example gets all published objects from <code>MyModel</code>:</p> <pre data-language="python">from django.shortcuts import get_list_or_404

def my_view(request):
    my_objects = get_list_or_404(MyModel, published=True)
</pre> <p>This example is equivalent to:</p> <pre data-language="python">from django.http import Http404

def my_view(request):
    my_objects = list(MyModel.objects.filter(published=True))
    if not my_objects:
        raise Http404("No MyModel matches the given query.")
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © Django Software Foundation and individual contributors<br>Licensed under the BSD License.<br>
    <a href="https://docs.djangoproject.com/en/1.8/topics/http/shortcuts/" class="_attribution-link" target="_blank">https://docs.djangoproject.com/en/1.8/topics/http/shortcuts/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
