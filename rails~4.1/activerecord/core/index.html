
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ActiveRecord&#58;&#58;Core - Ruby on Rails 4.1 - W3cubDocs</title>
  
  <meta name="description" content=" Returns fully resolved configurations hash ">
  <meta name="keywords" content="module, activerecord, core, -, ruby, on, rails, rails~4.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/rails~4.1/activerecord/core/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/rails~4.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/rails~4.1/" class="_nav-link" title="" style="margin-left:0;">Ruby on Rails 4.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _rdoc">
				
<h1 id="module-ActiveRecord::Core" class="module"> module ActiveRecord::Core </h1>  <section id="5Buntitled-5D" class="documentation-section"> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-configurations"> <span class="method-name">configurations</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns fully resolved configurations hash</p> <div class="method-source-code" id="configurations-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 51
def self.configurations
  @@configurations
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-configurations-3D"> <span class="method-name">configurations=</span><span class="method-args">(config)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>:singleton-method: Contains the database configuration - as is typically stored in config/database.yml - as a <a href="../../hash/">Hash</a>.</p> <p>For example, the following database.yml…</p> <pre>development:
  adapter: sqlite3
  database: db/development.sqlite3

production:
  adapter: sqlite3
  database: db/production.sqlite3</pre> <p>…would result in <a href="../core/#method-c-configurations">::configurations</a> to look like this:</p> <pre class="ruby" data-language="ruby">{
   'development' =&gt; {
      'adapter'  =&gt; 'sqlite3',
      'database' =&gt; 'db/development.sqlite3'
   },
   'production' =&gt; {
      'adapter'  =&gt; 'sqlite3',
      'database' =&gt; 'db/production.sqlite3'
   }
}
</pre> <div class="method-source-code" id="configurations-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 45
def self.configurations=(config)
  @@configurations = ActiveRecord::ConnectionHandling::MergeAndResolveDefaultUrlConfig.new(config).resolve
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-connection_handler"> <span class="method-name">connection_handler</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <div class="method-source-code" id="connection_handler-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 97
def self.connection_handler
  ActiveRecord::RuntimeRegistry.connection_handler || default_connection_handler
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-connection_handler-3D"> <span class="method-name">connection_handler=</span><span class="method-args">(handler)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <div class="method-source-code" id="connection_handler-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 101
def self.connection_handler=(handler)
  ActiveRecord::RuntimeRegistry.connection_handler = handler
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-disable_implicit_join_references-3D"> <span class="method-name">disable_implicit_join_references=</span><span class="method-args">(value)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <div class="method-source-code" id="disable_implicit_join_references-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 90
def self.disable_implicit_join_references=(value)
  ActiveSupport::Deprecation.warn("Implicit join references were removed with Rails 4.1."                                          "Make sure to remove this configuration because it does nothing.")
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(attributes = nil, options = {}) { |self| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>New objects can be instantiated as either empty (pass no construction parameter) or pre-set with attributes but not yet saved (pass a hash with key names matching the associated table column names). In both instances, valid attribute keys are determined by the column names of the associated table – hence you can't have attributes that aren't part of the table columns.</p> <h4 id="method-c-new-label-Example-3A">Example:</h4> <pre class="ruby" data-language="ruby"># Instantiates a single new object
User.new(first_name: 'Jamie')
</pre> <div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 182
def initialize(attributes = nil, options = {})
  defaults = self.class.column_defaults.dup
  defaults.each { |k, v| defaults[k] = v.dup if v.duplicable? }

  @attributes   = self.class.initialize_attributes(defaults)
  @column_types_override = nil
  @column_types = self.class.column_types

  init_internals
  initialize_internals_callback

  # +options+ argument is only needed to make protected_attributes gem easier to hook.
  # Remove it when we drop support to this gem.
  init_attributes(attributes, options) if attributes

  yield self if block_given?
  run_callbacks :initialize unless _initialize_callbacks.empty?
end</pre> </div> </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-3C-3D-3E"> <span class="method-name">&lt;=&gt;</span><span class="method-args">(other_object)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Allows sort on objects</p> <div class="method-calls-super"> Calls superclass method </div> <div class="method-source-code" id="3C-3D-3E-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 327
def &lt;=&gt;(other_object)
  if other_object.is_a?(self.class)
    self.to_key &lt;=&gt; other_object.to_key
  else
    super
  end
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3D-3D"> <span class="method-name">==</span><span class="method-args">(comparison_object)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns true if <code>comparison_object</code> is the same exact object, or <code>comparison_object</code> is of the same type and <code>self</code> has an ID and it is equal to <code>comparison_object.id</code>.</p> <p>Note that new records are different from any other record by definition, unless the other record is the receiver itself. Besides, if you fetch existing records with <code>select</code> and leave the ID out, you're on your own, this predicate will return false.</p> <p>Note also that destroying a record preserves its ID in the model instance, so deleted models are still comparable.</p> <div class="method-calls-super"> Calls superclass method </div> <div class="method-source-code" id="3D-3D-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 299
def ==(comparison_object)
  super ||
    comparison_object.instance_of?(self.class) &amp;&amp;
    !id.nil? &amp;&amp;
    comparison_object.id == id
end</pre> </div> </div> <div class="aliases"> Also aliased as: <a href="../core/#method-i-eql-3F">eql?</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-clone"> <span class="method-name">clone</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Identical to Ruby's clone method. This is a “shallow” copy. Be warned that your attributes are not copied. That means that modifying attributes of the clone will modify the original, since they will both point to the same attributes hash. If you need a copy of your attributes hash, please use the <a href="../core/#method-i-dup">dup</a> method.</p> <pre class="ruby" data-language="ruby">user = User.first
new_user = user.clone
user.name               # =&gt; "Bob"
new_user.name = "Joe"
user.name               # =&gt; "Joe"

user.object_id == new_user.object_id            # =&gt; false
user.name.object_id == new_user.name.object_id  # =&gt; true

user.name.object_id == user.dup.name.object_id  # =&gt; false
</pre> <div class="method-source-code" id="clone-source"> <pre class="c" data-language="c"># File activerecord/lib/active_record/core.rb, line 245
    </pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-connection_handler"> <span class="method-name">connection_handler</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <div class="method-source-code" id="connection_handler-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 346
def connection_handler
  self.class.connection_handler
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-dup"> <span class="method-name">dup</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Duped objects have no id assigned and are treated as new records. Note that this is a “shallow” copy as it copies the object's attributes only, not its associations. The extent of a “deep” copy is application specific and is therefore left to the application to implement according to its need. The dup method does not preserve the timestamps (created|updated)_(at|on).</p> <div class="method-source-code" id="dup-source"> <pre class="c" data-language="c"># File activerecord/lib/active_record/core.rb, line 254
    </pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-encode_with"> <span class="method-name">encode_with</span><span class="method-args">(coder)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Populate <code>coder</code> with attributes about this record that should be serialized. The structure of <code>coder</code> defined in this method is guaranteed to match the structure of <code>coder</code> passed to the <code>init_with</code> method.</p> <p>Example:</p> <pre class="ruby" data-language="ruby">class Post &lt; ActiveRecord::Base
end
coder = {}
Post.new.encode_with(coder)
coder # =&gt; {"attributes" =&gt; {"id" =&gt; nil, ... }}
</pre> <div class="method-source-code" id="encode_with-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 286
def encode_with(coder)
  coder['attributes'] = attributes_for_coder
end</pre> </div> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-eql-3F"> <span class="method-name">eql?</span><span class="method-args">(comparison_object)</span> </div>  <div class="aliases"> Alias for: <a href="../core/#method-i-3D-3D">==</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-freeze"> <span class="method-name">freeze</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Clone and freeze the attributes hash such that associations are still accessible, even on destroyed records, but cloned models will not be frozen.</p> <div class="method-source-code" id="freeze-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 316
def freeze
  @attributes = @attributes.clone.freeze
  self
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-frozen-3F"> <span class="method-name">frozen?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns <code>true</code> if the attributes hash has been frozen.</p> <div class="method-source-code" id="frozen-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 322
def frozen?
  @attributes.frozen?
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-hash"> <span class="method-name">hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Delegates to id in order to allow two records of the same type and id to work with something like:</p> <pre class="ruby" data-language="ruby">[ Person.find(1), Person.find(2), Person.find(3) ] &amp; [ Person.find(1), Person.find(4) ] # =&gt; [ Person.find(1) ]
</pre> <div class="method-source-code" id="hash-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 309
def hash
  id.hash
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-init_with"> <span class="method-name">init_with</span><span class="method-args">(coder)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Initialize an empty model object from <code>coder</code>. <code>coder</code> must contain the attributes necessary for initializing an empty model object. For example:</p> <pre class="ruby" data-language="ruby">class Post &lt; ActiveRecord::Base
end

post = Post.allocate
post.init_with('attributes' =&gt; { 'title' =&gt; 'hello world' })
post.title # =&gt; 'hello world'
</pre> <div class="method-source-code" id="init_with-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 211
def init_with(coder)
  @attributes   = self.class.initialize_attributes(coder['attributes'])
  @column_types_override = coder['column_types']
  @column_types = self.class.column_types

  init_internals

  @new_record = false

  self.class.define_attribute_methods

  run_callbacks :find
  run_callbacks :initialize

  self
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns the contents of the record as a nicely formatted string.</p> <div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 351
def inspect
  # We check defined?(@attributes) not to issue warnings if the object is
  # allocated but not initialized.
  inspection = if defined?(@attributes) &amp;&amp; @attributes
                 self.class.column_names.collect { |name|
                   if has_attribute?(name)
                     "#{name}: #{attribute_for_inspect(name)}"
                   end
                 }.compact.join(", ")
               else
                 "not initialized"
               end
  "#&lt;#{self.class} #{inspection}&gt;"
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-readonly-21"> <span class="method-name">readonly!</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Marks this record as read only.</p> <div class="method-source-code" id="readonly-21-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 342
def readonly!
  @readonly = true
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-readonly-3F"> <span class="method-name">readonly?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns <code>true</code> if the record is read only. Records loaded through joins with piggy-back attributes will be marked as read only since they cannot be saved.</p> <div class="method-source-code" id="readonly-3F-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 337
def readonly?
  @readonly
end</pre> </div> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-slice"> <span class="method-name">slice</span><span class="method-args">(*methods)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description"> <p>Returns a hash of the given methods with their names as keys and returned values as values.</p> <div class="method-source-code" id="slice-source"> <pre class="ruby" data-language="ruby"># File activerecord/lib/active_record/core.rb, line 367
def slice(*methods)
  Hash[methods.map! { |method| [method, public_send(method)] }].with_indifferent_access
end</pre> </div> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    © 2004–2016 David Heinemeier Hansson<br>Licensed under the MIT License.<br>
    
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
