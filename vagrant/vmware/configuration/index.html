
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Configuration - Vagrant - W3cubDocs</title>
  
  <meta name="description" content="While Vagrant VMware providers are a drop-in replacement for VirtualBox, there are some additional features that are exposed that allow you to more &hellip;">
  <meta name="keywords" content="configuration, -, vagrant">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/vagrant/vmware/configuration/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/vagrant.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/vagrant/" class="_nav-link" title="" style="margin-left:0;">Vagrant</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _vagrant">
				
<h1 id="configuration">Configuration</h1> <p>While Vagrant VMware providers are a drop-in replacement for VirtualBox, there are some additional features that are exposed that allow you to more finely configure VMware-specific aspects of your machines.</p> <h2 id="vmware-fusion-app-location">"VMware Fusion.app" Location</h2> <p>The provider by default looks for VMware Fusion in "/Applications" and "~/Applications." If you put your applications in some other place, you will have to manually tell Vagrant where VMware Fusion is.</p> <p>This can be done with the <code>VAGRANT_VMWARE_FUSION_APP</code> environmental variable.</p> <p>For example, if you put your applications in an "/Apps" directory, you would configure Vagrant like this:</p> <pre class="highlight plaintext" data-language="ruby">$ export VAGRANT_VMWARE_FUSION_APP="/Apps/VMware Fusion.app"
$ vagrant up --provider=vmware_fusion
</pre> <h2 id="vm-clone-directory">VM Clone Directory</h2> <p>By default, the VMware provider will clone the VMware VM in the box to the ".vagrant" folder relative to the folder where the Vagrantfile is. Usually, this is fine. For some people, for example those who use a differential backup software such as Time Machine, this is very annoying because you cannot regularly ignore giant virtual machines as part of backups.</p> <p>The directory where the provider clones the virtual machine can be customized by setting the <code>VAGRANT_VMWARE_CLONE_DIRECTORY</code> environmental variable. This does not need to be unique per project. Each project will get a different sub-directory within this folder. Therefore, it is safe to set this systemwide.</p> <h2 id="linked-clones">Linked Clones</h2> <p>By default new machines are created using a linked clone to the base box. This reduces the time and required disk space incurred by directly importing the base box.</p> <p>Linked clones are based on a master VM, which is generated by importing the base box only once the first time it is required. For the linked clones only differencing disk images are created where the parent disk image belongs to the master VM. To disable linked clones:</p> <pre class="highlight ruby" data-language="ruby"><span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provider</span> <span class="s2">"vmware_fusion"</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
  <span class="n">v</span><span class="p">.</span><span class="nf">linked_clone</span> <span class="o">=</span> <span class="kp">false</span>
<span class="k">end</span>
</pre> <h2 id="virtual-machine-gui">Virtual Machine GUI</h2> <p>The VMware provider generally starts the virtual machines in headless mode. If you would like to see the UI because you are running a desktop within the VM, or if you need to debug potential boot issues with the VM, you can configure the VMware provider to boot with the GUI:</p> <pre class="highlight ruby" data-language="ruby"><span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provider</span> <span class="s2">"vmware_fusion"</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
  <span class="n">v</span><span class="p">.</span><span class="nf">gui</span> <span class="o">=</span> <span class="kp">true</span>
<span class="k">end</span>
</pre>
<p>Use "vmware_workstation" if you are using VMware workstation.</p> <h2 id="vmx-customization">VMX Customization</h2> <p>If you want to add or remove specific keys from the VMX file, you can do that:</p> <pre class="highlight ruby" data-language="ruby"><span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provider</span> <span class="s2">"vmware_fusion"</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
  <span class="n">v</span><span class="p">.</span><span class="nf">vmx</span><span class="p">[</span><span class="s2">"custom-key"</span><span class="p">]</span>  <span class="o">=</span> <span class="s2">"value"</span>
  <span class="n">v</span><span class="p">.</span><span class="nf">vmx</span><span class="p">[</span><span class="s2">"another-key"</span><span class="p">]</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="k">end</span>
</pre>
<p>Use "vmware_workstation" if you are using VMware workstation.</p> <p>In the example above, the "custom-key" key will be set to "value" and the "another-key" key will be removed from the VMX file.</p> <p>VMX customization is done as the final step before the VMware machine is booted, so you have the ability to possibly undo or misconfigure things that Vagrant has set up itself.</p> <p>VMX is an undocumented format and there is no official reference for the available keys and values. This customization option is exposed for people who have knowledge of exactly what they want.</p> <p>The most common keys people look for are setting memory and CPUs. The example below sets both:</p> <pre class="highlight ruby" data-language="ruby"><span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provider</span> <span class="s2">"vmware_fusion"</span> <span class="k">do</span> <span class="o">|</span><span class="n">v</span><span class="o">|</span>
  <span class="n">v</span><span class="p">.</span><span class="nf">vmx</span><span class="p">[</span><span class="s2">"memsize"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"1024"</span>
  <span class="n">v</span><span class="p">.</span><span class="nf">vmx</span><span class="p">[</span><span class="s2">"numvcpus"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"2"</span>
<span class="k">end</span>
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/vmware/configuration.html" class="_attribution-link" target="_blank">https://www.vagrantup.com/docs/vmware/configuration.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
