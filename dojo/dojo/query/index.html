
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Query - Dojo - W3cubDocs</title>
  
  <meta name="description" content="This modules provides DOM querying functionality. The module export is a function that can be used to query for DOM nodes by CSS selector and &hellip;">
  <meta name="keywords" content="dojo, query, -">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/dojo/dojo/query/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/dojo.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dojo/" class="_nav-link" title="" style="margin-left:0;">Dojo</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _dojo">
				
<h1>dojo/query</h1>  <h2 id="summary" class="summary">Summary</h2> <p>This modules provides DOM querying functionality. The module export is a function that can be used to query for DOM nodes by CSS selector and returns a NodeList representing the matching nodes.</p>  <p><a class="jsdoc-link" href="../query/">dojo/query</a> is responsible for loading the appropriate query engine and wrapping its results with a <code>NodeList</code>. You can use <a class="jsdoc-link" href="../query/">dojo/query</a> with a specific selector engine by using it as a plugin. For example, if you installed the sizzle package, you could use it as the selector engine with: </p> <pre><code>require(["dojo/query!sizzle"], function(query){
    query("div")...</code></pre> <p>The id after the ! can be a module id of the selector engine or one of the following values: </p> <ul> <li>
<p>acme: This is the default engine used by Dojo base, and will ensure that the full Acme engine is always loaded.</p> </li> <li>
<p>css2: If the browser has a native selector engine, this will be used, otherwise a very minimal lightweight selector engine will be loaded that can do simple CSS2 selectors (by #id, .class, tag, and [name=value] attributes, with standard child or descendant (&gt;) operators) and nothing more.</p> </li> <li>
<p>css2.1: If the browser has a native selector engine, this will be used, otherwise the full Acme engine will be loaded.</p> </li> <li>
<p>css3: If the browser has a native selector engine with support for CSS3 pseudo selectors (most modern browsers except IE8), this will be used, otherwise the full Acme engine will be loaded.</p> </li> <li>
<p>Or the module id of a selector engine can be used to explicitly choose the selector engine</p> </li> </ul> <p>For example, if you are using CSS3 pseudo selectors in module, you can specify that you will need support them with: </p> <pre><code>require(["dojo/query!css3"], function(query){
    query('#t &gt; h3:nth-child(odd)')...</code></pre> <p>You can also choose the selector engine/load configuration by setting the query-selector: For example: </p> <pre><code>&lt;script data-dojo-config="query-selector:'css3'" src="dojo.js"&gt;&lt;/script&gt;</code></pre>  <div class="jsdoc-function-information"> <h2 class="usage">Usage</h2> <div class="function-signature">query<span class="parameters"><span class="paren">(</span><span class="args">selector,context</span><span class="paren">)</span><span class="semi">;</span></span> </div> </div> <table class="jsdoc-parameters"> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td class="jsdoc-param-name">selector</td> <td class="jsdoc-param-type">String</td> <td class="jsdoc-param-description">
<p>A CSS selector to search for.</p> </td> </tr> <tr> <td class="jsdoc-param-name">context</td> <td class="jsdoc-param-type">String | DomNode</td> <td class="jsdoc-param-description"> <div><em>Optional</em></div>
<p>An optional context to limit the searching scope. Only nodes under <code>context</code> will be scanned.</p> </td> </tr> </table> <p class="returnsInfo"><strong class="returns">Returns: </strong><span class="jsdoc-return-type">instance</span></p> <p>See the <a href="http://dojotoolkit.org/reference-guide/1.10/dojo/query.html" target="_blank">dojo/query reference documentation</a> for more information.</p>    <div class="jsdoc-examples"> <h2>Examples</h2> <div class="jsdoc-example"> <h3>Example 1</h3>
<p>add an onclick handler to every submit button in the document which causes the form to be sent via Ajax instead: </p> <pre><code>require(["dojo/query", "dojo/request", "dojo/dom-form", "dojo/dom-construct", "dojo/dom-style"
], function(query, request, domForm, domConstruct, domStyle){
    query("input[type='submit']").on("click", function(e){
        e.preventDefault(); // prevent sending the form
        var btn = e.target;
        request.post("http://example.com/", {
            data: domForm.toObject(btn.form)
        }).then(function(response){
            // replace the form with the response
            domConstruct.create(div, {innerHTML: response}, btn.form, "after");
            domStyle.set(btn.form, "display", "none");
        });
    });
});</code></pre> </div> </div>       <h2 id="methods">Methods</h2>     <h3 class="jsdoc-title" id="1_10dojo_query_load">
<span class="functionIcon">load</span><span class="parameters">(id,parentRequire,loaded)</span> </h3> <p class="jsdoc-inheritance">Defined by <a href="../query/" class="jsdoc-link">dojo/query</a> </p> <p>can be used as AMD plugin to conditionally load new query engine</p>  <table class="jsdoc-parameters"> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td class="jsdoc-param-name">id</td> <td class="jsdoc-param-type">undefined</td> <td class="jsdoc-param-description"> </td> </tr> <tr> <td class="jsdoc-param-name">parentRequire</td> <td class="jsdoc-param-type">undefined</td> <td class="jsdoc-param-description"> </td> </tr> <tr> <td class="jsdoc-param-name">loaded</td> <td class="jsdoc-param-type">undefined</td> <td class="jsdoc-param-description"> </td> </tr> </table> <div class="jsdoc-examples"> <h2>Examples</h2> <div class="jsdoc-example"> <h3>Example 1</h3>
<pre><code>require(["dojo/query!custom"], function(qsa){
    // loaded selector/custom.js as engine
    qsa("#foobar").forEach(...);
});</code></pre> </div> </div>     <h3 class="jsdoc-title" id="1_10dojo_query_NodeList">
<span class="functionIcon">NodeList</span><span class="parameters">(array)</span> </h3> <p class="jsdoc-inheritance">Defined by <a href="../query/" class="jsdoc-link">dojo/query</a> </p> <p>Array-like object which adds syntactic sugar for chaining, common iteration operations, animation, and node manipulation. NodeLists are most often returned as the result of dojo/query() calls.</p>  <p>NodeList instances provide many utilities that reflect core Dojo APIs for Array iteration and manipulation, DOM manipulation, and event handling. Instead of needing to dig up functions in the dojo package, NodeLists generally make the full power of Dojo available for DOM manipulation tasks in a simple, chainable way.</p>  <table class="jsdoc-parameters"> <tr> <th>Parameter</th> <th>Type</th> <th>Description</th> </tr> <tr> <td class="jsdoc-param-name">array</td> <td class="jsdoc-param-type">undefined</td> <td class="jsdoc-param-description"> </td> </tr> </table> <p class="returnsInfo"><strong class="returns">Returns: </strong><span class="jsdoc-return-type">Array</span></p> <div class="jsdoc-examples"> <h2>Examples</h2> <div class="jsdoc-example"> <h3>Example 1</h3>
<p>create a node list from a node </p> <pre><code>require(["dojo/query", "dojo/dom"
], function(query, dom){
    query.NodeList(dom.byId("foo"));
});</code></pre> </div> <div class="jsdoc-example"> <h3>Example 2</h3>
<p>get a NodeList from a CSS query and iterate on it </p> <pre><code>require(["dojo/on", "dojo/dom"
], function(on, dom){
    var l = query(".thinger");
    l.forEach(function(node, index, nodeList){
        console.log(index, node.innerHTML);
    });
});</code></pre> </div> <div class="jsdoc-example"> <h3>Example 3</h3>
<p>use native and Dojo-provided array methods to manipulate a NodeList without needing to use dojo.* functions explicitly: </p> <pre><code>require(["dojo/query", "dojo/dom-construct", "dojo/dom"
], function(query, domConstruct, dom){
    var l = query(".thinger");
    // since NodeLists are real arrays, they have a length
    // property that is both readable and writable and
    // push/pop/shift/unshift methods
    console.log(l.length);
    l.push(domConstruct.create("span"));

    // dojo's normalized array methods work too:
    console.log( l.indexOf(dom.byId("foo")) );
    // ...including the special "function as string" shorthand
    console.log( l.every("item.nodeType == 1") );

    // NodeLists can be [..] indexed, or you can use the at()
    // function to get specific items wrapped in a new NodeList:
    var node = l[3]; // the 4th element
    var newList = l.at(1, 3); // the 2nd and 4th elements
});</code></pre> </div> <div class="jsdoc-example"> <h3>Example 4</h3>
<p>chainability is a key advantage of NodeLists: </p> <pre><code>require(["dojo/query", "dojo/NodeList-dom"
], function(query){
    query(".thinger")
        .onclick(function(e){ /* ... */ })
        .at(1, 3, 8) // get a subset
            .style("padding", "5px")
            .forEach(console.log);
});</code></pre> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2015 The Dojo Foundation<br>Licensed under the AFL 2.1 and BSD 3-Clause licenses.<br>
    <a href="http://dojotoolkit.org/api/1.10/dojo/query.html" class="_attribution-link" target="_blank">http://dojotoolkit.org/api/1.10/dojo/query.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
