
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Junos_template - Ansible - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.1. ">
  <meta name="keywords" content="junos, template, -, manage, configuration, on, remote, devices, running, ansible">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible/junos_template_module/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/ansible.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible/" class="_nav-link" title="" style="margin-left:0;">Ansible</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="junos-template">junos_template - Manage configuration on remote devices running Junos</h1> <div class="versionadded" id="junos-template-manage-configuration-on-remote-devices-running-junos"> <p><span class="versionmodified">New in version 2.1.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#deprecated" id="id1">DEPRECATED</a></li> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#requirements-on-host-that-executes-module" id="id3">Requirements (on host that executes module)</a></li> <li><a class="reference internal" href="#options" id="id4">Options</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#notes" id="id6">Notes</a></li> </ul>   <h2 id="deprecated">DEPRECATED</h2> <p>Deprecated in 2.2. Use junos_config instead</p>   <h2 id="synopsis">Synopsis</h2> <p>This module will load a candidate configuration from a template file onto a remote device running Junos. The module will return the differences in configuration if the diff option is specified on the Ansible command line</p>   <h2 id="requirements-on-host-that-executes-module">Requirements (on host that executes module)</h2>  <ul class="simple"> <li>junos-eznc</li> </ul>    <h2 id="options">Options</h2> <table> <tr> <th class="head">parameter</th> <th class="head">required</th> <th class="head">default</th> <th class="head">choices</th> <th class="head">comments</th> </tr> <tr> <td>action<br><div style="font-size: small;"> (added in 2.2)</div>
</td> <td>no</td> <td>merge</td> <td><ul>
<li>merge</li>
<li>overwrite</li>
<li>replace</li>
</ul></td> <td><div>The <code>action</code> argument specifies how the module will apply changes.</div></td>
</tr> <tr> <td>backup<br>
</td> <td>no</td> <td></td> <td><ul>
<li>true</li>
<li>false</li>
</ul></td> <td><div>When this argument is configured true, the module will backup the configuration from the node prior to making any changes. The backup file will be written to backup_{{ hostname }} in the root of the playbook directory.</div></td>
</tr> <tr> <td>comment<br>
</td> <td>no</td> <td>configured by junos_template</td> <td></td> <td><div>The <code>comment</code> argument specifies a text string to be used when committing the configuration. If the <code>confirm</code> argument is set to False, this argument is silently ignored.</div></td>
</tr> <tr> <td>config_format<br>
</td> <td>no</td> <td></td> <td><ul>
<li>text</li>
<li>xml</li>
<li>set</li>
</ul></td> <td><div>The <code>format</code> argument specifies the format of the configuration template specified in <code>src</code>. If the format argument is not specified, the module will attempt to infer the configuration format based of file extension. Files that end in <em>xml</em> will set the format to xml. Files that end in <em>set</em> will set the format to set and all other files will default the format to text.</div></td>
</tr> <tr> <td>confirm<br>
</td> <td>no</td> <td></td> <td></td> <td><div>The <code>confirm</code> argument will configure a time out value for the commit to be confirmed before it is automatically rolled back. If the <code>confirm</code> argument is set to False, this argument is silently ignored. If the value for this argument is set to 0, the commit is confirmed immediately.</div></td>
</tr> <tr> <td>host<br>
</td> <td>yes</td> <td></td> <td></td> <td><div>Specifies the DNS host name or address for connecting to the remote device over the specified transport. The value of host is used as the destination address for the transport.</div></td>
</tr> <tr> <td>password<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Specifies the password to use to authenticate the connection to the remote device. This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable <code>ANSIBLE_NET_PASSWORD</code> will be used instead.</div></td>
</tr> <tr> <td>port<br>
</td> <td>no</td> <td>22</td> <td></td> <td><div>Specifies the port to use when building the connection to the remote device. The port value will default to the well known SSH port of 22 (for <code>transport=cli</code>) or port 830 (for <code>transport=netconf</code>) device.</div></td>
</tr> <tr> <td>provider<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Convenience method that allows all <em>ios</em> arguments to be passed as a dict object. All constraints (required, choices, etc) must be met either by individual arguments or values in this dict.</div></td>
</tr> <tr> <td>src<br>
</td> <td>yes</td> <td></td> <td></td> <td><div>The path to the config source. The source can be either a file with config or a template that will be merged during runtime. By default the task will search for the source file in role or playbook root folder in templates directory.</div></td>
</tr> <tr> <td>ssh_keyfile<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Specifies the SSH key to use to authenticate the connection to the remote device. This value is the path to the key used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable <code>ANSIBLE_NET_SSH_KEYFILE</code> will be used instead.</div></td>
</tr> <tr> <td>username<br>
</td> <td>no</td> <td></td> <td></td> <td><div>Configures the username to use to authenticate the connection to the remote device. This value is used to authenticate the SSH session. If the value is not specified in the task, the value of environment variable <code>ANSIBLE_NET_USERNAME</code> will be used instead.</div></td>
</tr> </table>   <h2 id="examples">Examples</h2>  <pre data-language="yaml">- junos_template:
    src: config.j2
    comment: update system config

- name: replace config hierarchy
    src: config.j2
    action: replace

- name: overwrite the config
    src: config.j2
    action: overwrite
</pre>    <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This module requires the netconf system service be enabled on the remote device being managed</p> </div> <p>For help in developing on modules, should you be so inclined, please read <a class="reference internal" href="https://docs.ansible.com/ansible/community.html" target="_blank"><span class="doc">Community Information &amp; Contributing</span></a>, <span class="xref doc">developing_test_pr</span> and <a class="reference internal" href="../developing_modules/"><span class="doc">Developing Modules</span></a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2016 Michael DeHaan<br>© 2016 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/junos_template_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/junos_template_module.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
