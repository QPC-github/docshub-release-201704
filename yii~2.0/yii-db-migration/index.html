
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>db&#92;Migration - Yii 2.0 - W3cubDocs</title>
  
  <meta name="description" content=" Migration is the base class for representing a database migration. ">
  <meta name="keywords" content="class, yii, db, migration, -, yii~2.0">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/yii~2.0/yii-db-migration/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/yii~2.0.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/yii~2.0/" class="_nav-link" title="" style="margin-left:0;">Yii 2.0</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _yii">
				
<h1>Class yii\db\Migration</h1> <div class="top-nav"> <a href="../">All Classes</a> | <a href="#properties">Properties</a> | <a href="#methods">Methods</a> </div> <table class="summaryTable docClass table table-bordered"> <colgroup> <col class="col-name"> <col class="col-value"> </colgroup> <tr>
<th>Inheritance</th>
<td>
<a href="../yii-db-migration/">yii\db\Migration</a> » <a href="../yii-base-component/">yii\base\Component</a> » <a href="../yii-base-object/">yii\base\Object</a>
</td>
</tr> <tr>
<th>Implements</th>
<td>
<a href="../yii-base-configurable/">yii\base\Configurable</a>, <a href="../yii-db-migrationinterface/">yii\db\MigrationInterface</a>
</td>
</tr> <tr>
<th>Uses Traits</th>
<td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td>
</tr> <tr>
<th>Available since version</th>
<td>2.0</td>
</tr> <tr> <th>Source Code</th> <td><a href="https://github.com/yiisoft/yii2/blob/master/framework/db/Migration.php" target="_blank">https://github.com/yiisoft/yii2/blob/master/framework/db/Migration.php</a></td> </tr> </table> <div class="class-description"> <p><strong>Migration is the base class for representing a database migration.</strong></p> <p>Migration is designed to be used together with the "yii migrate" command.</p> <p>Each child class of Migration represents an individual database migration which is identified by the child class name.</p> <p>Within each migration, the <a href="../yii-db-migration/#up()-detail">up()</a> method should be overridden to contain the logic for "upgrading" the database; while the <a href="../yii-db-migration/#down()-detail">down()</a> method for the "downgrading" logic. The "yii migrate" command manages all available migrations in an application.</p> <p>If the database supports transactions, you may also override <a href="../yii-db-migration/#safeUp()-detail">safeUp()</a> and <a href="../yii-db-migration/#safeDown()-detail">safeDown()</a> so that if anything wrong happens during the upgrading or downgrading, the whole migration can be reverted in a whole.</p> <p>Migration provides a set of convenient methods for manipulating database data and schema. For example, the <a href="../yii-db-migration/#insert()-detail">insert()</a> method can be used to easily insert a row of data into a database table; the <a href="../yii-db-migration/#createTable()-detail">createTable()</a> method can be used to create a database table. Compared with the same methods in <a href="../yii-db-command/">yii\db\Command</a>, these methods will display extra information showing the method parameters and execution time, which may be useful when applying migrations.</p> <p>For more details and usage information on Migration, see the <a href="../guide-db-migrations/">guide article on Migration</a>.</p> </div>   <h2 id="properties">Public Properties</h2>  <table class="summary-table table table-striped table-bordered table-hover"> <colgroup> <col class="col-property"> <col class="col-type"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Property</th>
<th>Type</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="$behaviors"> <td><a href="../yii-base-component/#%24behaviors-detail">$behaviors</a></td> <td>
<a href="../yii-base-behavior/">yii\base\Behavior</a>[]</td> <td>List of behaviors attached to this component</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr id="$db"> <td><a href="../yii-db-migration/#%24db-detail">$db</a></td> <td>
<a href="../yii-db-connection/">yii\db\Connection</a>|<a href="http://www.php.net/language.types.array" target="_blank">array</a>|<a href="http://www.php.net/language.types.string" target="_blank">string</a>
</td> <td>The DB connection object or the application component ID of the DB connection that this migration should work with.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> </table>    <h2 id="methods">Public Methods</h2>  <table class="summary-table table table-striped table-bordered table-hover"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr class="inherited" id="__call()"> <td><a href="../yii-base-component/#__call()-detail">__call()</a></td> <td>Calls the named method which is not a class method.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="__clone()"> <td><a href="../yii-base-component/#__clone()-detail">__clone()</a></td> <td>This method is called after the object is created by cloning an existing one.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="__construct()"> <td><a href="../yii-base-object/#__construct()-detail">__construct()</a></td> <td>Constructor.</td> <td><a href="../yii-base-object/">yii\base\Object</a></td> </tr> <tr class="inherited" id="__get()"> <td><a href="../yii-base-component/#__get()-detail">__get()</a></td> <td>Returns the value of a component property.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="__isset()"> <td><a href="../yii-base-component/#__isset()-detail">__isset()</a></td> <td>Checks if a property is set, i.e. defined and not null.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="__set()"> <td><a href="../yii-base-component/#__set()-detail">__set()</a></td> <td>Sets the value of a component property.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="__unset()"> <td><a href="../yii-base-component/#__unset()-detail">__unset()</a></td> <td>Sets a component property to be null.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr id="addColumn()"> <td><a href="../yii-db-migration/#addColumn()-detail">addColumn()</a></td> <td>Builds and executes a SQL statement for adding a new DB column.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="addCommentOnColumn()"> <td><a href="../yii-db-migration/#addCommentOnColumn()-detail">addCommentOnColumn()</a></td> <td>Builds and execute a SQL statement for adding comment to column</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="addCommentOnTable()"> <td><a href="../yii-db-migration/#addCommentOnTable()-detail">addCommentOnTable()</a></td> <td>Builds a SQL statement for adding comment to table</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="addForeignKey()"> <td><a href="../yii-db-migration/#addForeignKey()-detail">addForeignKey()</a></td> <td>Builds a SQL statement for adding a foreign key constraint to an existing table.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="addPrimaryKey()"> <td><a href="../yii-db-migration/#addPrimaryKey()-detail">addPrimaryKey()</a></td> <td>Builds and executes a SQL statement for creating a primary key.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="alterColumn()"> <td><a href="../yii-db-migration/#alterColumn()-detail">alterColumn()</a></td> <td>Builds and executes a SQL statement for changing the definition of a column.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="attachBehavior()"> <td><a href="../yii-base-component/#attachBehavior()-detail">attachBehavior()</a></td> <td>Attaches a behavior to this component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="attachBehaviors()"> <td><a href="../yii-base-component/#attachBehaviors()-detail">attachBehaviors()</a></td> <td>Attaches a list of behaviors to the component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr id="batchInsert()"> <td><a href="../yii-db-migration/#batchInsert()-detail">batchInsert()</a></td> <td>Creates and executes an batch INSERT SQL statement.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="behaviors()"> <td><a href="../yii-base-component/#behaviors()-detail">behaviors()</a></td> <td>Returns a list of behaviors that this component should behave as.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="bigInteger()"> <td><a href="../yii-db-schemabuildertrait/#bigInteger()-detail">bigInteger()</a></td> <td>Creates a bigint column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="bigPrimaryKey()"> <td><a href="../yii-db-schemabuildertrait/#bigPrimaryKey()-detail">bigPrimaryKey()</a></td> <td>Creates a big primary key column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="binary()"> <td><a href="../yii-db-schemabuildertrait/#binary()-detail">binary()</a></td> <td>Creates a binary column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="boolean()"> <td><a href="../yii-db-schemabuildertrait/#boolean()-detail">boolean()</a></td> <td>Creates a boolean column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="canGetProperty()"> <td><a href="../yii-base-component/#canGetProperty()-detail">canGetProperty()</a></td> <td>Returns a value indicating whether a property can be read.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="canSetProperty()"> <td><a href="../yii-base-component/#canSetProperty()-detail">canSetProperty()</a></td> <td>Returns a value indicating whether a property can be set.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="char()"> <td><a href="../yii-db-schemabuildertrait/#char()-detail">char()</a></td> <td>Creates a char column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="className()"> <td><a href="../yii-base-object/#className()-detail">className()</a></td> <td>Returns the fully qualified name of this class.</td> <td><a href="../yii-base-object/">yii\base\Object</a></td> </tr> <tr id="createIndex()"> <td><a href="../yii-db-migration/#createIndex()-detail">createIndex()</a></td> <td>Builds and executes a SQL statement for creating a new index.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="createTable()"> <td><a href="../yii-db-migration/#createTable()-detail">createTable()</a></td> <td>Builds and executes a SQL statement for creating a new DB table.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="date()"> <td><a href="../yii-db-schemabuildertrait/#date()-detail">date()</a></td> <td>Creates a date column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="dateTime()"> <td><a href="../yii-db-schemabuildertrait/#dateTime()-detail">dateTime()</a></td> <td>Creates a datetime column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="decimal()"> <td><a href="../yii-db-schemabuildertrait/#decimal()-detail">decimal()</a></td> <td>Creates a decimal column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr id="delete()"> <td><a href="../yii-db-migration/#delete()-detail">delete()</a></td> <td>Creates and executes a DELETE SQL statement.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="detachBehavior()"> <td><a href="../yii-base-component/#detachBehavior()-detail">detachBehavior()</a></td> <td>Detaches a behavior from the component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="detachBehaviors()"> <td><a href="../yii-base-component/#detachBehaviors()-detail">detachBehaviors()</a></td> <td>Detaches all behaviors from the component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="double()"> <td><a href="../yii-db-schemabuildertrait/#double()-detail">double()</a></td> <td>Creates a double column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr id="down()"> <td><a href="../yii-db-migration/#down()-detail">down()</a></td> <td>This method contains the logic to be executed when removing this migration.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="dropColumn()"> <td><a href="../yii-db-migration/#dropColumn()-detail">dropColumn()</a></td> <td>Builds and executes a SQL statement for dropping a DB column.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="dropCommentFromColumn()"> <td><a href="../yii-db-migration/#dropCommentFromColumn()-detail">dropCommentFromColumn()</a></td> <td>Builds and execute a SQL statement for dropping comment from column</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="dropCommentFromTable()"> <td><a href="../yii-db-migration/#dropCommentFromTable()-detail">dropCommentFromTable()</a></td> <td>Builds a SQL statement for dropping comment from table</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="dropForeignKey()"> <td><a href="../yii-db-migration/#dropForeignKey()-detail">dropForeignKey()</a></td> <td>Builds a SQL statement for dropping a foreign key constraint.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="dropIndex()"> <td><a href="../yii-db-migration/#dropIndex()-detail">dropIndex()</a></td> <td>Builds and executes a SQL statement for dropping an index.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="dropPrimaryKey()"> <td><a href="../yii-db-migration/#dropPrimaryKey()-detail">dropPrimaryKey()</a></td> <td>Builds and executes a SQL statement for dropping a primary key.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="dropTable()"> <td><a href="../yii-db-migration/#dropTable()-detail">dropTable()</a></td> <td>Builds and executes a SQL statement for dropping a DB table.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="ensureBehaviors()"> <td><a href="../yii-base-component/#ensureBehaviors()-detail">ensureBehaviors()</a></td> <td>Makes sure that the behaviors declared in <a href="../yii-base-component/#behaviors()-detail">behaviors()</a> are attached to this component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr id="execute()"> <td><a href="../yii-db-migration/#execute()-detail">execute()</a></td> <td>Executes a SQL statement.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="float()"> <td><a href="../yii-db-schemabuildertrait/#float()-detail">float()</a></td> <td>Creates a float column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="getBehavior()"> <td><a href="../yii-base-component/#getBehavior()-detail">getBehavior()</a></td> <td>Returns the named behavior object.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="getBehaviors()"> <td><a href="../yii-base-component/#getBehaviors()-detail">getBehaviors()</a></td> <td>Returns all behaviors attached to this component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="hasEventHandlers()"> <td><a href="../yii-base-component/#hasEventHandlers()-detail">hasEventHandlers()</a></td> <td>Returns a value indicating whether there is any handler attached to the named event.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="hasMethod()"> <td><a href="../yii-base-component/#hasMethod()-detail">hasMethod()</a></td> <td>Returns a value indicating whether a method is defined.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="hasProperty()"> <td><a href="../yii-base-component/#hasProperty()-detail">hasProperty()</a></td> <td>Returns a value indicating whether a property is defined for this component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr id="init()"> <td><a href="../yii-db-migration/#init()-detail">init()</a></td> <td>Initializes the migration.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="insert()"> <td><a href="../yii-db-migration/#insert()-detail">insert()</a></td> <td>Creates and executes an INSERT SQL statement.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="integer()"> <td><a href="../yii-db-schemabuildertrait/#integer()-detail">integer()</a></td> <td>Creates an integer column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="money()"> <td><a href="../yii-db-schemabuildertrait/#money()-detail">money()</a></td> <td>Creates a money column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="off()"> <td><a href="../yii-base-component/#off()-detail">off()</a></td> <td>Detaches an existing event handler from this component.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="on()"> <td><a href="../yii-base-component/#on()-detail">on()</a></td> <td>Attaches an event handler to an event.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr class="inherited" id="primaryKey()"> <td><a href="../yii-db-schemabuildertrait/#primaryKey()-detail">primaryKey()</a></td> <td>Creates a primary key column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr id="renameColumn()"> <td><a href="../yii-db-migration/#renameColumn()-detail">renameColumn()</a></td> <td>Builds and executes a SQL statement for renaming a column.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="renameTable()"> <td><a href="../yii-db-migration/#renameTable()-detail">renameTable()</a></td> <td>Builds and executes a SQL statement for renaming a DB table.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="safeDown()"> <td><a href="../yii-db-migration/#safeDown()-detail">safeDown()</a></td> <td>This method contains the logic to be executed when removing this migration.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="safeUp()"> <td><a href="../yii-db-migration/#safeUp()-detail">safeUp()</a></td> <td>This method contains the logic to be executed when applying this migration.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr class="inherited" id="smallInteger()"> <td><a href="../yii-db-schemabuildertrait/#smallInteger()-detail">smallInteger()</a></td> <td>Creates a smallint column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="string()"> <td><a href="../yii-db-schemabuildertrait/#string()-detail">string()</a></td> <td>Creates a string column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="text()"> <td><a href="../yii-db-schemabuildertrait/#text()-detail">text()</a></td> <td>Creates a text column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="time()"> <td><a href="../yii-db-schemabuildertrait/#time()-detail">time()</a></td> <td>Creates a time column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="timestamp()"> <td><a href="../yii-db-schemabuildertrait/#timestamp()-detail">timestamp()</a></td> <td>Creates a timestamp column.</td> <td><a href="../yii-db-schemabuildertrait/">yii\db\SchemaBuilderTrait</a></td> </tr> <tr class="inherited" id="trigger()"> <td><a href="../yii-base-component/#trigger()-detail">trigger()</a></td> <td>Triggers an event.</td> <td><a href="../yii-base-component/">yii\base\Component</a></td> </tr> <tr id="truncateTable()"> <td><a href="../yii-db-migration/#truncateTable()-detail">truncateTable()</a></td> <td>Builds and executes a SQL statement for truncating a DB table.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="up()"> <td><a href="../yii-db-migration/#up()-detail">up()</a></td> <td>This method contains the logic to be executed when applying this migration.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> <tr id="update()"> <td><a href="../yii-db-migration/#update()-detail">update()</a></td> <td>Creates and executes an UPDATE SQL statement.</td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> </table>   <h2>Protected Methods</h2>  <table class="summary-table table table-striped table-bordered table-hover"> <colgroup> <col class="col-method"> <col class="col-description"> <col class="col-defined"> </colgroup> <tr> <th>Method</th>
<th>Description</th>
<th>Defined By</th> </tr> <tr id="getDb()"> <td><a href="../yii-db-migration/#getDb()-detail">getDb()</a></td> <td></td> <td><a href="../yii-db-migration/">yii\db\Migration</a></td> </tr> </table>    <h2 id="constants">Property Details</h2> <div class="property-doc"> <h3 class="detail-header h3" id="$db-detail"> $db <span class="detail-header-tag small"> public property </span> </h3> <div class="doc-description"> <p>The DB connection object or the application component ID of the DB connection that this migration should work with. Starting from version 2.0.2, this can also be a configuration array for creating the object.</p> <p>Note that when a Migration object is created by the <code>migrate</code> command, this property will be overwritten by the command. If you do not want to use the DB connection provided by the command, you may override the <a href="../yii-db-migration/#init()-detail">init()</a> method like the following:</p> <pre data-language="php">public function init()
{
    $this-&gt;db = 'db2';
    parent::init();
}
</pre> </div> <pre class="signature"><span class="signature-defs">public</span> <span class="signature-type"><a href="../yii-db-connection/">yii\db\Connection</a>|<a href="http://www.php.net/language.types.array" target="_blank">array</a>|<a href="http://www.php.net/language.types.string" target="_blank">string</a></span> <a href="../yii-db-migration/#%24db-detail">$db</a> = 'db'</pre> </div> <h2>Method Details</h2> <div class="method-doc"> <h3 class="detail-header h3" id="addColumn()-detail"> addColumn() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for adding a new DB column.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#addColumn()-detail">addColumn</a></strong> ( $table, $column, $type )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that the new column will be added to. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$column</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the new column. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$type</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The column type. The <a href="../yii-db-querybuilder/#getColumnType()-detail">yii\db\QueryBuilder::getColumnType()</a> method will be invoked to convert abstract column type (if any) into the physical one. Anything that is not recognized as abstract type will be kept in the generated SQL. For example, 'string' will be turned into 'varchar(255)', while 'string not null' will become 'varchar(255) not null'.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="addCommentOnColumn()-detail"> addCommentOnColumn() <span class="detail-header-tag small"> public method (available since version 2.0.8) </span> </h3> <div class="doc-description"> <p><strong>Builds and execute a SQL statement for adding comment to column</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#addCommentOnColumn()-detail">addCommentOnColumn</a></strong> ( $table, $column, $comment )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose column is to be commented. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$column</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the column to be commented. The column name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$comment</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The text of the comment to be added. The comment will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="addCommentOnTable()-detail"> addCommentOnTable() <span class="detail-header-tag small"> public method (available since version 2.0.8) </span> </h3> <div class="doc-description"> <p><strong>Builds a SQL statement for adding comment to table</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#addCommentOnTable()-detail">addCommentOnTable</a></strong> ( $table, $comment )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose column is to be commented. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$comment</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The text of the comment to be added. The comment will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="addForeignKey()-detail"> addForeignKey() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds a SQL statement for adding a foreign key constraint to an existing table.</strong></p> <p>The method will properly quote the table and column names.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#addForeignKey()-detail">addForeignKey</a></strong> ( $name, $table, $columns, $refTable, $refColumns, $delete = null, $update = null )</th></tr> <tr> <td class="param-name-col">$name</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the foreign key constraint.</p> </td> </tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that the foreign key constraint will be added to.</p> </td> </tr> <tr> <td class="param-name-col">$columns</td> <td class="param-type-col">
<a href="http://www.php.net/language.types.string" target="_blank">string</a>|<a href="http://www.php.net/language.types.array" target="_blank">array</a>
</td> <td class="param-desc-col">
<p>The name of the column to that the constraint will be added on. If there are multiple columns, separate them with commas or use an array.</p> </td> </tr> <tr> <td class="param-name-col">$refTable</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that the foreign key references to.</p> </td> </tr> <tr> <td class="param-name-col">$refColumns</td> <td class="param-type-col">
<a href="http://www.php.net/language.types.string" target="_blank">string</a>|<a href="http://www.php.net/language.types.array" target="_blank">array</a>
</td> <td class="param-desc-col">
<p>The name of the column that the foreign key references to. If there are multiple columns, separate them with commas or use an array.</p> </td> </tr> <tr> <td class="param-name-col">$delete</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL</p> </td> </tr> <tr> <td class="param-name-col">$update</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL</p> </td> </tr> </table>  <h3 class="detail-header h3" id="addPrimaryKey()-detail"> addPrimaryKey() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for creating a primary key.</strong></p> <p>The method will properly quote the table and column names.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#addPrimaryKey()-detail">addPrimaryKey</a></strong> ( $name, $table, $columns )</th></tr> <tr> <td class="param-name-col">$name</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the primary key constraint.</p> </td> </tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that the primary key constraint will be added to.</p> </td> </tr> <tr> <td class="param-name-col">$columns</td> <td class="param-type-col">
<a href="http://www.php.net/language.types.string" target="_blank">string</a>|<a href="http://www.php.net/language.types.array" target="_blank">array</a>
</td> <td class="param-desc-col">
<p>Comma separated string or array of columns that the primary key will consist of.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="alterColumn()-detail"> alterColumn() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for changing the definition of a column.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#alterColumn()-detail">alterColumn</a></strong> ( $table, $column, $type )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose column is to be changed. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$column</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the column to be changed. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$type</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The new column type. The <a href="../yii-db-querybuilder/#getColumnType()-detail">yii\db\QueryBuilder::getColumnType()</a> method will be invoked to convert abstract column type (if any) into the physical one. Anything that is not recognized as abstract type will be kept in the generated SQL. For example, 'string' will be turned into 'varchar(255)', while 'string not null' will become 'varchar(255) not null'.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="batchInsert()-detail"> batchInsert() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Creates and executes an batch INSERT SQL statement.</strong></p> <p>The method will properly escape the column names, and bind the values to be inserted.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#batchInsert()-detail">batchInsert</a></strong> ( $table, $columns, $rows )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that new rows will be inserted into.</p> </td> </tr> <tr> <td class="param-name-col">$columns</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>The column names.</p> </td> </tr> <tr> <td class="param-name-col">$rows</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>The rows to be batch inserted into the table</p> </td> </tr> </table>  <h3 class="detail-header h3" id="createIndex()-detail"> createIndex() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for creating a new index.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#createIndex()-detail">createIndex</a></strong> ( $name, $table, $columns, $unique = false )</th></tr> <tr> <td class="param-name-col">$name</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the index. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that the new index will be created for. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$columns</td> <td class="param-type-col">
<a href="http://www.php.net/language.types.string" target="_blank">string</a>|<a href="http://www.php.net/language.types.array" target="_blank">array</a>
</td> <td class="param-desc-col">
<p>The column(s) that should be included in the index. If there are multiple columns, please separate them by commas or use an array. Each column name will be properly quoted by the method. Quoting will be skipped for column names that include a left parenthesis "(".</p> </td> </tr> <tr> <td class="param-name-col">$unique</td> <td class="param-type-col"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></td> <td class="param-desc-col">
<p>Whether to add UNIQUE constraint on the created index.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="createTable()-detail"> createTable() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for creating a new DB table.</strong></p> <p>The columns in the new table should be specified as name-definition pairs (e.g. 'name' =&gt; 'string'), where name stands for a column name which will be properly quoted by the method, and definition stands for the column type which can contain an abstract DB type.</p> <p>The <a href="../yii-db-querybuilder/#getColumnType()-detail">yii\db\QueryBuilder::getColumnType()</a> method will be invoked to convert any abstract type into a physical one.</p> <p>If a column is specified with definition only (e.g. 'PRIMARY KEY (name, type)'), it will be directly put into the generated SQL.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#createTable()-detail">createTable</a></strong> ( $table, $columns, $options = null )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the table to be created. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$columns</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>The columns (name =&gt; definition) in the new table.</p> </td> </tr> <tr> <td class="param-name-col">$options</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>Additional SQL fragment that will be appended to the generated SQL.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="delete()-detail"> delete() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Creates and executes a DELETE SQL statement.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#delete()-detail">delete</a></strong> ( $table, $condition = '', $params = [] )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table where the data will be deleted from.</p> </td> </tr> <tr> <td class="param-name-col">$condition</td> <td class="param-type-col">
<a href="http://www.php.net/language.types.array" target="_blank">array</a>|<a href="http://www.php.net/language.types.string" target="_blank">string</a>
</td> <td class="param-desc-col">
<p>The conditions that will be put in the WHERE part. Please refer to <a href="../yii-db-query/#where()-detail">yii\db\Query::where()</a> on how to specify conditions.</p> </td> </tr> <tr> <td class="param-name-col">$params</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>The parameters to be bound to the query.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="down()-detail"> down() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>This method contains the logic to be executed when removing this migration.</strong></p> <p>The default implementation throws an exception indicating the migration cannot be removed. Child classes may override this method if the corresponding migrations can be removed.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></span> <strong><a href="../yii-db-migration/#down()-detail">down</a></strong> ( )</th></tr> <tr> <td class="param-name-col">return</td> <td class="param-type-col"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></td> <td class="param-desc-col">
<p>Return a false value to indicate the migration fails and should not proceed further. All other return values mean the migration succeeds.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="dropColumn()-detail"> dropColumn() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for dropping a DB column.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#dropColumn()-detail">dropColumn</a></strong> ( $table, $column )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose column is to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$column</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the column to be dropped. The name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="dropCommentFromColumn()-detail"> dropCommentFromColumn() <span class="detail-header-tag small"> public method (available since version 2.0.8) </span> </h3> <div class="doc-description"> <p><strong>Builds and execute a SQL statement for dropping comment from column</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#dropCommentFromColumn()-detail">dropCommentFromColumn</a></strong> ( $table, $column )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose column is to be commented. The table name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$column</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the column to be commented. The column name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="dropCommentFromTable()-detail"> dropCommentFromTable() <span class="detail-header-tag small"> public method (available since version 2.0.8) </span> </h3> <div class="doc-description"> <p><strong>Builds a SQL statement for dropping comment from table</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#dropCommentFromTable()-detail">dropCommentFromTable</a></strong> ( $table )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose column is to be commented. The table name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="dropForeignKey()-detail"> dropForeignKey() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds a SQL statement for dropping a foreign key constraint.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#dropForeignKey()-detail">dropForeignKey</a></strong> ( $name, $table )</th></tr> <tr> <td class="param-name-col">$name</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the foreign key constraint to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose foreign is to be dropped. The name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="dropIndex()-detail"> dropIndex() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for dropping an index.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#dropIndex()-detail">dropIndex</a></strong> ( $name, $table )</th></tr> <tr> <td class="param-name-col">$name</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the index to be dropped. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose index is to be dropped. The name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="dropPrimaryKey()-detail"> dropPrimaryKey() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for dropping a primary key.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#dropPrimaryKey()-detail">dropPrimaryKey</a></strong> ( $name, $table )</th></tr> <tr> <td class="param-name-col">$name</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The name of the primary key constraint to be removed.</p> </td> </tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that the primary key constraint will be removed from.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="dropTable()-detail"> dropTable() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for dropping a DB table.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#dropTable()-detail">dropTable</a></strong> ( $table )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table to be dropped. The name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="execute()-detail"> execute() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Executes a SQL statement.</strong></p> <p>This method executes the specified SQL statement using <a href="../yii-db-migration/#%24db-detail">$db</a>.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#execute()-detail">execute</a></strong> ( $sql, $params = [] )</th></tr> <tr> <td class="param-name-col">$sql</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The SQL statement to be executed</p> </td> </tr> <tr> <td class="param-name-col">$params</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>Input parameters (name =&gt; value) for the SQL execution. See <a href="../yii-db-command/#execute()-detail">yii\db\Command::execute()</a> for more details.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="getDb()-detail"> getDb() <span class="detail-header-tag small"> protected method (available since version 2.0.6) </span> </h3>  <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">protected</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#getDb()-detail">getDb</a></strong> ( )</th></tr> </table>  <h3 class="detail-header h3" id="init()-detail"> init() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Initializes the migration.</strong></p> <p>This method will set <a href="../yii-db-migration/#%24db-detail">$db</a> to be the 'db' application component, if it is <code>null</code>.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#init()-detail">init</a></strong> ( )</th></tr> </table>  <h3 class="detail-header h3" id="insert()-detail"> insert() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Creates and executes an INSERT SQL statement.</strong></p> <p>The method will properly escape the column names, and bind the values to be inserted.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#insert()-detail">insert</a></strong> ( $table, $columns )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table that new rows will be inserted into.</p> </td> </tr> <tr> <td class="param-name-col">$columns</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>The column data (name =&gt; value) to be inserted into the table.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="renameColumn()-detail"> renameColumn() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for renaming a column.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#renameColumn()-detail">renameColumn</a></strong> ( $table, $name, $newName )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table whose column is to be renamed. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$name</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The old name of the column. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$newName</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The new name of the column. The name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="renameTable()-detail"> renameTable() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for renaming a DB table.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#renameTable()-detail">renameTable</a></strong> ( $table, $newName )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table to be renamed. The name will be properly quoted by the method.</p> </td> </tr> <tr> <td class="param-name-col">$newName</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The new table name. The name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="safeDown()-detail"> safeDown() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>This method contains the logic to be executed when removing this migration.</strong></p> <p>This method differs from <a href="../yii-db-migration/#down()-detail">down()</a> in that the DB logic implemented here will be enclosed within a DB transaction. Child classes may implement this method instead of <a href="../yii-db-migration/#down()-detail">down()</a> if the DB logic needs to be within a transaction.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></span> <strong><a href="../yii-db-migration/#safeDown()-detail">safeDown</a></strong> ( )</th></tr> <tr> <td class="param-name-col">return</td> <td class="param-type-col"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></td> <td class="param-desc-col">
<p>Return a false value to indicate the migration fails and should not proceed further. All other return values mean the migration succeeds.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="safeUp()-detail"> safeUp() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>This method contains the logic to be executed when applying this migration.</strong></p> <p>This method differs from <a href="../yii-db-migration/#up()-detail">up()</a> in that the DB logic implemented here will be enclosed within a DB transaction. Child classes may implement this method instead of <a href="../yii-db-migration/#up()-detail">up()</a> if the DB logic needs to be within a transaction.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></span> <strong><a href="../yii-db-migration/#safeUp()-detail">safeUp</a></strong> ( )</th></tr> <tr> <td class="param-name-col">return</td> <td class="param-type-col"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></td> <td class="param-desc-col">
<p>Return a false value to indicate the migration fails and should not proceed further. All other return values mean the migration succeeds.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="truncateTable()-detail"> truncateTable() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Builds and executes a SQL statement for truncating a DB table.</strong></p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#truncateTable()-detail">truncateTable</a></strong> ( $table )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table to be truncated. The name will be properly quoted by the method.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="up()-detail"> up() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>This method contains the logic to be executed when applying this migration.</strong></p> <p>Child classes may override this method to provide actual migration logic.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></span> <strong><a href="../yii-db-migration/#up()-detail">up</a></strong> ( )</th></tr> <tr> <td class="param-name-col">return</td> <td class="param-type-col"><a href="http://www.php.net/language.types.boolean" target="_blank">boolean</a></td> <td class="param-desc-col">
<p>Return a false value to indicate the migration fails and should not proceed further. All other return values mean the migration succeeds.</p> </td> </tr> </table>  <h3 class="detail-header h3" id="update()-detail"> update() <span class="detail-header-tag small"> public method </span> </h3> <div class="doc-description"> <p><strong>Creates and executes an UPDATE SQL statement.</strong></p> <p>The method will properly escape the column names and bind the values to be updated.</p> </div> <table class="detail-table table table-striped table-bordered table-hover"> <tr><th colspan="3" class="signature">
<span class="signature-defs">public</span> <span class="signature-type">void</span> <strong><a href="../yii-db-migration/#update()-detail">update</a></strong> ( $table, $columns, $condition = '', $params = [] )</th></tr> <tr> <td class="param-name-col">$table</td> <td class="param-type-col"><a href="http://www.php.net/language.types.string" target="_blank">string</a></td> <td class="param-desc-col">
<p>The table to be updated.</p> </td> </tr> <tr> <td class="param-name-col">$columns</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>The column data (name =&gt; value) to be updated.</p> </td> </tr> <tr> <td class="param-name-col">$condition</td> <td class="param-type-col">
<a href="http://www.php.net/language.types.array" target="_blank">array</a>|<a href="http://www.php.net/language.types.string" target="_blank">string</a>
</td> <td class="param-desc-col">
<p>The conditions that will be put in the WHERE part. Please refer to <a href="../yii-db-query/#where()-detail">yii\db\Query::where()</a> on how to specify conditions.</p> </td> </tr> <tr> <td class="param-name-col">$params</td> <td class="param-type-col"><a href="http://www.php.net/language.types.array" target="_blank">array</a></td> <td class="param-desc-col">
<p>The parameters to be bound to the query.</p> </td> </tr> </table>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 by Yii Software LLC<br>Licensed under the three clause BSD license.<br>
    <a href="http://www.yiiframework.com/doc-2.0/yii-db-migration.html" class="_attribution-link" target="_blank">http://www.yiiframework.com/doc-2.0/yii-db-migration.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
