
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>knife.rb Optional Settings - Chef 11 - W3cubDocs</title>
  
  <meta name="description" content="In addition to the default settings in a knife.rb file, there are other subcommand-specific settings that can be added. When a subcommand is run, &hellip;">
  <meta name="keywords" content="knife, rb, optional, settings, -, chef, chef~11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/chef~11/11-18/config_rb_knife_optional_settings/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/chef~11.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/chef~11/" class="_nav-link" title="" style="margin-left:0;">Chef 11</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx_simple">
				
<h1 id="knife-rb-optional-settings">knife.rb Optional Settings</h1> <p>In addition to the default settings in a knife.rb file, there are other subcommand-specific settings that can be added. When a subcommand is run, knife will use:</p> <ol class="arabic simple"> <li>A value passed via the command-line</li> <li>A value contained in the knife.rb file</li> <li>The default value</li> </ol> <p>A value passed via the command line will override a value in the knife.rb file; a value in a knife.rb file will override a default value.</p> <div class="admonition warning"> <p class="first admonition-title">Warning</p> <p class="last">Many optional settings should not be added to the knife.rb file. The reasons for not adding them can vary. For example, using <code class="docutils literal">--yes</code> as a default in the knife.rb file will cause knife to always assume that “Y” is the response to any prompt, which may lead to undesirable outcomes. Other settings, such as <code class="docutils literal">--hide-healthy</code> (used only with the <code class="docutils literal">knife status</code> subcommand) or <code class="docutils literal">--bare-directories</code> (used only with the <code class="docutils literal">knife list</code> subcommand) probably aren’t used often enough (and in the same exact way) to justify adding them to the knife.rb file. In general, if the optional settings are not listed on <a class="reference external" href="https://docs.chef.io/config_rb_knife.html" target="_blank">the main knife.rb topic</a>, then add settings only after careful consideration. Do not use optional settings in a production environment until after the setting’s performance has been validated in a safe testing environment.</p> </div> <p>The following list describes all of the optional settings that can be added to the knife.rb file:</p> <table class="docutils"> <colgroup> <col width="40%"> <col width="60%"> </colgroup> <thead valign="bottom"> <tr class="row-odd">
<th class="head">Setting</th> <th class="head">Description</th> </tr> </thead> <tbody valign="top"> <tr class="row-even">
<td><code class="docutils literal">knife[:admin]</code></td> <td>Create a client as an admin client. This is required for any user to access Open Source Chef as an administrator.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:after]</code></td> <td>Add a run-list item after the specified run-list item.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:all]</code></td> <td>Indicates that all environments, cookbooks, cookbook versions, metadata, and/or data bags will be uploaded, deleted, generated, or tested. The context depends on which knife subcommand and argument is used.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:all_versions]</code></td> <td>Return all available versions for every cookbook.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:admin]</code></td> <td>Create a client as an admin client. This is required for any user to access Open Source Chef as an administrator. (This setting is available only for the open source Chef server.)</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:admin_client_name]</code></td> <td> </td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:bare_directories]</code></td> <td>Prevent a directory’s children from showing when a directory matches a pattern.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:bootstrap_proxy]</code></td> <td>The proxy server for the node that is the target of a bootstrap operation.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:bootstrap_version]</code></td> <td>The version of the chef-client to install.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:bootstrap_template]</code></td> <td> </td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:chef_repo_path]</code></td> <td>The path to the chef-repo.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:concurrency]</code></td> <td>The number of allowed concurrent connections.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:config_file]</code></td> <td>The configuration file to use.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:depends]</code></td> <td>Ensure that when a cookbook has a dependency on one (or more) cookbooks, those cookbooks are also uploaded.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:description]</code></td> <td>The description for an environment and/or a role.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:disable_editing]</code></td> <td>Prevent the $EDITOR from being opened and accept data as-is.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:distro]</code></td> <td>
<p class="first">The template file to be used during a bootstrap operation. The following distributions are supported:</p> <ul class="simple"> <li>
<code class="docutils literal">chef-full</code> (the default bootstrap)</li> <li><code class="docutils literal">centos5-gems</code></li> <li><code class="docutils literal">fedora13-gems</code></li> <li><code class="docutils literal">ubuntu10.04-gems</code></li> <li><code class="docutils literal">ubuntu10.04-apt</code></li> <li><code class="docutils literal">ubuntu12.04-gems</code></li> <li>The name of a custom bootstrap template file.</li> </ul> <p>When this option is used, knife searches for the template file in the following order:</p> <ol class="arabic simple"> <li>The <code class="docutils literal">bootstrap/</code> folder in the current working directory</li> <li>The <code class="docutils literal">bootstrap/</code> folder in the chef-repo</li> <li>The <code class="docutils literal">bootstrap/</code> folder in the <code class="docutils literal">~/.chef/</code> directory</li> <li>A default bootstrap file.</li> </ol> <p class="last">Do not use the <code class="docutils literal">--template-file</code> option when <code class="docutils literal">--distro</code> is specified.</p> </td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:download_directory]</code></td> <td>The directory in which cookbooks are located.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:editor]</code></td> <td>The $EDITOR that is used for all interactive commands.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:environment]</code></td> <td>The name of the environment.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:exec]</code></td> <td>A string of code that to be executed.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:file]</code></td> <td>Save a private key to the specified file name.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:force]</code></td> <td>Overwrite an existing directory.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:fqdn]</code></td> <td>FQDN</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:freeze]</code></td> <td>Require changes to a cookbook be included as a new version. Only the <code class="docutils literal">--force</code> option can override this setting.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:forward_agent]</code></td> <td>Enable SSH agent forwarding.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:hide_healthy]</code></td> <td>Hide nodes on which a chef-client run has occurred within the previous hour.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:host_key_verify]</code></td> <td>Use <code class="docutils literal">--no-host-key-verify</code> to disable host key verification.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:identity_file]</code></td> <td>The SSH identity file used for authentication. Key-based authentication is recommended.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:initial]</code></td> <td>Create a API client, typically an administrator client on a freshly-installed Chef server.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:input]</code></td> <td>The name of a file to be used with the <code class="docutils literal">PUT</code> or a <code class="docutils literal">POST</code> request.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:latest]</code></td> <td>Download the most recent version of a cookbook.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:manual]</code></td> <td>Define a search query as a space-separated list of servers.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:method]</code></td> <td>The request method: <code class="docutils literal">DELETE</code>, <code class="docutils literal">GET</code>, <code class="docutils literal">POST</code>, or <code class="docutils literal">PUT</code>.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:name_only]</code></td> <td>Show only the names of modified files.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:name_status]</code></td> <td>Show only the names of files with a status of <code class="docutils literal">Added</code>, <code class="docutils literal">Deleted</code>, <code class="docutils literal">Modified</code>, or <code class="docutils literal">Type Changed</code>.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:no_deps]</code></td> <td>Ensure that all cookbooks to which the installed cookbook has a dependency are not installed.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:platform]</code></td> <td>The platform for which a cookbook is designed.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:platform_version]</code></td> <td>The version of the platform.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:pretty]</code></td> <td>Use <code class="docutils literal">--no-pretty</code> to disable pretty-print output for JSON.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:print_after]</code></td> <td>Show data after a destructive operation.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:purge]</code></td> <td>Entirely remove a cookbook (or cookbook version) from the Chef server. Use this action carefully because only one copy of any single file is stored on the Chef server. Consequently, purging a cookbook disables any other cookbook that references one or more files from the cookbook that has been purged.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:readme_format]</code></td> <td>The document format of the readme file: <code class="docutils literal">md</code> (markdown) and <code class="docutils literal">rdoc</code> (Ruby docs).</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:recurse]</code></td> <td>Use to recursively delete, disable, or list a directory.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:repo_mode]</code></td> <td>The layout of the local chef-repo. Possible values: <code class="docutils literal">static</code>, <code class="docutils literal">everything</code>, or <code class="docutils literal">hosted_everything</code>. Use <code class="docutils literal">static</code> for just roles, environments, cookbooks, and data bags. By default, <code class="docutils literal">everything</code> and <code class="docutils literal">hosted_everything</code> are dynamically selected depending on the server type.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:repository]</code></td> <td>The path to the chef-repo.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:run_list]</code></td> <td>A comma-separated list of roles and/or recipes to be applied.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:script_path]</code></td> <td>A colon-separated path at which Ruby scripts are located.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:secret]</code></td> <td>The encryption key that is used for values contained within a data bag item.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:secret_file]</code></td> <td>The path to the file that contains the encryption key.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:server_name]</code></td> <td>Same as node_name. Recommended configuration is to allow Ohai to collect this value during each chef-client run.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:sort_reverse]</code></td> <td>Sort a list by last run time, descending.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:ssh_attribute]</code></td> <td>The attribute used when opening an SSH connection.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:ssh_gateway]</code></td> <td>The SSH tunnel or gateway that is used to run a bootstrap action on a machine that is not accessible from the workstation.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:ssh_password]</code></td> <td>The SSH password. This can be used to pass the password directly on the command line. If this option is not specified (and a password is required) knife prompts for the password.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:ssh_port]</code></td> <td>The SSH port.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:ssh_user]</code></td> <td>The SSH user name.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:template_file]</code></td> <td>The path to a template file to be used during a bootstrap operation.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:use current_branch]</code></td> <td>Ensure that the current branch is used.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:use_sudo]</code></td> <td>Execute a bootstrap operation with sudo.</td> </tr> <tr class="row-even">
<td>
<code class="docutils literal">knife[:user]</code> and/or <code class="docutils literal">knife[:user_home]</code>
</td> <td>The user name used by knife to sign requests made by the API client to the Chef server. Authentication fails if the user name does not match the private key.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:user_key]</code></td> <td>Save a public key to the specified file name.</td> </tr> <tr class="row-even">
<td><code class="docutils literal">knife[:user_password]</code></td> <td>The user password.</td> </tr> <tr class="row-odd">
<td><code class="docutils literal">knife[:yes]</code></td> <td>Respond to all confirmation prompts with “Yes”.</td> </tr> </tbody> </table>
<div class="_attribution">
  <p class="_attribution-p">
    © Chef Software, Inc.<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>The Chef™ Mark and Chef Logo are either registered trademarks/service marks or trademarks/servicemarks of Chef, in the United States and other countries and are used with Chef Inc's permission.<br>We are not affiliated with, endorsed or sponsored by Chef Inc.<br>
    <a href="https://docs.chef.io/release/11-18/config_rb_knife_optional_settings.html" class="_attribution-link" target="_blank">https://docs.chef.io/release/11-18/config_rb_knife_optional_settings.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
