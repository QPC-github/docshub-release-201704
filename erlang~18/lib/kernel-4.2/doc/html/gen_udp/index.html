
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Gen_udp - Erlang 18 - W3cubDocs</title>
  
  <meta name="description" content=" gen_udp ">
  <meta name="keywords" content="gen, udp, -, erlang, erlang~18">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/erlang~18/lib/kernel-4.2/doc/html/gen_udp/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/erlang~18.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~18/" class="_nav-link" title="" style="margin-left:0;">Erlang 18</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _erlang">
				
<h1>gen_udp</h1> <h2>Module</h2> <p class="REFBODY">gen_udp</p> <h2>Module summary</h2> <p class="REFBODY">Interface to UDP sockets</p> <h2>Description</h2> 
<p>The <code class="code">gen_udp</code> module provides functions for communicating with sockets using the UDP protocol.</p>  <h2>Data types</h2> <h3 class="code">option() = <br>    {active, true | false | once | -32768..32767} |<br>    {add_membership, {<a href="../inet/#type-ip_address">inet:ip_address()</a>, <a href="../inet/#type-ip_address">inet:ip_address()</a>}} |<br>    {broadcast, boolean()} |<br>    {buffer, integer() &gt;= 0} |<br>    {deliver, port | term} |<br>    {dontroute, boolean()} |<br>    {drop_membership, {<a href="../inet/#type-ip_address">inet:ip_address()</a>, <a href="../inet/#type-ip_address">inet:ip_address()</a>}} |<br>    {header, integer() &gt;= 0} |<br>    {high_msgq_watermark, integer() &gt;= 1} |<br>    {low_msgq_watermark, integer() &gt;= 1} |<br>    {mode, list | binary} |<br>    list |<br>    binary |<br>    {multicast_if, <a href="../inet/#type-ip_address">inet:ip_address()</a>} |<br>    {multicast_loop, boolean()} |<br>    {multicast_ttl, integer() &gt;= 0} |<br>    {priority, integer() &gt;= 0} |<br>    {raw,<br>     Protocol :: integer() &gt;= 0,<br>     OptionNum :: integer() &gt;= 0,<br>     ValueBin :: binary()} |<br>    {read_packets, integer() &gt;= 0} |<br>    {recbuf, integer() &gt;= 0} |<br>    {reuseaddr, boolean()} |<br>    {sndbuf, integer() &gt;= 0} |<br>    {tos, integer() &gt;= 0} |<br>    {ipv6_v6only, boolean()}</h3> <h3 class="code">option_name() = <br>    active |<br>    broadcast |<br>    buffer |<br>    deliver |<br>    dontroute |<br>    header |<br>    high_msgq_watermark |<br>    low_msgq_watermark |<br>    mode |<br>    multicast_if |<br>    multicast_loop |<br>    multicast_ttl |<br>    priority |<br>    {raw,<br>     Protocol :: integer() &gt;= 0,<br>     OptionNum :: integer() &gt;= 0,<br>     ValueSpec ::<br>         (ValueSize :: integer() &gt;= 0) | (ValueBin :: binary())} |<br>    read_packets |<br>    recbuf |<br>    reuseaddr |<br>    sndbuf |<br>    tos |<br>    ipv6_v6only</h3> <p><code class="bold_code">socket()</code></p> 
<p id="type-socket">As returned by open/1,2.</p>  <h2>Exports</h2> <h3 id="open-2" class="code">open(Port) -&gt; {ok, Socket} | {error, Reason}<br>open(Port, Opts) -&gt; {ok, Socket} | {error, Reason}</h3> <p>Types:</p>       <pre>Port = <a href="../inet/#type-port_number">inet:port_number()</a>
Opts = [Option]
Option = 
    {ip, <a href="../inet/#type-ip_address">inet:ip_address()</a>} |
    {fd, integer() &gt;= 0} |
    {ifaddr, <a href="../inet/#type-ip_address">inet:ip_address()</a>} |
    <a href="../inet/#type-address_family">inet:address_family()</a> |
    {port, <a href="../inet/#type-port_number">inet:port_number()</a>} |
    <a href="#type-option">option()</a>
Socket = <a href="#type-socket">socket()</a>
Reason = <a href="../inet/#type-posix">inet:posix()</a></pre>

<p>Associates a UDP port number (<code class="code">Port</code>) with the calling process.</p> <p>The available options are:</p> <dl> <dt><strong><code class="code">list</code></strong></dt> <dd> <p>Received <code class="code">Packet</code> is delivered as a list.</p> </dd> <dt><strong><code class="code">binary</code></strong></dt> <dd> <p>Received <code class="code">Packet</code> is delivered as a binary.</p> </dd> <dt><strong><code class="code">{ip, ip_address()}</code></strong></dt> <dd> <p>If the host has several network interfaces, this option specifies which one to use.</p> </dd> <dt><strong><code class="code">{ifaddr, ip_address()}</code></strong></dt> <dd> <p>Same as <code class="code">{ip, ip_address()}</code>. If the host has several network interfaces, this option specifies which one to use.</p> </dd> <dt><strong><code class="code">{fd, integer() &gt;= 0}</code></strong></dt> <dd> <p>If a socket has somehow been opened without using <code class="code">gen_udp</code>, use this option to pass the file descriptor for it. If <code class="code">Port</code> is not set to 0 and/or <code class="code">{ip, ip_address()}</code> is combined with this option the fd will be bound to the given interface and port after being opened. If these options are not given it is assumed that the fd is already bound appropriately. </p> </dd> <dt><strong><code class="code">inet6</code></strong></dt> <dd> <p>Set up the socket for IPv6.</p> </dd> <dt><strong><code class="code">inet</code></strong></dt> <dd> <p>Set up the socket for IPv4.</p> </dd> <dt><strong><code class="code">{udp_module, module()}</code></strong></dt> <dd> <p> Override which callback module is used. Defaults to <code class="code">inet_udp</code> for IPv4 and <code class="code">inet6_udp</code> for IPv6. </p> </dd> <dt><strong><code class="code">{multicast_if, Address}</code></strong></dt> <dd> <p>Set the local device for a multicast socket.</p> </dd> <dt><strong><code class="code">{multicast_loop, true | false}</code></strong></dt> <dd> <p> When <code class="code">true</code> sent multicast packets will be looped back to the local sockets. </p> </dd> <dt><strong><code class="code">{multicast_ttl, Integer}</code></strong></dt> <dd> <p> The <code class="code">multicast_ttl</code> option changes the time-to-live (TTL) for outgoing multicast datagrams in order to control the scope of the multicasts. </p> <p> Datagrams with a TTL of 1 are not forwarded beyond the local network. <br>Default: 1 </p> </dd> <dt><strong><code class="code">{add_membership, {MultiAddress, InterfaceAddress}}</code></strong></dt> <dd> <p>Join a multicast group. </p> </dd> <dt><strong><code class="code">{drop_membership, {MultiAddress, InterfaceAddress}}</code></strong></dt> <dd> <p>Leave multicast group.</p> </dd> <dt><strong><code class="code">Opt</code></strong></dt> <dd> <p>See <code class="bold_code"><a href="../inet/#setopts-2">inet:setopts/2</a></code>.</p> </dd> </dl> <p>The returned socket <code class="code">Socket</code> is used to send packets from this port with <code class="code">send/4</code>. When UDP packets arrive at the opened port, if the socket is in an active mode the packets are delivered as messages to the controlling process:</p> <div class="example"><pre>
{udp, Socket, IP, InPortNo, Packet}</pre></div> <p>If the socket is not in an active mode, data can be retrieved via the <code class="bold_code"><a href="#recv-2">recv/2,3</a></code> calls. Note that arriving UDP packets that are longer than the receive buffer option specifies, might be truncated without warning.</p> <p>When a socket in <code class="code">{active, N}</code> mode (see <code class="bold_code"><a href="../inet/#setopts-2"> inet:setopts/2</a></code> for details) transitions to passive (<code class="code">{active, false}</code>) mode, the controlling process is notified by a message of the following form:</p> <div class="example"><pre>
{udp_passive, Socket}</pre></div> <p><code class="code">IP</code> and <code class="code">InPortNo</code> define the address from which <code class="code">Packet</code> came. <code class="code">Packet</code> is a list of bytes if the option <code class="code">list</code> was specified. <code class="code">Packet</code> is a binary if the option <code class="code">binary</code> was specified.</p> <p>Default value for the receive buffer option is <code class="code">{recbuf, 8192}</code>.</p> <p>If <code class="code">Port == 0</code>, the underlying OS assigns a free UDP port, use <code class="code">inet:port/1</code> to retrieve it.</p>  <h3 id="send-4" class="code">send(Socket, Address, Port, Packet) -&gt; ok | {error, Reason}</h3> <p>Types:</p>       <pre>Socket = <a href="#type-socket">socket()</a>
Address = <a href="../inet/#type-ip_address">inet:ip_address()</a> | <a href="../inet/#type-hostname">inet:hostname()</a>
Port = <a href="../inet/#type-port_number">inet:port_number()</a>
Packet = iodata()
Reason = not_owner | <a href="../inet/#type-posix">inet:posix()</a></pre>

<p>Sends a packet to the specified address and port. The <code class="code">Address</code> argument can be either a hostname, or an IP address.</p>  <h3 id="recv-3" class="code">recv(Socket, Length) -&gt;<br>        {ok, {Address, Port, Packet}} | {error, Reason}<br>recv(Socket, Length, Timeout) -&gt;<br>        {ok, {Address, Port, Packet}} | {error, Reason}</h3> <p>Types:</p>         <pre>Socket = <a href="#type-socket">socket()</a>
Length = integer() &gt;= 0
Timeout = timeout()
Address = <a href="../inet/#type-ip_address">inet:ip_address()</a>
Port = <a href="../inet/#type-port_number">inet:port_number()</a>
Packet = string() | binary()
Reason = not_owner | <a href="../inet/#type-posix">inet:posix()</a></pre>

<p>This function receives a packet from a socket in passive mode.</p> <p>The optional <code class="code">Timeout</code> parameter specifies a timeout in milliseconds. The default value is <code class="code">infinity</code>.</p>  <h3 id="controlling_process-2" class="code">controlling_process(Socket, Pid) -&gt; ok | {error, Reason}</h3> <p>Types:</p>     <pre>Socket = <a href="#type-socket">socket()</a>
Pid = pid()
Reason = closed | not_owner | <a href="../inet/#type-posix">inet:posix()</a></pre>

<p>Assigns a new controlling process <code class="code">Pid</code> to <code class="code">Socket</code>. The controlling process is the process which receives messages from the socket. If called by any other process than the current controlling process, <code class="code">{error, not_owner}</code> is returned.</p>  <h3 id="close-1" class="code">close(Socket) -&gt; ok</h3> <p>Types:</p>   <pre>Socket = <a href="#type-socket">socket()</a></pre>

<p>Closes a UDP socket.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 1999–2016 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
