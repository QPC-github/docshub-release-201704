
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>6.58. Other Built-in Functions Provided by GCC - GCC 6 - W3cubDocs</title>
  
  <meta name="description" content="GCC provides a large number of built-in functions other than the ones mentioned above. Some of these are for internal use in the processing of &hellip;">
  <meta name="keywords" content="other, built-in, functions, provided, gcc, -, gcc~6">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/gcc~6/other-builtins/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/gcc~6.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gcc~6/" class="_nav-link" title="" style="margin-left:0;">GCC 6</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _gnu">
				
<h1 class="section" id="Other-Builtins">6.58 Other Built-in Functions Provided by GCC</h1> <p> GCC provides a large number of built-in functions other than the ones mentioned above. Some of these are for internal use in the processing of exceptions or variable-length argument lists and are not documented here because they may change from time to time; we do not recommend general use of these functions. </p>
<p>The remaining functions are provided for optimization purposes. </p>
<p>With the exception of built-ins that have library equivalents such as the standard C library functions discussed below, or that expand to library calls, GCC built-in functions are always expanded inline and thus do not have corresponding entry points and their address cannot be obtained. Attempting to use them in an expression other than a function call results in a compile-time error. </p>
<p>GCC includes built-in versions of many of the functions in the standard C library. These functions come in two forms: one whose names start with the <code>__builtin_</code> prefix, and the other without. Both forms have the same type (including prototype), the same address (when their address is taken), and the same meaning as the C library functions even if you specify the <code>-fno-builtin</code> option see <a href="../c-dialect-options/#C-Dialect-Options">C Dialect Options</a>). Many of these functions are only optimized in certain cases; if they are not optimized in a particular case, a call to the library function is emitted. </p>
<p>Outside strict ISO C mode (<code>-ansi</code>, <code>-std=c90</code>, <code>-std=c99</code> or <code>-std=c11</code>), the functions <code>_exit</code>, <code>alloca</code>, <code>bcmp</code>, <code>bzero</code>, <code>dcgettext</code>, <code>dgettext</code>, <code>dremf</code>, <code>dreml</code>, <code>drem</code>, <code>exp10f</code>, <code>exp10l</code>, <code>exp10</code>, <code>ffsll</code>, <code>ffsl</code>, <code>ffs</code>, <code>fprintf_unlocked</code>, <code>fputs_unlocked</code>, <code>gammaf</code>, <code>gammal</code>, <code>gamma</code>, <code>gammaf_r</code>, <code>gammal_r</code>, <code>gamma_r</code>, <code>gettext</code>, <code>index</code>, <code>isascii</code>, <code>j0f</code>, <code>j0l</code>, <code>j0</code>, <code>j1f</code>, <code>j1l</code>, <code>j1</code>, <code>jnf</code>, <code>jnl</code>, <code>jn</code>, <code>lgammaf_r</code>, <code>lgammal_r</code>, <code>lgamma_r</code>, <code>mempcpy</code>, <code>pow10f</code>, <code>pow10l</code>, <code>pow10</code>, <code>printf_unlocked</code>, <code>rindex</code>, <code>scalbf</code>, <code>scalbl</code>, <code>scalb</code>, <code>signbit</code>, <code>signbitf</code>, <code>signbitl</code>, <code>signbitd32</code>, <code>signbitd64</code>, <code>signbitd128</code>, <code>significandf</code>, <code>significandl</code>, <code>significand</code>, <code>sincosf</code>, <code>sincosl</code>, <code>sincos</code>, <code>stpcpy</code>, <code>stpncpy</code>, <code>strcasecmp</code>, <code>strdup</code>, <code>strfmon</code>, <code>strncasecmp</code>, <code>strndup</code>, <code>toascii</code>, <code>y0f</code>, <code>y0l</code>, <code>y0</code>, <code>y1f</code>, <code>y1l</code>, <code>y1</code>, <code>ynf</code>, <code>ynl</code> and <code>yn</code> may be handled as built-in functions. All these functions have corresponding versions prefixed with <code>__builtin_</code>, which may be used even in strict C90 mode. </p>
<p>The ISO C99 functions <code>_Exit</code>, <code>acoshf</code>, <code>acoshl</code>, <code>acosh</code>, <code>asinhf</code>, <code>asinhl</code>, <code>asinh</code>, <code>atanhf</code>, <code>atanhl</code>, <code>atanh</code>, <code>cabsf</code>, <code>cabsl</code>, <code>cabs</code>, <code>cacosf</code>, <code>cacoshf</code>, <code>cacoshl</code>, <code>cacosh</code>, <code>cacosl</code>, <code>cacos</code>, <code>cargf</code>, <code>cargl</code>, <code>carg</code>, <code>casinf</code>, <code>casinhf</code>, <code>casinhl</code>, <code>casinh</code>, <code>casinl</code>, <code>casin</code>, <code>catanf</code>, <code>catanhf</code>, <code>catanhl</code>, <code>catanh</code>, <code>catanl</code>, <code>catan</code>, <code>cbrtf</code>, <code>cbrtl</code>, <code>cbrt</code>, <code>ccosf</code>, <code>ccoshf</code>, <code>ccoshl</code>, <code>ccosh</code>, <code>ccosl</code>, <code>ccos</code>, <code>cexpf</code>, <code>cexpl</code>, <code>cexp</code>, <code>cimagf</code>, <code>cimagl</code>, <code>cimag</code>, <code>clogf</code>, <code>clogl</code>, <code>clog</code>, <code>conjf</code>, <code>conjl</code>, <code>conj</code>, <code>copysignf</code>, <code>copysignl</code>, <code>copysign</code>, <code>cpowf</code>, <code>cpowl</code>, <code>cpow</code>, <code>cprojf</code>, <code>cprojl</code>, <code>cproj</code>, <code>crealf</code>, <code>creall</code>, <code>creal</code>, <code>csinf</code>, <code>csinhf</code>, <code>csinhl</code>, <code>csinh</code>, <code>csinl</code>, <code>csin</code>, <code>csqrtf</code>, <code>csqrtl</code>, <code>csqrt</code>, <code>ctanf</code>, <code>ctanhf</code>, <code>ctanhl</code>, <code>ctanh</code>, <code>ctanl</code>, <code>ctan</code>, <code>erfcf</code>, <code>erfcl</code>, <code>erfc</code>, <code>erff</code>, <code>erfl</code>, <code>erf</code>, <code>exp2f</code>, <code>exp2l</code>, <code>exp2</code>, <code>expm1f</code>, <code>expm1l</code>, <code>expm1</code>, <code>fdimf</code>, <code>fdiml</code>, <code>fdim</code>, <code>fmaf</code>, <code>fmal</code>, <code>fmaxf</code>, <code>fmaxl</code>, <code>fmax</code>, <code>fma</code>, <code>fminf</code>, <code>fminl</code>, <code>fmin</code>, <code>hypotf</code>, <code>hypotl</code>, <code>hypot</code>, <code>ilogbf</code>, <code>ilogbl</code>, <code>ilogb</code>, <code>imaxabs</code>, <code>isblank</code>, <code>iswblank</code>, <code>lgammaf</code>, <code>lgammal</code>, <code>lgamma</code>, <code>llabs</code>, <code>llrintf</code>, <code>llrintl</code>, <code>llrint</code>, <code>llroundf</code>, <code>llroundl</code>, <code>llround</code>, <code>log1pf</code>, <code>log1pl</code>, <code>log1p</code>, <code>log2f</code>, <code>log2l</code>, <code>log2</code>, <code>logbf</code>, <code>logbl</code>, <code>logb</code>, <code>lrintf</code>, <code>lrintl</code>, <code>lrint</code>, <code>lroundf</code>, <code>lroundl</code>, <code>lround</code>, <code>nearbyintf</code>, <code>nearbyintl</code>, <code>nearbyint</code>, <code>nextafterf</code>, <code>nextafterl</code>, <code>nextafter</code>, <code>nexttowardf</code>, <code>nexttowardl</code>, <code>nexttoward</code>, <code>remainderf</code>, <code>remainderl</code>, <code>remainder</code>, <code>remquof</code>, <code>remquol</code>, <code>remquo</code>, <code>rintf</code>, <code>rintl</code>, <code>rint</code>, <code>roundf</code>, <code>roundl</code>, <code>round</code>, <code>scalblnf</code>, <code>scalblnl</code>, <code>scalbln</code>, <code>scalbnf</code>, <code>scalbnl</code>, <code>scalbn</code>, <code>snprintf</code>, <code>tgammaf</code>, <code>tgammal</code>, <code>tgamma</code>, <code>truncf</code>, <code>truncl</code>, <code>trunc</code>, <code>vfscanf</code>, <code>vscanf</code>, <code>vsnprintf</code> and <code>vsscanf</code> are handled as built-in functions except in strict ISO C90 mode (<code>-ansi</code> or <code>-std=c90</code>). </p>
<p>There are also built-in versions of the ISO C99 functions <code>acosf</code>, <code>acosl</code>, <code>asinf</code>, <code>asinl</code>, <code>atan2f</code>, <code>atan2l</code>, <code>atanf</code>, <code>atanl</code>, <code>ceilf</code>, <code>ceill</code>, <code>cosf</code>, <code>coshf</code>, <code>coshl</code>, <code>cosl</code>, <code>expf</code>, <code>expl</code>, <code>fabsf</code>, <code>fabsl</code>, <code>floorf</code>, <code>floorl</code>, <code>fmodf</code>, <code>fmodl</code>, <code>frexpf</code>, <code>frexpl</code>, <code>ldexpf</code>, <code>ldexpl</code>, <code>log10f</code>, <code>log10l</code>, <code>logf</code>, <code>logl</code>, <code>modfl</code>, <code>modf</code>, <code>powf</code>, <code>powl</code>, <code>sinf</code>, <code>sinhf</code>, <code>sinhl</code>, <code>sinl</code>, <code>sqrtf</code>, <code>sqrtl</code>, <code>tanf</code>, <code>tanhf</code>, <code>tanhl</code> and <code>tanl</code> that are recognized in any mode since ISO C90 reserves these names for the purpose to which ISO C99 puts them. All these functions have corresponding versions prefixed with <code>__builtin_</code>. </p>
<p>There are also GNU extension functions <code>clog10</code>, <code>clog10f</code> and <code>clog10l</code> which names are reserved by ISO C99 for future use. All these functions have versions prefixed with <code>__builtin_</code>. </p>
<p>The ISO C94 functions <code>iswalnum</code>, <code>iswalpha</code>, <code>iswcntrl</code>, <code>iswdigit</code>, <code>iswgraph</code>, <code>iswlower</code>, <code>iswprint</code>, <code>iswpunct</code>, <code>iswspace</code>, <code>iswupper</code>, <code>iswxdigit</code>, <code>towlower</code> and <code>towupper</code> are handled as built-in functions except in strict ISO C90 mode (<code>-ansi</code> or <code>-std=c90</code>). </p>
<p>The ISO C90 functions <code>abort</code>, <code>abs</code>, <code>acos</code>, <code>asin</code>, <code>atan2</code>, <code>atan</code>, <code>calloc</code>, <code>ceil</code>, <code>cosh</code>, <code>cos</code>, <code>exit</code>, <code>exp</code>, <code>fabs</code>, <code>floor</code>, <code>fmod</code>, <code>fprintf</code>, <code>fputs</code>, <code>frexp</code>, <code>fscanf</code>, <code>isalnum</code>, <code>isalpha</code>, <code>iscntrl</code>, <code>isdigit</code>, <code>isgraph</code>, <code>islower</code>, <code>isprint</code>, <code>ispunct</code>, <code>isspace</code>, <code>isupper</code>, <code>isxdigit</code>, <code>tolower</code>, <code>toupper</code>, <code>labs</code>, <code>ldexp</code>, <code>log10</code>, <code>log</code>, <code>malloc</code>, <code>memchr</code>, <code>memcmp</code>, <code>memcpy</code>, <code>memset</code>, <code>modf</code>, <code>pow</code>, <code>printf</code>, <code>putchar</code>, <code>puts</code>, <code>scanf</code>, <code>sinh</code>, <code>sin</code>, <code>snprintf</code>, <code>sprintf</code>, <code>sqrt</code>, <code>sscanf</code>, <code>strcat</code>, <code>strchr</code>, <code>strcmp</code>, <code>strcpy</code>, <code>strcspn</code>, <code>strlen</code>, <code>strncat</code>, <code>strncmp</code>, <code>strncpy</code>, <code>strpbrk</code>, <code>strrchr</code>, <code>strspn</code>, <code>strstr</code>, <code>tanh</code>, <code>tan</code>, <code>vfprintf</code>, <code>vprintf</code> and <code>vsprintf</code> are all recognized as built-in functions unless <code>-fno-builtin</code> is specified (or <samp><span class="option">-fno-builtin-</span><var>function</var></samp> is specified for an individual function). All of these functions have corresponding versions prefixed with <code>__builtin_</code>. </p>
<p>GCC provides built-in versions of the ISO C99 floating-point comparison macros that avoid raising exceptions for unordered operands. They have the same names as the standard macros ( <code>isgreater</code>, <code>isgreaterequal</code>, <code>isless</code>, <code>islessequal</code>, <code>islessgreater</code>, and <code>isunordered</code>) , with <code>__builtin_</code> prefixed. We intend for a library implementor to be able to simply <code>#define</code> each standard macro to its built-in equivalent. In the same fashion, GCC provides <code>fpclassify</code>, <code>isfinite</code>, <code>isinf_sign</code>, <code>isnormal</code> and <code>signbit</code> built-ins used with <code>__builtin_</code> prefixed. The <code>isinf</code> and <code>isnan</code> built-in functions appear both with and without the <code>__builtin_</code> prefix. </p>
<div class="defun"> — Built-in Function: void <b>*__builtin_alloca</b> (<var>size_t size</var>) <blockquote>
<p>The <code>__builtin_alloca</code> function must be called at block scope. The function allocates an object <var>size</var> bytes large on the stack of the calling function. The object is aligned on the default stack alignment boundary for the target determined by the <code>__BIGGEST_ALIGNMENT__</code> macro. The <code>__builtin_alloca</code> function returns a pointer to the first byte of the allocated object. The lifetime of the allocated object ends just before the calling function returns to its caller. This is so even when <code>__builtin_alloca</code> is called within a nested block. </p>
<p>For example, the following function allocates eight objects of <code>n</code> bytes each on the stack, storing a pointer to each in consecutive elements of the array <code>a</code>. It then passes the array to function <code>g</code> which can safely use the storage pointed to by each of the array elements. </p>
<pre class="smallexample">void f (unsigned n)
{
  void *a [8];
  for (int i = 0; i != 8; ++i)
    a [i] = __builtin_alloca (n);

  g (a, n);   // <span class="roman">safe</span>
}</pre> <p>Since the <code>__builtin_alloca</code> function doesn't validate its argument it is the responsibility of its caller to make sure the argument doesn't cause it to exceed the stack size limit. The <code>__builtin_alloca</code> function is provided to make it possible to allocate on the stack arrays of bytes with an upper bound that may be computed at run time. Since C99 Variable Length Arrays offer similar functionality under a portable, more convenient, and safer interface they are recommended instead, in both C99 and C++ programs where GCC provides them as an extension. See <a href="../variable-length/#Variable-Length">Variable Length</a>, for details. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: void <b>*__builtin_alloca_with_align</b> (<var>size_t size, size_t alignment</var>) <blockquote>
<p>The <code>__builtin_alloca_with_align</code> function must be called at block scope. The function allocates an object <var>size</var> bytes large on the stack of the calling function. The allocated object is aligned on the boundary specified by the argument <var>alignment</var> whose unit is given in bits (not bytes). The <var>size</var> argument must be positive and not exceed the stack size limit. The <var>alignment</var> argument must be a constant integer expression that evaluates to a power of 2 greater than or equal to <code>CHAR_BIT</code> and less than some unspecified maximum. Invocations with other values are rejected with an error indicating the valid bounds. The function returns a pointer to the first byte of the allocated object. The lifetime of the allocated object ends at the end of the block in which the function was called. The allocated storage is released no later than just before the calling function returns to its caller, but may be released at the end of the block in which the function was called. </p>
<p>For example, in the following function the call to <code>g</code> is unsafe because when <code>overalign</code> is non-zero, the space allocated by <code>__builtin_alloca_with_align</code> may have been released at the end of the <code>if</code> statement in which it was called. </p>
<pre class="smallexample">void f (unsigned n, bool overalign)
{
  void *p;
  if (overalign)
    p = __builtin_alloca_with_align (n, 64 /* bits */);
  else
    p = __builtin_alloc (n);

  g (p, n);   // <span class="roman">unsafe</span>
}</pre> <p>Since the <code>__builtin_alloca_with_align</code> function doesn't validate its <var>size</var> argument it is the responsibility of its caller to make sure the argument doesn't cause it to exceed the stack size limit. The <code>__builtin_alloca_with_align</code> function is provided to make it possible to allocate on the stack overaligned arrays of bytes with an upper bound that may be computed at run time. Since C99 Variable Length Arrays offer the same functionality under a portable, more convenient, and safer interface they are recommended instead, in both C99 and C++ programs where GCC provides them as an extension. See <a href="../variable-length/#Variable-Length">Variable Length</a>, for details. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_types_compatible_p</b> (<var>type1, type2</var>) <blockquote> <p>You can use the built-in function <code>__builtin_types_compatible_p</code> to determine whether two types are the same. </p>
<p>This built-in function returns 1 if the unqualified versions of the types <var>type1</var> and <var>type2</var> (which are types, not expressions) are compatible, 0 otherwise. The result of this built-in function can be used in integer constant expressions. </p>
<p>This built-in function ignores top level qualifiers (e.g., <code>const</code>, <code>volatile</code>). For example, <code>int</code> is equivalent to <code>const
int</code>. </p>
<p>The type <code>int[]</code> and <code>int[5]</code> are compatible. On the other hand, <code>int</code> and <code>char *</code> are not compatible, even if the size of their types, on the particular architecture are the same. Also, the amount of pointer indirection is taken into account when determining similarity. Consequently, <code>short *</code> is not similar to <code>short **</code>. Furthermore, two types that are typedefed are considered compatible if their underlying types are compatible. </p>
<p>An <code>enum</code> type is not considered to be compatible with another <code>enum</code> type even if both are compatible with the same integer type; this is what the C standard specifies. For example, <code>enum {foo, bar}</code> is not similar to <code>enum {hot, dog}</code>. </p>
<p>You typically use this function in code whose execution varies depending on the arguments' types. For example: </p>
<pre class="smallexample">#define foo(x)                                                  \
  ({                                                           \
    typeof (x) tmp = (x);                                       \
    if (__builtin_types_compatible_p (typeof (x), long double)) \
      tmp = foo_long_double (tmp);                              \
    else if (__builtin_types_compatible_p (typeof (x), double)) \
      tmp = foo_double (tmp);                                   \
    else if (__builtin_types_compatible_p (typeof (x), float))  \
      tmp = foo_float (tmp);                                    \
    else                                                        \
      abort ();                                                 \
    tmp;                                                        \
  })</pre> <p><em>Note:</em> This construct is only available for C. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: <var>type</var> <b>__builtin_call_with_static_chain</b> (<var>call_exp, pointer_exp</var>) <blockquote> <p>The <var>call_exp</var> expression must be a function call, and the <var>pointer_exp</var> expression must be a pointer. The <var>pointer_exp</var> is passed to the function call in the target's static chain location. The result of builtin is the result of the function call. </p>
<p><em>Note:</em> This builtin is only available for C. This builtin can be used to call Go closures from C. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: <var>type</var> <b>__builtin_choose_expr</b> (<var>const_exp, exp1, exp2</var>) <blockquote> <p>You can use the built-in function <code>__builtin_choose_expr</code> to evaluate code depending on the value of a constant expression. This built-in function returns <var>exp1</var> if <var>const_exp</var>, which is an integer constant expression, is nonzero. Otherwise it returns <var>exp2</var>. </p>
<p>This built-in function is analogous to the ‘<code>? :</code>’ operator in C, except that the expression returned has its type unaltered by promotion rules. Also, the built-in function does not evaluate the expression that is not chosen. For example, if <var>const_exp</var> evaluates to true, <var>exp2</var> is not evaluated even if it has side-effects. </p>
<p>This built-in function can return an lvalue if the chosen argument is an lvalue. </p>
<p>If <var>exp1</var> is returned, the return type is the same as <var>exp1</var>'s type. Similarly, if <var>exp2</var> is returned, its return type is the same as <var>exp2</var>. </p>
<p>Example: </p>
<pre class="smallexample">#define foo(x)                                                    \
  __builtin_choose_expr (                                         \
    __builtin_types_compatible_p (typeof (x), double),            \
    foo_double (x),                                               \
    __builtin_choose_expr (                                       \
      __builtin_types_compatible_p (typeof (x), float),           \
      foo_float (x),                                              \
      /* <span class="roman">The void expression results in a compile-time error</span>  \
         <span class="roman">when assigning the result to something.</span>  */          \
      (void)0))</pre> <p><em>Note:</em> This construct is only available for C. Furthermore, the unused expression (<var>exp1</var> or <var>exp2</var> depending on the value of <var>const_exp</var>) may still generate syntax errors. This may change in future revisions. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: <var>type</var> <b>__builtin_complex</b> (<var>real, imag</var>) <blockquote> <p>The built-in function <code>__builtin_complex</code> is provided for use in implementing the ISO C11 macros <code>CMPLXF</code>, <code>CMPLX</code> and <code>CMPLXL</code>. <var>real</var> and <var>imag</var> must have the same type, a real binary floating-point type, and the result has the corresponding complex type with real and imaginary parts <var>real</var> and <var>imag</var>. Unlike ‘<samp><var>real</var><span class="samp"> + I * </span><var>imag</var></samp>’, this works even when infinities, NaNs and negative zeros are involved. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_constant_p</b> (<var>exp</var>) <blockquote>
<p>You can use the built-in function <code>__builtin_constant_p</code> to determine if a value is known to be constant at compile time and hence that GCC can perform constant-folding on expressions involving that value. The argument of the function is the value to test. The function returns the integer 1 if the argument is known to be a compile-time constant and 0 if it is not known to be a compile-time constant. A return of 0 does not indicate that the value is <em>not</em> a constant, but merely that GCC cannot prove it is a constant with the specified value of the <code>-O</code> option. </p>
<p>You typically use this function in an embedded application where memory is a critical resource. If you have some complex calculation, you may want it to be folded if it involves constants, but need to call a function if it does not. For example: </p>
<pre class="smallexample">#define Scale_Value(X)      \
  (__builtin_constant_p (X) \
  ? ((X) * SCALE + OFFSET) : Scale (X))</pre> <p>You may use this built-in function in either a macro or an inline function. However, if you use it in an inlined function and pass an argument of the function as the argument to the built-in, GCC never returns 1 when you call the inline function with a string constant or compound literal (see <a href="../compound-literals/#Compound-Literals">Compound Literals</a>) and does not return 1 when you pass a constant numeric value to the inline function unless you specify the <code>-O</code> option. </p>
<p>You may also use <code>__builtin_constant_p</code> in initializers for static data. For instance, you can write </p>
<pre class="smallexample">static const int table[] = {
   __builtin_constant_p (EXPRESSION) ? (EXPRESSION) : -1,
   /* <span class="roman">...</span> */
};</pre> <p class="noindent">This is an acceptable initializer even if <var>EXPRESSION</var> is not a constant expression, including the case where <code>__builtin_constant_p</code> returns 1 because <var>EXPRESSION</var> can be folded to a constant but <var>EXPRESSION</var> contains operands that are not otherwise permitted in a static initializer (for example, <code>0 &amp;&amp; foo ()</code>). GCC must be more conservative about evaluating the built-in in this case, because it has no opportunity to perform optimization. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: long <b>__builtin_expect</b> (<var>long exp, long c</var>) <blockquote>
<p>You may use <code>__builtin_expect</code> to provide the compiler with branch prediction information. In general, you should prefer to use actual profile feedback for this (<code>-fprofile-arcs</code>), as programmers are notoriously bad at predicting how their programs actually perform. However, there are applications in which this data is hard to collect. </p>
<p>The return value is the value of <var>exp</var>, which should be an integral expression. The semantics of the built-in are that it is expected that <var>exp</var> == <var>c</var>. For example: </p>
<pre class="smallexample">if (__builtin_expect (x, 0))
  foo ();</pre> <p class="noindent">indicates that we do not expect to call <code>foo</code>, since we expect <code>x</code> to be zero. Since you are limited to integral expressions for <var>exp</var>, you should use constructions such as </p>
<pre class="smallexample">if (__builtin_expect (ptr != NULL, 1))
  foo (*ptr);</pre> <p class="noindent">when testing pointer or floating-point values. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: void <b>__builtin_trap</b> (<var>void</var>) <blockquote><p>This function causes the program to exit abnormally. GCC implements this function by using a target-dependent mechanism (such as intentionally executing an illegal instruction) or by calling <code>abort</code>. The mechanism used may vary from release to release so you should not rely on any particular implementation. </p></blockquote>
</div> <div class="defun"> — Built-in Function: void <b>__builtin_unreachable</b> (<var>void</var>) <blockquote>
<p>If control flow reaches the point of the <code>__builtin_unreachable</code>, the program is undefined. It is useful in situations where the compiler cannot deduce the unreachability of the code. </p>
<p>One such case is immediately following an <code>asm</code> statement that either never terminates, or one that transfers control elsewhere and never returns. In this example, without the <code>__builtin_unreachable</code>, GCC issues a warning that control reaches the end of a non-void function. It also generates code to return after the <code>asm</code>. </p>
<pre class="smallexample">int f (int c, int v)
{
  if (c)
    {
      return v;
    }
  else
    {
      asm("jmp error_handler");
      __builtin_unreachable ();
    }
}</pre> <p class="noindent">Because the <code>asm</code> statement unconditionally transfers control out of the function, control never reaches the end of the function body. The <code>__builtin_unreachable</code> is in fact unreachable and communicates this fact to the compiler. </p>
<p>Another use for <code>__builtin_unreachable</code> is following a call a function that never returns but that is not declared <code>__attribute__((noreturn))</code>, as in this example: </p>
<pre class="smallexample">void function_that_never_returns (void);

int g (int c)
{
  if (c)
    {
      return 1;
    }
  else
    {
      function_that_never_returns ();
      __builtin_unreachable ();
    }
}</pre> </blockquote>
</div> <div class="defun"> — Built-in Function: void * <b>__builtin_assume_aligned</b> (<var>const void *exp, size_t align, ...</var>) <blockquote>
<p>This function returns its first argument, and allows the compiler to assume that the returned pointer is at least <var>align</var> bytes aligned. This built-in can have either two or three arguments, if it has three, the third argument should have integer type, and if it is nonzero means misalignment offset. For example: </p>
<pre class="smallexample">void *x = __builtin_assume_aligned (arg, 16);</pre> <p class="noindent">means that the compiler can assume <code>x</code>, set to <code>arg</code>, is at least 16-byte aligned, while: </p>
<pre class="smallexample">void *x = __builtin_assume_aligned (arg, 32, 8);</pre> <p class="noindent">means that the compiler can assume for <code>x</code>, set to <code>arg</code>, that <code>(char *) x - 8</code> is 32-byte aligned. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_LINE</b> () <blockquote><p>This function is the equivalent to the preprocessor <code>__LINE__</code> macro and returns the line number of the invocation of the built-in. In a C++ default argument for a function <var>F</var>, it gets the line number of the call to <var>F</var>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: const char * <b>__builtin_FUNCTION</b> () <blockquote><p>This function is the equivalent to the preprocessor <code>__FUNCTION__</code> macro and returns the function name the invocation of the built-in is in. </p></blockquote>
</div> <div class="defun"> — Built-in Function: const char * <b>__builtin_FILE</b> () <blockquote><p>This function is the equivalent to the preprocessor <code>__FILE__</code> macro and returns the file name the invocation of the built-in is in. In a C++ default argument for a function <var>F</var>, it gets the file name of the call to <var>F</var>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: void <b>__builtin___clear_cache</b> (<var>char *begin, char *end</var>) <blockquote>
<p>This function is used to flush the processor's instruction cache for the region of memory between <var>begin</var> inclusive and <var>end</var> exclusive. Some targets require that the instruction cache be flushed, after modifying memory containing code, in order to obtain deterministic behavior. </p>
<p>If the target does not require instruction cache flushes, <code>__builtin___clear_cache</code> has no effect. Otherwise either instructions are emitted in-line to clear the instruction cache or a call to the <code>__clear_cache</code> function in libgcc is made. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: void <b>__builtin_prefetch</b> (<var>const void *addr, ...</var>) <blockquote>
<p>This function is used to minimize cache-miss latency by moving data into a cache before it is accessed. You can insert calls to <code>__builtin_prefetch</code> into code for which you know addresses of data in memory that is likely to be accessed soon. If the target supports them, data prefetch instructions are generated. If the prefetch is done early enough before the access then the data will be in the cache by the time it is accessed. </p>
<p>The value of <var>addr</var> is the address of the memory to prefetch. There are two optional arguments, <var>rw</var> and <var>locality</var>. The value of <var>rw</var> is a compile-time constant one or zero; one means that the prefetch is preparing for a write to the memory address and zero, the default, means that the prefetch is preparing for a read. The value <var>locality</var> must be a compile-time constant integer between zero and three. A value of zero means that the data has no temporal locality, so it need not be left in the cache after the access. A value of three means that the data has a high degree of temporal locality and should be left in all levels of cache possible. Values of one and two mean, respectively, a low or moderate degree of temporal locality. The default is three. </p>
<pre class="smallexample">for (i = 0; i &lt; n; i++)
  {
    a[i] = a[i] + b[i];
    __builtin_prefetch (&amp;a[i+j], 1, 1);
    __builtin_prefetch (&amp;b[i+j], 0, 1);
    /* <span class="roman">...</span> */
  }</pre> <p>Data prefetch does not generate faults if <var>addr</var> is invalid, but the address expression itself must be valid. For example, a prefetch of <code>p-&gt;next</code> does not fault if <code>p-&gt;next</code> is not a valid address, but evaluation faults if <code>p</code> is not a valid address. </p>
<p>If the target does not support data prefetch, the address expression is evaluated if it includes side effects but no other code is generated and GCC does not issue a warning. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: double <b>__builtin_huge_val</b> (<var>void</var>) <blockquote><p>Returns a positive infinity, if supported by the floating-point format, else <code>DBL_MAX</code>. This function is suitable for implementing the ISO C macro <code>HUGE_VAL</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: float <b>__builtin_huge_valf</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_huge_val</code>, except the return type is <code>float</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: long double <b>__builtin_huge_vall</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_huge_val</code>, except the return type is <code>long double</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_fpclassify</b> (<var>int, int, int, int, int, ...</var>) <blockquote><p>This built-in implements the C99 fpclassify functionality. The first five int arguments should be the target library's notion of the possible FP classes and are used for return values. They must be constant values and they must appear in this order: <code>FP_NAN</code>, <code>FP_INFINITE</code>, <code>FP_NORMAL</code>, <code>FP_SUBNORMAL</code> and <code>FP_ZERO</code>. The ellipsis is for exactly one floating-point value to classify. GCC treats the last argument as type-generic, which means it does not do default promotion from float to double. </p></blockquote>
</div> <div class="defun"> — Built-in Function: double <b>__builtin_inf</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_huge_val</code>, except a warning is generated if the target floating-point format does not support infinities. </p></blockquote>
</div> <div class="defun"> — Built-in Function: _Decimal32 <b>__builtin_infd32</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_inf</code>, except the return type is <code>_Decimal32</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: _Decimal64 <b>__builtin_infd64</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_inf</code>, except the return type is <code>_Decimal64</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: _Decimal128 <b>__builtin_infd128</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_inf</code>, except the return type is <code>_Decimal128</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: float <b>__builtin_inff</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_inf</code>, except the return type is <code>float</code>. This function is suitable for implementing the ISO C99 macro <code>INFINITY</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: long double <b>__builtin_infl</b> (<var>void</var>) <blockquote><p>Similar to <code>__builtin_inf</code>, except the return type is <code>long double</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_isinf_sign</b> (<var>...</var>) <blockquote><p>Similar to <code>isinf</code>, except the return value is -1 for an argument of <code>-Inf</code> and 1 for an argument of <code>+Inf</code>. Note while the parameter list is an ellipsis, this function only accepts exactly one floating-point argument. GCC treats this parameter as type-generic, which means it does not do default promotion from float to double. </p></blockquote>
</div> <div class="defun"> — Built-in Function: double <b>__builtin_nan</b> (<var>const char *str</var>) <blockquote>
<p>This is an implementation of the ISO C99 function <code>nan</code>. </p>
<p>Since ISO C99 defines this function in terms of <code>strtod</code>, which we do not implement, a description of the parsing is in order. The string is parsed as by <code>strtol</code>; that is, the base is recognized by leading ‘<code>0</code>’ or ‘<code>0x</code>’ prefixes. The number parsed is placed in the significand such that the least significant bit of the number is at the least significant bit of the significand. The number is truncated to fit the significand field provided. The significand is forced to be a quiet NaN. </p>
<p>This function, if given a string literal all of which would have been consumed by <code>strtol</code>, is evaluated early enough that it is considered a compile-time constant. </p>
</blockquote>
</div> <div class="defun"> — Built-in Function: _Decimal32 <b>__builtin_nand32</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nan</code>, except the return type is <code>_Decimal32</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: _Decimal64 <b>__builtin_nand64</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nan</code>, except the return type is <code>_Decimal64</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: _Decimal128 <b>__builtin_nand128</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nan</code>, except the return type is <code>_Decimal128</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: float <b>__builtin_nanf</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nan</code>, except the return type is <code>float</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: long double <b>__builtin_nanl</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nan</code>, except the return type is <code>long double</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: double <b>__builtin_nans</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nan</code>, except the significand is forced to be a signaling NaN. The <code>nans</code> function is proposed by <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n965.htm" target="_blank">WG14 N965</a>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: float <b>__builtin_nansf</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nans</code>, except the return type is <code>float</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: long double <b>__builtin_nansl</b> (<var>const char *str</var>) <blockquote><p>Similar to <code>__builtin_nans</code>, except the return type is <code>long double</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_ffs</b> (<var>int x</var>) <blockquote><p>Returns one plus the index of the least significant 1-bit of <var>x</var>, or if <var>x</var> is zero, returns zero. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_clz</b> (<var>unsigned int x</var>) <blockquote><p>Returns the number of leading 0-bits in <var>x</var>, starting at the most significant bit position. If <var>x</var> is 0, the result is undefined. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_ctz</b> (<var>unsigned int x</var>) <blockquote><p>Returns the number of trailing 0-bits in <var>x</var>, starting at the least significant bit position. If <var>x</var> is 0, the result is undefined. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_clrsb</b> (<var>int x</var>) <blockquote><p>Returns the number of leading redundant sign bits in <var>x</var>, i.e. the number of bits following the most significant bit that are identical to it. There are no special cases for 0 or other values. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_popcount</b> (<var>unsigned int x</var>) <blockquote><p>Returns the number of 1-bits in <var>x</var>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_parity</b> (<var>unsigned int x</var>) <blockquote><p>Returns the parity of <var>x</var>, i.e. the number of 1-bits in <var>x</var> modulo 2. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_ffsl</b> (<var>long</var>) <blockquote><p>Similar to <code>__builtin_ffs</code>, except the argument type is <code>long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_clzl</b> (<var>unsigned long</var>) <blockquote><p>Similar to <code>__builtin_clz</code>, except the argument type is <code>unsigned long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_ctzl</b> (<var>unsigned long</var>) <blockquote><p>Similar to <code>__builtin_ctz</code>, except the argument type is <code>unsigned long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_clrsbl</b> (<var>long</var>) <blockquote><p>Similar to <code>__builtin_clrsb</code>, except the argument type is <code>long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_popcountl</b> (<var>unsigned long</var>) <blockquote><p>Similar to <code>__builtin_popcount</code>, except the argument type is <code>unsigned long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_parityl</b> (<var>unsigned long</var>) <blockquote><p>Similar to <code>__builtin_parity</code>, except the argument type is <code>unsigned long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_ffsll</b> (<var>long long</var>) <blockquote><p>Similar to <code>__builtin_ffs</code>, except the argument type is <code>long long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_clzll</b> (<var>unsigned long long</var>) <blockquote><p>Similar to <code>__builtin_clz</code>, except the argument type is <code>unsigned long long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_ctzll</b> (<var>unsigned long long</var>) <blockquote><p>Similar to <code>__builtin_ctz</code>, except the argument type is <code>unsigned long long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_clrsbll</b> (<var>long long</var>) <blockquote><p>Similar to <code>__builtin_clrsb</code>, except the argument type is <code>long long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_popcountll</b> (<var>unsigned long long</var>) <blockquote><p>Similar to <code>__builtin_popcount</code>, except the argument type is <code>unsigned long long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: int <b>__builtin_parityll</b> (<var>unsigned long long</var>) <blockquote><p>Similar to <code>__builtin_parity</code>, except the argument type is <code>unsigned long long</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: double <b>__builtin_powi</b> (<var>double, int</var>) <blockquote><p>Returns the first argument raised to the power of the second. Unlike the <code>pow</code> function no guarantees about precision and rounding are made. </p></blockquote>
</div> <div class="defun"> — Built-in Function: float <b>__builtin_powif</b> (<var>float, int</var>) <blockquote><p>Similar to <code>__builtin_powi</code>, except the argument and return types are <code>float</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: long double <b>__builtin_powil</b> (<var>long double, int</var>) <blockquote><p>Similar to <code>__builtin_powi</code>, except the argument and return types are <code>long double</code>. </p></blockquote>
</div> <div class="defun"> — Built-in Function: uint16_t <b>__builtin_bswap16</b> (<var>uint16_t x</var>) <blockquote><p>Returns <var>x</var> with the order of the bytes reversed; for example, <code>0xaabb</code> becomes <code>0xbbaa</code>. Byte here always means exactly 8 bits. </p></blockquote>
</div> <div class="defun"> — Built-in Function: uint32_t <b>__builtin_bswap32</b> (<var>uint32_t x</var>) <blockquote><p>Similar to <code>__builtin_bswap16</code>, except the argument and return types are 32 bit. </p></blockquote>
</div> <div class="defun"> — Built-in Function: uint64_t <b>__builtin_bswap64</b> (<var>uint64_t x</var>) <blockquote><p>Similar to <code>__builtin_bswap32</code>, except the argument and return types are 64 bit. </p></blockquote>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-6.3.0/gcc/Other-Builtins.html" class="_attribution-link" target="_blank">https://gcc.gnu.org/onlinedocs/gcc-6.3.0/gcc/Other-Builtins.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
