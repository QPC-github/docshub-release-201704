
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Array Functions and Operators - PostgreSQL 9.4 - W3cubDocs</title>
  
  <meta name="description" content=" Table 9-45 shows the operators available for array types. ">
  <meta name="keywords" content="array, functions, and, operators, -, postgresql, postgresql~9.4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/postgresql~9.4/functions-array/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/postgresql~9.4.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/postgresql~9.4/" class="_nav-link" title="" style="margin-left:0;">PostgreSQL 9.4</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _postgres">
				
<h1 class="SECT1" id="FUNCTIONS-ARRAY">9.18. Array Functions and Operators</h1> <p><a href="../functions-array/#ARRAY-OPERATORS-TABLE">Table 9-45</a> shows the operators available for array types.</p> <div class="TABLE" id="ARRAY-OPERATORS-TABLE">  <p class="c2">Table 9-45. Array Operators</p> <table class="CALSTABLE"> <col> <col> <col> <col> <thead> <tr> <th>Operator</th> <th>Description</th> <th>Example</th> <th>Result</th> </tr> </thead> <tbody> <tr> <td><code class="LITERAL" id="61">=</code></td> <td>equal</td> <td><code class="LITERAL">ARRAY[1.1,2.1,3.1]::int[] = ARRAY[1,2,3]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="6062">&lt;&gt;</code></td> <td>not equal</td> <td><code class="LITERAL">ARRAY[1,2,3] &lt;&gt; ARRAY[1,2,4]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="60">&lt;</code></td> <td>less than</td> <td><code class="LITERAL">ARRAY[1,2,3] &lt; ARRAY[1,2,4]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="62">&gt;</code></td> <td>greater than</td> <td><code class="LITERAL">ARRAY[1,4,3] &gt; ARRAY[1,2,4]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="6061">&lt;=</code></td> <td>less than or equal</td> <td><code class="LITERAL">ARRAY[1,2,3] &lt;= ARRAY[1,2,3]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="6261">&gt;=</code></td> <td>greater than or equal</td> <td><code class="LITERAL">ARRAY[1,4,3] &gt;= ARRAY[1,4,3]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="6462">@&gt;</code></td> <td>contains</td> <td><code class="LITERAL">ARRAY[1,4,3] @&gt; ARRAY[3,1]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="6064">&lt;@</code></td> <td>is contained by</td> <td><code class="LITERAL">ARRAY[2,7] &lt;@ ARRAY[1,7,4,2,6]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="3838">&amp;&amp;</code></td> <td>overlap (have elements in common)</td> <td><code class="LITERAL">ARRAY[1,4,3] &amp;&amp; ARRAY[2,1]</code></td> <td><code class="LITERAL">t</code></td> </tr> <tr> <td><code class="LITERAL" id="124124">||</code></td> <td>array-to-array concatenation</td> <td><code class="LITERAL">ARRAY[1,2,3] || ARRAY[4,5,6]</code></td> <td><code class="LITERAL">{1,2,3,4,5,6}</code></td> </tr> <tr> <td><code class="LITERAL">||</code></td> <td>array-to-array concatenation</td> <td><code class="LITERAL">ARRAY[1,2,3] || ARRAY[[4,5,6],[7,8,9]]</code></td> <td><code class="LITERAL">{{1,2,3},{4,5,6},{7,8,9}}</code></td> </tr> <tr> <td><code class="LITERAL">||</code></td> <td>element-to-array concatenation</td> <td><code class="LITERAL">3 || ARRAY[4,5,6]</code></td> <td><code class="LITERAL">{3,4,5,6}</code></td> </tr> <tr> <td><code class="LITERAL">||</code></td> <td>array-to-element concatenation</td> <td><code class="LITERAL">ARRAY[4,5,6] || 7</code></td> <td><code class="LITERAL">{4,5,6,7}</code></td> </tr> </tbody> </table> </div> <p>Array comparisons compare the array contents element-by-element, using the default B-tree comparison function for the element data type. In multidimensional arrays the elements are visited in row-major order (last subscript varies most rapidly). If the contents of two arrays are equal but the dimensionality is different, the first difference in the dimensionality information determines the sort order. (This is a change from versions of <span class="PRODUCTNAME">PostgreSQL</span> prior to 8.2: older versions would claim that two arrays with the same contents were equal, even if the number of dimensions or subscript ranges were different.)</p> <p>See <a href="../arrays/">Section 8.15</a> for more details about array operator behavior. See <a href="../indexes-types/">Section 11.2</a> for more details about which operators support indexed operations.</p> <p><a href="../functions-array/#ARRAY-FUNCTIONS-TABLE">Table 9-46</a> shows the functions available for use with array types. See <a href="../arrays/">Section 8.15</a> for more information and examples of the use of these functions.</p> <div class="TABLE" id="ARRAY-FUNCTIONS-TABLE">  <p class="c2">Table 9-46. Array Functions</p> <table class="CALSTABLE"> <col> <col> <col> <col> <col> <thead> <tr> <th>Function</th> <th>Return Type</th> <th>Description</th> <th>Example</th> <th>Result</th> </tr> </thead> <tbody> <tr> <td><code class="LITERAL" id="array_append">array_append(<code class="TYPE">anyarray</code>, <code class="TYPE">anyelement</code>)</code></td> <td><code class="TYPE">anyarray</code></td> <td>append an element to the end of an array</td> <td><code class="LITERAL">array_append(ARRAY[1,2], 3)</code></td> <td><code class="LITERAL">{1,2,3}</code></td> </tr> <tr> <td><code class="LITERAL" id="array_cat">array_cat(<code class="TYPE">anyarray</code>, <code class="TYPE">anyarray</code>)</code></td> <td><code class="TYPE">anyarray</code></td> <td>concatenate two arrays</td> <td><code class="LITERAL">array_cat(ARRAY[1,2,3], ARRAY[4,5])</code></td> <td><code class="LITERAL">{1,2,3,4,5}</code></td> </tr> <tr> <td><code class="LITERAL" id="array_ndims">array_ndims(<code class="TYPE">anyarray</code>)</code></td> <td><code class="TYPE">int</code></td> <td>returns the number of dimensions of the array</td> <td><code class="LITERAL">array_ndims(ARRAY[[1,2,3], [4,5,6]])</code></td> <td><code class="LITERAL">2</code></td> </tr> <tr> <td><code class="LITERAL" id="array_dims">array_dims(<code class="TYPE">anyarray</code>)</code></td> <td><code class="TYPE">text</code></td> <td>returns a text representation of array's dimensions</td> <td><code class="LITERAL">array_dims(ARRAY[[1,2,3], [4,5,6]])</code></td> <td><code class="LITERAL">[1:2][1:3]</code></td> </tr> <tr> <td><code class="LITERAL" id="array_fill">array_fill(<code class="TYPE">anyelement</code>, <code class="TYPE">int[]</code>, [<span class="OPTIONAL">, <code class="TYPE">int[]</code></span>])</code></td> <td><code class="TYPE">anyarray</code></td> <td>returns an array initialized with supplied value and dimensions, optionally with lower bounds other than 1</td> <td><code class="LITERAL">array_fill(7, ARRAY[3], ARRAY[2])</code></td> <td><code class="LITERAL">[2:4]={7,7,7}</code></td> </tr> <tr> <td><code class="LITERAL" id="array_length">array_length(<code class="TYPE">anyarray</code>, <code class="TYPE">int</code>)</code></td> <td><code class="TYPE">int</code></td> <td>returns the length of the requested array dimension</td> <td><code class="LITERAL">array_length(array[1,2,3], 1)</code></td> <td><code class="LITERAL">3</code></td> </tr> <tr> <td><code class="LITERAL" id="array_lower">array_lower(<code class="TYPE">anyarray</code>, <code class="TYPE">int</code>)</code></td> <td><code class="TYPE">int</code></td> <td>returns lower bound of the requested array dimension</td> <td><code class="LITERAL">array_lower('[0:2]={1,2,3}'::int[], 1)</code></td> <td><code class="LITERAL">0</code></td> </tr> <tr> <td><code class="LITERAL" id="array_prepend">array_prepend(<code class="TYPE">anyelement</code>, <code class="TYPE">anyarray</code>)</code></td> <td><code class="TYPE">anyarray</code></td> <td>append an element to the beginning of an array</td> <td><code class="LITERAL">array_prepend(1, ARRAY[2,3])</code></td> <td><code class="LITERAL">{1,2,3}</code></td> </tr> <tr> <td><code class="LITERAL" id="array_remove">array_remove(<code class="TYPE">anyarray</code>, <code class="TYPE">anyelement</code>)</code></td> <td><code class="TYPE">anyarray</code></td> <td>remove all elements equal to the given value from the array (array must be one-dimensional)</td> <td><code class="LITERAL">array_remove(ARRAY[1,2,3,2], 2)</code></td> <td><code class="LITERAL">{1,3}</code></td> </tr> <tr> <td><code class="LITERAL" id="array_replace">array_replace(<code class="TYPE">anyarray</code>, <code class="TYPE">anyelement</code>, <code class="TYPE">anyelement</code>)</code></td> <td><code class="TYPE">anyarray</code></td> <td>replace each array element equal to the given value with a new value</td> <td><code class="LITERAL">array_replace(ARRAY[1,2,5,4], 5, 3)</code></td> <td><code class="LITERAL">{1,2,3,4}</code></td> </tr> <tr> <td><code class="LITERAL" id="array_to_string">array_to_string(<code class="TYPE">anyarray</code>, <code class="TYPE">text</code> [<span class="OPTIONAL">, <code class="TYPE">text</code></span>])</code></td> <td><code class="TYPE">text</code></td> <td>concatenates array elements using supplied delimiter and optional null string</td> <td><code class="LITERAL">array_to_string(ARRAY[1, 2, 3, NULL, 5], ',', '*')</code></td> <td><code class="LITERAL">1,2,3,*,5</code></td> </tr> <tr> <td><code class="LITERAL" id="array_upper">array_upper(<code class="TYPE">anyarray</code>, <code class="TYPE">int</code>)</code></td> <td><code class="TYPE">int</code></td> <td>returns upper bound of the requested array dimension</td> <td><code class="LITERAL">array_upper(ARRAY[1,8,3,7], 1)</code></td> <td><code class="LITERAL">4</code></td> </tr> <tr> <td><code class="LITERAL" id="cardinality">cardinality(<code class="TYPE">anyarray</code>)</code></td> <td><code class="TYPE">int</code></td> <td>returns the total number of elements in the array, or 0 if the array is empty</td> <td><code class="LITERAL">cardinality(ARRAY[[1,2],[3,4]])</code></td> <td><code class="LITERAL">4</code></td> </tr> <tr> <td><code class="LITERAL" id="string_to_array">string_to_array(<code class="TYPE">text</code>, <code class="TYPE">text</code> [<span class="OPTIONAL">, <code class="TYPE">text</code></span>])</code></td> <td><code class="TYPE">text[]</code></td> <td>splits string into array elements using supplied delimiter and optional null string</td> <td><code class="LITERAL">string_to_array('xx~^~yy~^~zz', '~^~', 'yy')</code></td> <td><code class="LITERAL">{xx,NULL,zz}</code></td> </tr> <tr> <td><code class="LITERAL" id="unnest">unnest(<code class="TYPE">anyarray</code>)</code></td> <td><code class="TYPE">setof anyelement</code></td> <td>expand an array to a set of rows</td> <td><code class="LITERAL">unnest(ARRAY[1,2])</code></td> <td> <pre class="LITERALLAYOUT">
1
2
</pre>(2 rows) </td> </tr> <tr> <td><code class="LITERAL">unnest(<code class="TYPE">anyarray</code>, <code class="TYPE">anyarray</code> [, ...])</code></td> <td><code class="TYPE">setof anyelement, anyelement [, ...]</code></td> <td>expand multiple arrays (possibly of different types) to a set of rows. This is only allowed in the FROM clause; see <a href="../queries-table-expressions/#QUERIES-TABLEFUNCTIONS">Section 7.2.1.4</a>
</td> <td><code class="LITERAL">unnest(ARRAY[1,2],ARRAY['foo','bar','baz'])</code></td> <td> <pre class="LITERALLAYOUT">
1    foo
2    bar
NULL baz
</pre>(3 rows) </td> </tr> </tbody> </table> </div> <p>In <code class="FUNCTION">string_to_array</code>, if the delimiter parameter is NULL, each character in the input string will become a separate element in the resulting array. If the delimiter is an empty string, then the entire input string is returned as a one-element array. Otherwise the input string is split at each occurrence of the delimiter string.</p> <p>In <code class="FUNCTION">string_to_array</code>, if the null-string parameter is omitted or NULL, none of the substrings of the input will be replaced by NULL. In <code class="FUNCTION">array_to_string</code>, if the null-string parameter is omitted or NULL, any null elements in the array are simply skipped and not represented in the output string.</p>  <blockquote class="NOTE"> <p><b>Note:</b> There are two differences in the behavior of <code class="FUNCTION">string_to_array</code> from pre-9.1 versions of <span class="PRODUCTNAME">PostgreSQL</span>. First, it will return an empty (zero-element) array rather than NULL when the input string is of zero length. Second, if the delimiter string is NULL, the function splits the input into individual characters, rather than returning NULL as before.</p> </blockquote>  <p>See also <a href="../functions-aggregate/">Section 9.20</a> about the aggregate function <code class="FUNCTION">array_agg</code> for use with arrays.</p>  <div class="NAVFOOTER">  <table summary="Footer navigation table"> <tr> <td width="33%" align="left"><a href="../functions-conditional/" accesskey="P">Prev</a></td> <td width="34%" align="center"></td> <td width="33%" align="right"><a href="../functions-range/" accesskey="N">Next</a></td> </tr> <tr> <td width="33%" align="left">Conditional Expressions</td> <td width="34%" align="center"><a href="https://www.postgresql.org/docs/9.4/static/functions.html" accesskey="U" target="_blank">Up</a></td> <td width="33%" align="right">Range Functions and Operators</td> </tr> </table> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1996–2017 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/9.4/static/functions-array.html" class="_attribution-link" target="_blank">https://www.postgresql.org/docs/9.4/static/functions-array.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
