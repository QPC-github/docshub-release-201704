
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>INDEXED by - SQLite - W3cubDocs</title>
  
  <meta name="description" content=" [Top] ">
  <meta name="keywords" content="sql, understood, sqlite, indexed, -">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/sqlite/lang_indexedby/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/sqlite.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/sqlite/" class="_nav-link" title="" style="margin-left:0;">SQLite</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sqlite">
				
<h1>SQL As Understood By SQLite</h1>
<p><a href="../lang/">[Top]</a></p>
<h2>INDEXED BY</h2> <p>The INDEXED BY phrase forces the <a href="../optoverview/">SQLite query planner</a> to use a particular named index on a <a href="../lang_delete/">DELETE</a>, <a href="../lang_select/">SELECT</a>, or <a href="../lang_update/">UPDATE</a> statement. The INDEXED BY phrase is an SQLite extension and is not portable to other SQL database engines.</p> <p><b><a href="../syntax/qualified-table-name/">qualified-table-name:</a></b> <button id="x1443" class="_btn" data-toggle="x1444">hide</button></p> <div id="x1444" class="imgcontainer"> <img alt="syntax diagram qualified-table-name" src="https://sqlite.org/images/syntax/qualified-table-name.gif"> </div> <p>The "INDEXED BY <span class="yyterm">index-name</span>" phrase specifies that the named index must be used in order to look up values on the preceding table. If <span class="yyterm">index-name</span> does not exist or cannot be used for the query, then the preparation of the SQL statement fails. The "NOT INDEXED" clause specifies that no index shall be used when accessing the preceding table, including implied indices create by UNIQUE and PRIMARY KEY constraints. However, the <a href="../lang_createtable/#rowid">rowid</a> can still be used to look up entries even when "NOT INDEXED" is specified.</p> <p>Some SQL database engines provide non-standard "hint" mechanisms which can be used to give the query optimizer clues about what indices it should use for a particular statement. The INDEX BY clause of SQLite is <em>not</em> a hinting mechanism and it should not be used as such. The INDEXED BY clause does not give the optimizer hints about which index to use; it gives the optimizer a requirement of which index to use. If the query optimizer is unable to use the index specified by the INDEX BY clause, then the query will fail with an error.</p> <p>The INDEXED BY clause is <em>not</em> intended for use in tuning the performance of a query. The intent of the INDEXED BY clause is to raise a run-time error if a schema change, such as dropping or creating an index, causes the query plan for a time-sensitive query to change. The INDEXED BY clause is designed to help detect undesirable query plan changes during regression testing. Application developers are admonished to omit all use of INDEXED BY during application design, implementation, testing, and tuning. If INDEXED BY is to be used at all, it should be inserted at the very end of the development process when "locking down" a design.</p> <h3>See Also:</h3> <ol> <li>
<p>The <a href="../queryplanner-ng/#howtofix">query planner checklist</a> describes steps that application developers should following to help resolve query planner problems. Notice the that the use of INDEXED BY is a last resort, to be used only when all other measures fail.</p> </li>
<li>
<p><a href="../optoverview/#uplus">The unary "+" operator</a> can be used to disqualify terms in the WHERE clause from use by indices. Careful use of unary + can sometimes help prevent the query planner from choosing a poor index without restricting it to using one specific index. Careful placement of unary + operators is a better method for controlling which indices are used by a query.</p> </li>
<li>
<p>The <a href="../c3ref/stmt_status/">sqlite3_stmt_status()</a> C/C++ interface together with the <a href="../c3ref/c_stmtstatus_counter/#sqlitestmtstatusfullscanstep">SQLITE_STMTSTATUS_FULLSCAN_STEP</a> and <a href="../c3ref/c_stmtstatus_counter/#sqlitestmtstatussort">SQLITE_STMTSTATUS_SORT</a> verbs can be used to detect at run-time when an SQL statement is not making effective use of indices. Many applications may prefer to use the <a href="../c3ref/stmt_status/">sqlite3_stmt_status()</a> interface to detect index misuse rather than the INDEXED BY phrase described here.</p> </li>
</ol> <div class="_attribution">
  <p class="_attribution-p">
    SQLite is in the Public Domain.<br>
    <a href="https://sqlite.org/lang_indexedby.html" class="_attribution-link" target="_blank">https://sqlite.org/lang_indexedby.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
