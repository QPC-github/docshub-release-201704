
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Configuring Logging Drivers (Engine) - Docker 1.13 - W3cubDocs</title>
  
  <meta name="description" content="Docker includes multiple logging mechanisms to help you get information from running containers and services. These mechanisms are called logging &hellip;">
  <meta name="keywords" content="configure, logging, drivers, configuring, engine, -, docker, docker~1.13">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/docker~1.13/engine/admin/logging/overview/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/docker~1.13.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~1.13/" class="_nav-link" title="" style="margin-left:0;">Docker 1.13</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _docker">
				
<h1>Configure logging drivers</h1>  <p>Docker includes multiple logging mechanisms to help you get information from running containers and services. These mechanisms are called logging drivers.</p> <p>Each Docker daemon has a default logging driver, which each container uses unless you configure it to use a different logging driver.</p> <h2 id="configure-the-default-logging-driver-for-the-docker-daemon">Configure the default logging driver for the Docker daemon</h2> <p>To configure the Docker daemon to default to a specific logging driver, use the <code class="highlighter-rouge">--log-driver=&lt;VALUE&gt;</code> flag. If the logging driver has configurable options, you can set them using one or more instances of the <code class="highlighter-rouge">--log-opt &lt;NAME&gt;=&lt;VALUE&gt;</code> flag.</p> <p>If you do not specify a logging driver, the default is <code class="highlighter-rouge">json-file</code>. Thus, the default output for commands such as <code class="highlighter-rouge">docker inspect &lt;CONTAINER&gt;</code> is JSON.</p> <p>To find the current default logging driver for the Docker daemon, run <code class="highlighter-rouge">docker info</code> and search for <code class="highlighter-rouge">Logging Driver</code>. You can use the following command on Linux or macOS:</p> <pre class="highlight" data-language="bash">$ docker info |grep 'Logging Driver'

Logging Driver: json-file
</pre>  <h2 id="configure-the-logging-driver-for-a-container">Configure the logging driver for a container</h2> <p>When you start a container, you can configure it to use a different logging driver than the Docker daemon’s default. If the logging driver has configurable options, you can set them using one or more instances of the <code class="highlighter-rouge">--log-opt &lt;NAME&gt;-&lt;VALUE&gt;</code> flag. Even if the container uses the default logging driver, it can use different configurable options.</p> <p>To find the current logging driver for a running container, if the daemon is using the <code class="highlighter-rouge">json-file</code> logging driver, run the following <code class="highlighter-rouge">docker inspect</code> command, substituting the container name or ID for <code class="highlighter-rouge">&lt;CONTAINER&gt;</code>:</p> <pre class="highlight" data-language="bash">
$ docker inspect -f '{{.HostConfig.LogConfig.Type}}' &lt;CONTAINER&gt;

json-file

</pre>  <h2 id="supported-logging-drivers">Supported logging drivers</h2> <p>The following logging drivers are supported. See each driver’s section below for its configurable options, if applicable.</p> <table> <thead> <tr> <th>Driver</th> <th>Description</th> <th> </th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">none</code></td> <td>No logs will be available for the container and <code class="highlighter-rouge">docker logs</code> will not return any output.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">json-file</code></td> <td>The logs are formatted as JSON. The default logging driver for Docker.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">syslog</code></td> <td>Writes logging messages to the <code class="highlighter-rouge">syslog</code> facility. The <code class="highlighter-rouge">syslog</code> daemon must be running on the host machine.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">journald</code></td> <td>Writes log messages to <code class="highlighter-rouge">journald</code>. The <code class="highlighter-rouge">journald</code> daemon must be running on the host machine.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">gelf</code></td> <td>Writes log messages to a Graylog Extended Log Format (GELF) endpoint such as Graylog or Logstash.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">fluentd</code></td> <td>Writes log messages to <code class="highlighter-rouge">fluentd</code> (forward input). The <code class="highlighter-rouge">fluentd</code> daemon must be running on the host machine.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">awslogs</code></td> <td>Writes log messages to Amazon CloudWatch Logs.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">splunk</code></td> <td>Writes log messages to <code class="highlighter-rouge">splunk</code> using the HTTP Event Collector.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">etwlogs</code></td> <td>Writes log messages as Event Tracing for Windows (ETW) events. Only available on Windows platforms.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">gcplogs</code></td> <td>Writes log messages to Google Cloud Platform (GCP) Logging.</td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">nats</code></td> <td>NATS logging driver for Docker. Publishes log entries to a NATS server.</td> <td> </td> </tr> </tbody> </table> <h2 id="limitations-of-logging-drivers">Limitations of logging drivers</h2> <ul> <li>The <code class="highlighter-rouge">docker logs</code> command is not available for drivers other than <code class="highlighter-rouge">json-file</code> and <code class="highlighter-rouge">journald</code>.</li> </ul> <h2 id="examples">Examples</h2> <h3 id="configure-the-logging-driver-using-labels-or-environment-variables">Configure the logging driver using labels or environment variables</h3> <p>If your container uses labels or environment variables specified in the Dockerfile or at runtime, some logging drivers can use these labels or environment variables to control logging behavior. If a collision occurs between a label and an environment variable, the environment variable takes precedence.</p> <p>Specify logging attributes and options when you start the Docker daemon. For example, to manually start the daemon with the <code class="highlighter-rouge">json-file</code> driver, and set a label and two environment variables, use the following command:</p> <pre class="highlight" data-language="bash">$ dockerd \
         --log-driver=json-file \
         --log-opt labels=production_status \
         --log-opt env=os,customer
</pre>  <p>Next, run a container and specify values for the <code class="highlighter-rouge">labels</code> or <code class="highlighter-rouge">env</code>. For example, you might use this:</p> <pre class="highlight" data-language="bash">$ docker run -dit --label production_status=testing -e os=ubuntu alpine sh
</pre>  <p>If the logging driver supports it, this adds additional fields to the logging output. The following output is for <code class="highlighter-rouge">json-file</code>:</p> <pre class="highlight" data-language="json">"attrs":{"production_status":"testing","os":"ubuntu"}
</pre>  <h2 id="none"><code class="highlighter-rouge">none</code></h2> <p>The <code class="highlighter-rouge">none</code> driver disables logging for the Docker daemon (if set on the daemon at start-up) or for an individual container at runtime. It has no options.</p> <h3 id="examples-1">Examples</h3> <p>This example starts an <code class="highlighter-rouge">alpine</code> container with the <code class="highlighter-rouge">none</code> log driver.</p> <pre class="highlight" data-language="bash">$ docker run -it --log-driver none alpine ash
</pre>  <h2 id="json-file"><code class="highlighter-rouge">json-file</code></h2> <p><code class="highlighter-rouge">json-file</code> is the default logging driver, and returns logging output in JSON format.</p> <h3 id="options">Options</h3> <p>The <code class="highlighter-rouge">json-file</code> logging driver supports the following logging options:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">max-size</code></td> <td>The maximum size of the log before it is rolled. A positive integer plus a modifier representing the unit of measure (<code class="highlighter-rouge">k</code>, <code class="highlighter-rouge">m</code>, or <code class="highlighter-rouge">g</code>).</td> <td><code class="highlighter-rouge">--log-opt max-size=10m</code></td> </tr> <tr> <td><code class="highlighter-rouge">max-file</code></td> <td>The maximum number of log files that can be present. If rolling the logs creates excess files, the oldest file is removed. <strong>Only effective when <code class="highlighter-rouge">max-size</code> is also set.</strong> A positive integer.</td> <td><code class="highlighter-rouge">--log-opt max-file=3</code></td> </tr> <tr> <td><code class="highlighter-rouge">labels</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related labels this daemon will accept. Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt labels=production_status,geo</code></td> </tr> <tr> <td><code class="highlighter-rouge">env</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related environment variables this daemon will accept. Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt env=os,customer</code></td> </tr> </tbody> </table> <blockquote> <p><strong>Note</strong>: If <code class="highlighter-rouge">max-size</code> and <code class="highlighter-rouge">max-file</code> are set, <code class="highlighter-rouge">docker logs</code> only returns the log lines from the newest log file.</p> </blockquote> <h3 id="examples-2">Examples</h3> <p>This example starts an <code class="highlighter-rouge">alpine</code> container which can have a maximum of 3 log files no larger than 10 megabytes each.</p> <pre class="highlight" data-language="bash">$ docker run --it --log-opt max-size=10m --log-opt max-file=3 alpine ash
</pre>  <h2 id="syslog"><code class="highlighter-rouge">syslog</code></h2> <h3 id="options-1">Options</h3> <p>The following logging options are supported for the <code class="highlighter-rouge">syslog</code> logging driver:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">syslog-address</code></td> <td>The address of an external <code class="highlighter-rouge">syslog</code> server. The URI specifier may be <code class="highlighter-rouge">[tcp|udp|tcp+tls]://host:port</code>, <code class="highlighter-rouge">unix://path</code>, or <code class="highlighter-rouge">unixgram://path</code>. If the transport is <code class="highlighter-rouge">tcp</code>, <code class="highlighter-rouge">udp</code>, or <code class="highlighter-rouge">tcp+tls</code>, the default port is <code class="highlighter-rouge">514</code>.</td> <td>
<code class="highlighter-rouge">--log-opt syslog-address=tcp+tls://192.168.1.3:514</code>, <code class="highlighter-rouge">--log-opt syslog-address=///tmp/syslog.sock</code>
</td> </tr> <tr> <td><code class="highlighter-rouge">syslog-facility</code></td> <td>The <code class="highlighter-rouge">syslog</code> facility to use. Can be the number or name for any valid <code class="highlighter-rouge">syslog</code> facility. See the <a href="https://tools.ietf.org/html/rfc5424#section-6.2.1" target="_blank">syslog documentation</a>.</td> <td><code class="highlighter-rouge">--log-opt syslog-facility=daemon</code></td> </tr> <tr> <td><code class="highlighter-rouge">syslog-tls-ca-cert</code></td> <td>The absolute path to the trust certificates signed by the CA. <strong>Ignored if the address protocol is not <code class="highlighter-rouge">tcp+tls</code>.</strong>
</td> <td><code class="highlighter-rouge">--log-opt syslog-tls-ca-cert=/etc/ca-certificates/custom/ca.pem</code></td> </tr> <tr> <td><code class="highlighter-rouge">syslog-tls-cert</code></td> <td>The absolute path to the TLS certificate file. <strong>Ignored if the address protocol is not <code class="highlighter-rouge">tcp+tls</code></strong>.</td> <td><code class="highlighter-rouge">--log-opt syslog-tls-cert=/etc/ca-certificates/custom/cert.pem</code></td> </tr> <tr> <td><code class="highlighter-rouge">syslog-tls-key</code></td> <td>The absolute path to the TLS key file. <strong>Ignored if the address protocol is not <code class="highlighter-rouge">tcp+tls</code>.</strong>
</td> <td><code class="highlighter-rouge">--log-opt syslog-tls-key=/etc/ca-certificates/custom/key.pem</code></td> </tr> <tr> <td><code class="highlighter-rouge">syslog-tls-skip</code></td> <td>If set to <code class="highlighter-rouge">true</code>, TLS verification is skipped when connecting to the <code class="highlighter-rouge">syslog</code> daemon. Defaults to <code class="highlighter-rouge">false</code>. <strong>Ignored if the address protocol is not <code class="highlighter-rouge">tcp+tls</code>.</strong>
</td> <td><code class="highlighter-rouge">--log-opt syslog-tls-skip-verify=true</code></td> </tr> <tr> <td><code class="highlighter-rouge">tag</code></td> <td>A string that is appended to the <code class="highlighter-rouge">APP-NAME</code> in the <code class="highlighter-rouge">syslog</code> message. By default, Docker uses the first 12 characters of the container ID to tag log messages. Refer to the <a href="../log_tags/">log tag option documentation</a> for customizing the log tag format.</td> <td><code class="highlighter-rouge">--log-opt tag=mailer</code></td> </tr> <tr> <td><code class="highlighter-rouge">syslog-format</code></td> <td>The <code class="highlighter-rouge">syslog</code> message format to use. If not specified the local UNIX syslog format is used, without a specified hostname. Specify <code class="highlighter-rouge">rfc3164</code> for the RFC-3164 compatible format, <code class="highlighter-rouge">rfc5424</code> for RFC-5424 compatible format, or <code class="highlighter-rouge">rfc5424micro</code> for RFC-5424 compatible format with microsecond timestamp resolution.</td> <td><code class="highlighter-rouge">--log-opt syslog-format=rfc5424micro</code></td> </tr> <tr> <td><code class="highlighter-rouge">labels</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related labels this daemon will accept. Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt labels=production_status,geo</code></td> </tr> <tr> <td><code class="highlighter-rouge">env</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related environment variables this daemon will accept. Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt env=os,customer</code></td> </tr> </tbody> </table> <h3 id="examples-3">Examples</h3> <p>This example sends the container’s logging output to a <code class="highlighter-rouge">syslog</code> remote server at <code class="highlighter-rouge">192.168.0.42</code> on port <code class="highlighter-rouge">123</code>, using the the <code class="highlighter-rouge">daemon</code> facility:</p> <pre class="highlight" data-language="bash">$ docker run \
         --log-driver=syslog \
         --log-opt syslog-address=tcp://192.168.0.42:123 \
         --log-opt syslog-facility=daemon \
         alpine ash
</pre>  <p>This example connects to <code class="highlighter-rouge">syslog</code> using TCP+TLS transport and specifies the trust certificate, certificate, and key to use.</p> <pre class="highlight" data-language="bash">$ docker run \
         --log-driver=syslog \
         --log-opt syslog-address=tcp+tls://192.168.0.42:123 \
         --log-opt syslog-tls-ca-cert=syslog-tls-ca-cert=/etc/ca-certificates/custom/ca.pem \
         --log-opt syslog-tls-cert=syslog-tls-ca-cert=/etc/ca-certificates/custom/cert.pem \
         --log-opt syslog-tls-key=syslog-tls-ca-cert=/etc/ca-certificates/custom/key.pem \
         alpine ash
</pre>  <h2 id="journald"><code class="highlighter-rouge">journald</code></h2> <p>The <code class="highlighter-rouge">journald</code> logging driver stores the container id in the journal’s <code class="highlighter-rouge">CONTAINER_ID</code> field. For detailed information on working with this logging driver, see <a href="../journald/">the journald logging driver</a> reference documentation.</p> <h3 id="options-2">Options</h3> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">tag</code></td> <td>A template for setting the <code class="highlighter-rouge">CONTAINER_TAG</code> value in <code class="highlighter-rouge">journald</code> logs. Refer to the <a href="../log_tags/">log tag option documentation</a> for customizing the log tag format.</td> <td><code class="highlighter-rouge">--log-opt tag=mailer</code></td> </tr> <tr> <td><code class="highlighter-rouge">labels</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related labels this daemon will accept. Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt labels=production_status,geo</code></td> </tr> <tr> <td><code class="highlighter-rouge">env</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related environment variables this daemon will accept. Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt env=os,customer</code></td> </tr> </tbody> </table> <h3 id="examples-4">Examples</h3> <pre class="highlight" data-language="bash">$ docker run \
         --log-driver=journald \
         alpine ash
</pre>  <h2 id="gelf"><code class="highlighter-rouge">gelf</code></h2> <h3 id="options-3">Options</h3> <p>The <code class="highlighter-rouge">gelf</code> logging driver supports the following options:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">gelf-address</code></td> <td>The address of the GELF server. <code class="highlighter-rouge">udp</code> is the only supported URI specifier and you must specify the port.</td> <td><code class="highlighter-rouge">--log-opt gelf-address=udp://192.168.0.42:12201</code></td> </tr> <tr> <td><code class="highlighter-rouge">gelf-compression-type</code></td> <td>The type of compression the GELF driver uses to compress each log message. Allowed values are <code class="highlighter-rouge">gzip</code>, <code class="highlighter-rouge">zlib</code> and <code class="highlighter-rouge">none</code>. The default is <code class="highlighter-rouge">gzip</code>.</td> <td><code class="highlighter-rouge">--log-opt gelf-compression-type=gzip</code></td> </tr> <tr> <td><code class="highlighter-rouge">gelf-compression-level</code></td> <td>The level of compression when <code class="highlighter-rouge">gzip</code> or <code class="highlighter-rouge">zlib</code> is the <code class="highlighter-rouge">gelf-compression-type</code>. An integer in the range of <code class="highlighter-rouge">-1</code> to <code class="highlighter-rouge">9</code> (BestCompression). Default value is 1 (BestSpeed). Higher levels provide more compression at lower speed.</td> <td><code class="highlighter-rouge">--log-opt gelf-compression-level=2</code></td> </tr> <tr> <td><code class="highlighter-rouge">tag</code></td> <td>A string that is appended to the <code class="highlighter-rouge">APP-NAME</code> in the <code class="highlighter-rouge">gelf</code> message. By default, Docker uses the first 12 characters of the container ID to tag log messages. Refer to the <a href="../log_tags/">log tag option documentation</a> for customizing the log tag format.</td> <td><code class="highlighter-rouge">--log-opt tag=mailer</code></td> </tr> <tr> <td><code class="highlighter-rouge">labels</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related labels this daemon will accept. Adds additional key on the <code class="highlighter-rouge">extra</code> fields, prefixed by an underscore (<code class="highlighter-rouge">_</code>). Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt labels=production_status,geo</code></td> </tr> <tr> <td><code class="highlighter-rouge">env</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related environment variables this daemon will accept. Adds additional key on the <code class="highlighter-rouge">extra</code> fields, prefixed by an underscore (<code class="highlighter-rouge">_</code>). Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt env=os,customer</code></td> </tr> </tbody> </table> <h3 id="examples-5">Examples</h3> <p>This example connects the container to the GELF server running at <code class="highlighter-rouge">192.168.0.42</code> on port <code class="highlighter-rouge">12201</code>.</p> <pre class="highlight" data-language="bash">$ docker run -dit \
             --log-driver=gelf \
             --log-opt gelf-address=udp://192.168.0.42:12201 \
             alpine sh
</pre>  <h2 id="fluentd"><code class="highlighter-rouge">fluentd</code></h2> <h3 id="options-4">Options</h3> <p>The <code class="highlighter-rouge">fluentd</code> logging driver supports the following options:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">fluentd-address</code></td> <td>The address of the Fluentd server, in the format <code class="highlighter-rouge">host:port</code> with no protocol specifier.</td> <td><code class="highlighter-rouge">--log-opt fluentd-address=192.168.0.42:24224</code></td> </tr> <tr> <td><code class="highlighter-rouge">fluentd-buffer-limit</code></td> <td>The maximum size of the fluentd log buffer, with a size prefix <code class="highlighter-rouge">KB</code>, <code class="highlighter-rouge">MB</code>, or <code class="highlighter-rouge">GB</code>. Defaults to <code class="highlighter-rouge">8MB</code>.</td> <td><code class="highlighter-rouge">--log-opt fluentd-buffer-limit=8MB</code></td> </tr> <tr> <td><code class="highlighter-rouge">fluentd-retry-wait</code></td> <td>The initial delay before retrying after a connection failure. After the initial delay, it increases exponentially. Defaults to <code class="highlighter-rouge">1000ms</code>.</td> <td><code class="highlighter-rouge">--log-opt fluentd-retry-wait=1000ms</code></td> </tr> <tr> <td><code class="highlighter-rouge">fluentd-max-retries</code></td> <td>The maximum number of connection attempts before the container stops due to failure to connect. Defaults to <code class="highlighter-rouge">1073741824</code>, which is effectively infinite.</td> <td><code class="highlighter-rouge">--log-opt fluentd-max-retries=200</code></td> </tr> <tr> <td><code class="highlighter-rouge">fluentd-async-connect</code></td> <td>If set to <code class="highlighter-rouge">false</code>, Docker blocks on initial connection and the container stops if it cannot connect. Defaults to <code class="highlighter-rouge">false</code>.</td> <td><code class="highlighter-rouge">--log-opt fluentd-async-connect=false</code></td> </tr> <tr> <td><code class="highlighter-rouge">tag</code></td> <td>A string that is appended to the <code class="highlighter-rouge">APP-NAME</code> in the <code class="highlighter-rouge">fluentd</code> message. By default, Docker uses the first 12 characters of the container ID to tag log messages. Refer to the <a href="../log_tags/">log tag option documentation</a> for customizing the log tag format.</td> <td><code class="highlighter-rouge">--log-opt tag=mailer</code></td> </tr> </tbody> </table> <h3 id="examples-6">Examples</h3> <p>This example logs container output to the Fluentd server running on <code class="highlighter-rouge">localhost</code> at port <code class="highlighter-rouge">24224</code> and prepends the tag <code class="highlighter-rouge">docker.&lt;CONTAINER_NAME&gt;</code> to the beginning of each message.</p> <pre class="highlight" data-language="bash">
$ docker run -dit \
             --log-driver=fluentd \
             --log-opt fluentd-address=localhost:24224 \
             --log-opt tag="docker.{{.Name}}" \
             alpine sh

</pre>  <p>For detailed information on working with the <code class="highlighter-rouge">fluentd</code> logging driver, see <a href="../fluentd/">the fluentd logging driver</a></p> <h2 id="awslogs"><code class="highlighter-rouge">awslogs</code></h2> <p>The Amazon Cloudwatch Logs driver is called <code class="highlighter-rouge">awslogs</code>.</p> <h3 id="options-5">Options</h3> <p>The <code class="highlighter-rouge">awslogs</code> supports the following options:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">awslogs-region</code></td> <td>Sets the region where the logs are sent. If not set, the container’s region is used.</td> <td><code class="highlighter-rouge">--log-opt awslogs-region=us-east-1</code></td> </tr> <tr> <td><code class="highlighter-rouge">awslogs-group</code></td> <td>The log group to use for the logs.</td> <td><code class="highlighter-rouge">--log-opt awslogs-group=myLogGroup</code></td> </tr> <tr> <td><code class="highlighter-rouge">awslogs-stream</code></td> <td>The log stream to use. If not specified, the container ID is used as the log stream.</td> <td><code class="highlighter-rouge">--log-opt awslogs-stream=myLogStream</code></td> </tr> </tbody> </table> <h3 id="examples-7">Examples</h3> <p>This exampe sends the logs to region <code class="highlighter-rouge">us-east-1</code> and uses the log group <code class="highlighter-rouge">myLogGroup</code>.</p> <pre class="highlight" data-language="bash">$ docker run \
         --log-driver=awslogs \
         --log-opt awslogs-region=us-east-1 \
         --log-opt awslogs-group=myLogGroup \
         alpine sh
</pre>  <p>For detailed information on working with this logging driver, see <a href="../awslogs/">the <code class="highlighter-rouge">awslogs</code> logging driver</a> reference documentation.</p> <h2 id="splunk"><code class="highlighter-rouge">splunk</code></h2> <p>The <code class="highlighter-rouge">splunk</code> logging driver sends container logs to the <a href="http://dev.splunk.com/view/event-collector/SP-CAAAE6M" target="_blank">HTTP Event Collector</a> in Splunk Enterprise and Splunk Cloud.</p> <h3 id="options-6">Options</h3> <p>The <code class="highlighter-rouge">splunk</code> logging driver <strong>requires</strong> the following options:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">splunk-token</code></td> <td>The Splunk HTTP Event Collector token.</td> <td><code class="highlighter-rouge">--log-opt splunk-token=&lt;splunk_http_event_collector_token&gt;</code></td> </tr> <tr> <td><code class="highlighter-rouge">splunk-url</code></td> <td>Path to your Splunk Enterprise or Splunk Cloud instance (including port and scheme used by HTTP Event Collector).</td> <td><code class="highlighter-rouge">--log-opt splunk-url=https://your_splunk_instance:8088</code></td> </tr> </tbody> </table> <p>The <code class="highlighter-rouge">splunk</code> logging driver <strong>allows</strong> the following options:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">splunk-source</code></td> <td>Event source.</td> <td><code class="highlighter-rouge">--log-opt splunk-token=176FCEBF-4CF5-4EDF-91BC-703796522D20</code></td> </tr> <tr> <td><code class="highlighter-rouge">splunk-sourcetype</code></td> <td>Event source type.</td> <td><code class="highlighter-rouge">--log-opt splunk-sourcetype=iis</code></td> </tr> <tr> <td><code class="highlighter-rouge">splunk-index</code></td> <td>Event index.</td> <td><code class="highlighter-rouge">--log-opt splunk-index=os</code></td> </tr> <tr> <td><code class="highlighter-rouge">splunk-capath</code></td> <td>Path to root certificate.</td> <td><code class="highlighter-rouge">--log-opt splunk-capath=/path/to/cert/cacert.pem</code></td> </tr> <tr> <td><code class="highlighter-rouge">splunk-caname</code></td> <td>Name to use for validating server certificate. Defaults to the hostname of the <code class="highlighter-rouge">splunk-url</code>.</td> <td><code class="highlighter-rouge">--log-opt splunk-caname=SplunkServerDefaultCert</code></td> </tr> <tr> <td><code class="highlighter-rouge">splunk-insecureskipverify</code></td> <td>Ignore server certificate validation.</td> <td><code class="highlighter-rouge">--log-opt splunk-insecureskipverify=false</code></td> </tr> <tr> <td><code class="highlighter-rouge">tag</code></td> <td>Specify tag for message, which interpret some markup. Default value is <code class="highlighter-rouge">{{.ID}}</code> (12 characters of the container ID). Refer to the <a href="../log_tags/">log tag option documentation</a> for information about customizing the log tag format.</td> <td><code class="highlighter-rouge">--log-opt tag="{{.Name}}/{{.FullID}}"</code></td> </tr> <tr> <td><code class="highlighter-rouge">labels</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related labels this daemon will accept. Adds additional key on the <code class="highlighter-rouge">extra</code> fields, prefixed by an underscore (<code class="highlighter-rouge">_</code>). Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt labels=production_status,geo</code></td> </tr> <tr> <td><code class="highlighter-rouge">env</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related environment variables this daemon will accept. Adds additional key on the <code class="highlighter-rouge">extra</code> fields, prefixed by an underscore (<code class="highlighter-rouge">_</code>). Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt env=os,customer</code></td> </tr> </tbody> </table> <h3 id="examples-8">Examples</h3> <p>This examples sets several options for the <code class="highlighter-rouge">splunk</code> logging driver.</p> <pre class="highlight" data-language="bash">
$ docker run \
       --log-driver=splunk \
       --log-opt splunk-token=176FCEBF-4CF5-4EDF-91BC-703796522D20 \
       --log-opt splunk-url=https://splunkhost:8088 \
       --log-opt splunk-capath=/path/to/cert/cacert.pem \
       --log-opt splunk-caname=SplunkServerDefaultCert \
       --log-opt tag="{{.Name}}/{{.FullID}}" \
       --log-opt labels=location \
       --log-opt env=TEST \
       --env "TEST=false" \
       --label location=west \
   alpine sh

</pre>  <p>For detailed information about working with the <code class="highlighter-rouge">splunk</code> logging driver, see the <a href="../splunk/">Splunk logging driver</a> reference documentation.</p> <h2 id="etwlogs"><code class="highlighter-rouge">etwlogs</code></h2> <h3 id="options-7">Options</h3> <p>The <code class="highlighter-rouge">etwlogs</code> logging driver forwards each log message as an ETW event. An ETW listener can then be created to listen for these events. This driver does not accept any options.</p> <h3 id="examples-9">Examples</h3> <pre class="highlight" data-language="bash">$ docker run \
         --logging-driver=etwlogs \
         alpine sh
</pre>  <p>The ETW logging driver is only available on Windows. For detailed information about working with this logging driver, see <a href="../etwlogs/">the ETW logging driver</a> reference documentation.</p> <h2 id="gcplogs"><code class="highlighter-rouge">gcplogs</code></h2> <h3 id="options-8">Options</h3> <p>The Google Cloud Platform logging driver (<code class="highlighter-rouge">gcplogs</code>) supports the following options:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> <th>Example value</th> <th> </th> <th> </th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">gcp-project</code></td> <td>The GCP project to log to. Defaults to discovering this value from the GCE metadata service.</td> <td><code class="highlighter-rouge">--log-opt gcp-project=myProject</code></td> <td> </td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">log-cmd</code></td> <td> </td> <td><code class="highlighter-rouge">--log-opt log-cmd=true</code></td> <td>Whether to log the command that started the container. Defaults to <code class="highlighter-rouge">false</code>.</td> <td><code class="highlighter-rouge">--log-opt log-cmd=false</code></td> </tr> <tr> <td><code class="highlighter-rouge">labels</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related labels this daemon will accept. Adds additional key on the <code class="highlighter-rouge">extra</code> fields, prefixed by an underscore (<code class="highlighter-rouge">_</code>). Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt labels=production_status,geo</code></td> <td> </td> <td> </td> </tr> <tr> <td><code class="highlighter-rouge">env</code></td> <td>Applies when starting the Docker daemon. A comma-separated list of logging-related environment variables this daemon will accept. Adds additional key on the <code class="highlighter-rouge">extra</code> fields, prefixed by an underscore (<code class="highlighter-rouge">_</code>). Used for advanced <a href="../log_tags/">log tag options</a>.</td> <td><code class="highlighter-rouge">--log-opt env=os,customer</code></td> <td> </td> <td> </td> </tr> </tbody> </table> <h3 id="examples-10">Examples</h3> <p>This example logs the start command and sets a label and an environment variable, which will be incorporated into the logs if the Docker daemon was started with the appropriate <code class="highlighter-rouge">--log-opt</code> options.</p> <pre class="highlight" data-language="bash">$ docker run --log-driver=gcplogs \
    --log-opt gcp-log-cmd=true \
    --env "TEST=false" \
    --label location=west \
    your/application \
</pre>  <p>For detailed information about working with the Google Cloud logging driver, see the <a href="../gcplogs/">Google Cloud Logging driver</a>. reference documentation.</p> <h2 id="nats-logging-options">NATS logging options</h2> <p>The NATS logging driver supports the following options:</p> <pre data-language="">--log-opt labels=&lt;label1&gt;,&lt;label2&gt;
--log-opt env=&lt;envvar1&gt;,&lt;envvar2&gt;
--log-opt tag=&lt;tag&gt;
--log-opt nats-servers="&lt;comma separated list of nats servers uris&gt;"
--log-opt nats-max-reconnect="&lt;max attempts to connect to a server&gt;"
--log-opt nats-subject="&lt;subject where logs are sent&gt;"
--log-opt nats-tls-ca-cert="&lt;absolute path to cert&gt;"
--log-opt nats-tls-cert="&lt;absolute path to cert&gt;"
--log-opt nats-tls-key="&lt;absolute path to cert&gt;"
--log-opt nats-tls-skip-verify="&lt;value&gt;"
</pre> <p>For detailed information, see <a href="../nats/">the NATS logging driver</a> reference documentation.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013–2016 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/engine/admin/logging/overview/" class="_attribution-link" target="_blank">https://docs.docker.com/engine/admin/logging/overview/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
