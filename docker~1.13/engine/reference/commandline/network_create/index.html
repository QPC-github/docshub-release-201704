
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Docker Network Create - Docker 1.13 - W3cubDocs</title>
  
  <meta name="description" content=" Create a network ">
  <meta name="keywords" content="docker, network, create, -, docker~1.13">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/docker~1.13/engine/reference/commandline/network_create/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/docker~1.13.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~1.13/" class="_nav-link" title="" style="margin-left:0;">Docker 1.13</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _docker">
				
<h1>docker network create</h1>    <h2 id="description">Description</h2> <p>Create a network</p> <h2 id="usage">Usage</h2> <pre class="highlight" data-language="shell">docker network create [OPTIONS] NETWORK
</pre>  <h2 id="options">Options</h2> <table> <thead> <tr> <th>Name, shorthand</th> <th>Default</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="highlighter-rouge">--attachable</code></td> <td><code class="highlighter-rouge">false</code></td> <td>Enable manual container attachment</td> </tr> <tr> <td><code class="highlighter-rouge">--aux-address</code></td> <td><code class="highlighter-rouge">map[]</code></td> <td>Auxiliary IPv4 or IPv6 addresses used by Network driver</td> </tr> <tr> <td><code class="highlighter-rouge">--driver, -d</code></td> <td><code class="highlighter-rouge">bridge</code></td> <td>Driver to manage the Network</td> </tr> <tr> <td><code class="highlighter-rouge">--gateway</code></td> <td> </td> <td>IPv4 or IPv6 Gateway for the master subnet</td> </tr> <tr> <td><code class="highlighter-rouge">--internal</code></td> <td><code class="highlighter-rouge">false</code></td> <td>Restrict external access to the network</td> </tr> <tr> <td><code class="highlighter-rouge">--ip-range</code></td> <td> </td> <td>Allocate container ip from a sub-range</td> </tr> <tr> <td><code class="highlighter-rouge">--ipam-driver</code></td> <td><code class="highlighter-rouge">default</code></td> <td>IP Address Management Driver</td> </tr> <tr> <td><code class="highlighter-rouge">--ipam-opt</code></td> <td><code class="highlighter-rouge">map[]</code></td> <td>Set IPAM driver specific options</td> </tr> <tr> <td><code class="highlighter-rouge">--ipv6</code></td> <td><code class="highlighter-rouge">false</code></td> <td>Enable IPv6 networking</td> </tr> <tr> <td><code class="highlighter-rouge">--label</code></td> <td> </td> <td>Set metadata on a network</td> </tr> <tr> <td><code class="highlighter-rouge">--opt, -o</code></td> <td><code class="highlighter-rouge">map[]</code></td> <td>Set driver specific options</td> </tr> <tr> <td><code class="highlighter-rouge">--subnet</code></td> <td> </td> <td>Subnet in CIDR format that represents a network segment</td> </tr> </tbody> </table> <h2 id="parent-command">Parent command</h2> <table> <thead> <tr> <th>Command</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href="../network/">docker network</a></td> <td>Manage networks</td> </tr> </tbody> </table> <h2 id="extended-description">Extended description</h2> <p>Creates a new network. The <code class="highlighter-rouge">DRIVER</code> accepts <code class="highlighter-rouge">bridge</code> or <code class="highlighter-rouge">overlay</code> which are the built-in network drivers. If you have installed a third party or your own custom network driver you can specify that <code class="highlighter-rouge">DRIVER</code> here also. If you don’t specify the <code class="highlighter-rouge">--driver</code> option, the command automatically creates a <code class="highlighter-rouge">bridge</code> network for you. When you install Docker Engine it creates a <code class="highlighter-rouge">bridge</code> network automatically. This network corresponds to the <code class="highlighter-rouge">docker0</code> bridge that Engine has traditionally relied on. When launch a new container with <code class="highlighter-rouge">docker run</code> it automatically connects to this bridge network. You cannot remove this default bridge network but you can create new ones using the <code class="highlighter-rouge">network create</code> command.</p> <pre class="highlight" data-language="bash">$ docker network create -d bridge my-bridge-network
</pre>  <p>Bridge networks are isolated networks on a single Engine installation. If you want to create a network that spans multiple Docker hosts each running an Engine, you must create an <code class="highlighter-rouge">overlay</code> network. Unlike <code class="highlighter-rouge">bridge</code> networks overlay networks require some pre-existing conditions before you can create one. These conditions are:</p> <ul> <li>Access to a key-value store. Engine supports Consul, Etcd, and Zookeeper (Distributed store) key-value stores.</li> <li>A cluster of hosts with connectivity to the key-value store.</li> <li>A properly configured Engine <code class="highlighter-rouge">daemon</code> on each host in the cluster.</li> </ul> <p>The <code class="highlighter-rouge">dockerd</code> options that support the <code class="highlighter-rouge">overlay</code> network are:</p> <ul> <li><code class="highlighter-rouge">--cluster-store</code></li> <li><code class="highlighter-rouge">--cluster-store-opt</code></li> <li><code class="highlighter-rouge">--cluster-advertise</code></li> </ul> <p>To read more about these options and how to configure them, see <a href="../../../userguide/networking/get-started-overlay/">“<em>Get started with multi-host network</em>”</a>.</p> <p>It is also a good idea, though not required, that you install Docker Swarm on to manage the cluster that makes up your network. Swarm provides sophisticated discovery and server management that can assist your implementation.</p> <p>Once you have prepared the <code class="highlighter-rouge">overlay</code> network prerequisites you simply choose a Docker host in the cluster and issue the following to create the network:</p> <pre class="highlight" data-language="bash">$ docker network create -d overlay my-multihost-network
</pre>  <p>Network names must be unique. The Docker daemon attempts to identify naming conflicts but this is not guaranteed. It is the user’s responsibility to avoid name conflicts.</p> <h2 id="connect-containers">Connect containers</h2> <p>When you start a container use the <code class="highlighter-rouge">--net</code> flag to connect it to a network. This adds the <code class="highlighter-rouge">busybox</code> container to the <code class="highlighter-rouge">mynet</code> network.</p> <pre class="highlight" data-language="bash">$ docker run -itd --net=mynet busybox
</pre>  <p>If you want to add a container to a network after the container is already running use the <code class="highlighter-rouge">docker network connect</code> subcommand.</p> <p>You can connect multiple containers to the same network. Once connected, the containers can communicate using only another container’s IP address or name. For <code class="highlighter-rouge">overlay</code> networks or custom plugins that support multi-host connectivity, containers connected to the same multi-host network but launched from different Engines can also communicate in this way.</p> <p>You can disconnect a container from a network using the <code class="highlighter-rouge">docker network disconnect</code> command.</p> <h2 id="specifying-advanced-options">Specifying advanced options</h2> <p>When you create a network, Engine creates a non-overlapping subnetwork for the network by default. This subnetwork is not a subdivision of an existing network. It is purely for ip-addressing purposes. You can override this default and specify subnetwork values directly using the <code class="highlighter-rouge">--subnet</code> option. On a <code class="highlighter-rouge">bridge</code> network you can only create a single subnet:</p> <pre class="highlight" data-language="bash">$ docker network create -d bridge --subnet=192.168.0.0/16 br0
</pre>  <p>Additionally, you also specify the <code class="highlighter-rouge">--gateway</code> <code class="highlighter-rouge">--ip-range</code> and <code class="highlighter-rouge">--aux-address</code> options.</p> <pre class="highlight" data-language="bash">$ docker network create \
  --driver=bridge \
  --subnet=172.28.0.0/16 \
  --ip-range=172.28.5.0/24 \
  --gateway=172.28.5.254 \
  br0
</pre>  <p>If you omit the <code class="highlighter-rouge">--gateway</code> flag the Engine selects one for you from inside a preferred pool. For <code class="highlighter-rouge">overlay</code> networks and for network driver plugins that support it you can create multiple subnetworks.</p> <pre class="highlight" data-language="bash">$ docker network create -d overlay \
  --subnet=192.168.0.0/16 \
  --subnet=192.170.0.0/16 \
  --gateway=192.168.0.100 \ 
  --gateway=192.170.0.100 \
  --ip-range=192.168.1.0/24 \
  --aux-address="my-router=192.168.1.5" --aux-address="my-switch=192.168.1.6" \
  --aux-address="my-printer=192.170.1.5" --aux-address="my-nas=192.170.1.6" \
  my-multihost-network
</pre>  <p>Be sure that your subnetworks do not overlap. If they do, the network create fails and Engine returns an error.</p> <h3 id="network-internal-mode">Network internal mode</h3> <p>By default, when you connect a container to an <code class="highlighter-rouge">overlay</code> network, Docker also connects a bridge network to it to provide external connectivity. If you want to create an externally isolated <code class="highlighter-rouge">overlay</code> network, you can specify the <code class="highlighter-rouge">--internal</code> option.</p> <h2 id="examples">Examples</h2> <pre class="highlight" data-language="bash">$ docker network create -d overlay my-multihost-network
</pre>  <p>Network names must be unique. The Docker daemon attempts to identify naming conflicts but this is not guaranteed. It is the user’s responsibility to avoid name conflicts.</p> <h3 id="connect-containers-1">Connect containers</h3> <p>When you start a container use the <code class="highlighter-rouge">--network</code> flag to connect it to a network. This adds the <code class="highlighter-rouge">busybox</code> container to the <code class="highlighter-rouge">mynet</code> network.</p> <pre class="highlight" data-language="bash">$ docker run -itd --network=mynet busybox
</pre>  <p>If you want to add a container to a network after the container is already running use the <code class="highlighter-rouge">docker network connect</code> subcommand.</p> <p>You can connect multiple containers to the same network. Once connected, the containers can communicate using only another container’s IP address or name. For <code class="highlighter-rouge">overlay</code> networks or custom plugins that support multi-host connectivity, containers connected to the same multi-host network but launched from different Engines can also communicate in this way.</p> <p>You can disconnect a container from a network using the <code class="highlighter-rouge">docker network disconnect</code> command.</p> <h3 id="specifying-advanced-options-1">Specifying advanced options</h3> <p>When you create a network, Engine creates a non-overlapping subnetwork for the network by default. This subnetwork is not a subdivision of an existing network. It is purely for ip-addressing purposes. You can override this default and specify subnetwork values directly using the <code class="highlighter-rouge">--subnet</code> option. On a <code class="highlighter-rouge">bridge</code> network you can only create a single subnet:</p> <pre class="highlight" data-language="bash">$ docker network create -d bridge --subnet=192.168.0.0/16 br0
</pre>  <p>Additionally, you also specify the <code class="highlighter-rouge">--gateway</code> <code class="highlighter-rouge">--ip-range</code> and <code class="highlighter-rouge">--aux-address</code> options.</p> <pre class="highlight" data-language="bash">$ docker network create \
  --driver=bridge \
  --subnet=172.28.0.0/16 \
  --ip-range=172.28.5.0/24 \
  --gateway=172.28.5.254 \
  br0
</pre>  <p>If you omit the <code class="highlighter-rouge">--gateway</code> flag the Engine selects one for you from inside a preferred pool. For <code class="highlighter-rouge">overlay</code> networks and for network driver plugins that support it you can create multiple subnetworks.</p> <pre class="highlight" data-language="bash">$ docker network create -d overlay \
  --subnet=192.168.0.0/16 \
  --subnet=192.170.0.0/16 \
  --gateway=192.168.0.100 \
  --gateway=192.170.0.100 \
  --ip-range=192.168.1.0/24 \
  --aux-address="my-router=192.168.1.5" --aux-address="my-switch=192.168.1.6" \
  --aux-address="my-printer=192.170.1.5" --aux-address="my-nas=192.170.1.6" \
  my-multihost-network
</pre>  <p>Be sure that your subnetworks do not overlap. If they do, the network create fails and Engine returns an error.</p> <h4 id="network-internal-mode-1">Network internal mode</h4> <p>By default, when you connect a container to an <code class="highlighter-rouge">overlay</code> network, Docker also connects a bridge network to it to provide external connectivity. If you want to create an externally isolated <code class="highlighter-rouge">overlay</code> network, you can specify the <code class="highlighter-rouge">--internal</code> option.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013–2016 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/engine/reference/commandline/network_create/" class="_attribution-link" target="_blank">https://docs.docker.com/engine/reference/commandline/network_create/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
