
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ControllerTestCase (Class) - CakePHP 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" ControllerTestCase class ">
  <meta name="keywords" content="class, controllertestcase, -, cakephp, cakephp~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~2.7/class-controllertestcase/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cakephp~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~2.7/" class="_nav-link" title="" style="margin-left:0;">CakePHP 2.7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cakephp">
				
<h1>Class ControllerTestCase</h1>  <p>ControllerTestCase class</p>  <dl class="tree"> <dd style="padding-left:0px"> PHPUnit_Framework_TestCase </dd> <dd style="padding-left:30px"> <img src="http://api.cakephp.org/2.7/resources/inherit.png" alt="Extended by"> <a href="../class-caketestcase/"><span>CakeTestCase</span></a> </dd> <dd style="padding-left:60px"> <img src="http://api.cakephp.org/2.7/resources/inherit.png" alt="Extended by"> <b><span>ControllerTestCase</span></b> </dd> </dl> <div class="info"> <b>Abstract</b><br> <b>Package:</b> <a href="../package-cake/">Cake</a>\<a href="../package-cake.testsuite/">TestSuite</a><br> <b>Copyright:</b> Copyright (c) Cake Software Foundation, Inc. (<a href="http://cakefoundation.org" target="_blank">http://cakefoundation.org</a>)<br> <b>License:</b> <a href="http://www.opensource.org/licenses/mit-license.php" target="_blank">MIT License</a><br> <b>Located at</b> <a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#108-386" title="Go to source code" target="_blank">Cake/TestSuite/ControllerTestCase.php</a><br> </div>  <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="___call"> <span class="name">__call</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#180-194" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">__call( string $name , array $arguments )</pre>  <p>Used to enable calling ControllerTestCase::testAction() without the testing framework thinking that it's a test case</p> <h4>Parameters</h4>  <dl> <dt> string <code>$name</code> </dt> <dd>The name of the function</dd> <dt> array <code>$arguments</code> </dt> <dd>Array of arguments</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>The return of _testAction.<br>  <h4>Throws</h4>  <code>BadMethodCallException</code><br>when you call methods that don't exist.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__testAction"> <span class="name">_testAction</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#196-293" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_testAction( string|array $url , array $options array() )</pre>  <p>Lets you do functional tests of a controller action.</p> <h2>Options:</h2> <ul> <li>
<code>data</code> Will be used as the request data. If the <code>method</code> is GET, data will be used a GET params. If the <code>method</code> is POST, it will be used as POST data. By setting <code>$options['data']</code> to a string, you can simulate XML or JSON payloads to your controllers allowing you to test REST webservices.</li> <li>
<code>method</code> POST or GET. Defaults to POST.</li> <li>
<code>return</code> Specify the return type you want. Choose from: - <code>vars</code> Get the set view variables. - <code>view</code> Get the rendered view, without a layout. - <code>contents</code> Get the rendered view including the layout. - <code>result</code> Get the return value of the controller action. Useful for testing requestAction methods.</li> </ul> <h4>Parameters</h4>  <dl> <dt> string|array <code>$url</code> </dt> <dd>The URL to test.</dd> <dt> array <code>$options</code> <span class="label">optional</span> <span class="php-keyword1">array</span>() </dt> <dd>See options</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>The specified return type.<br>  <h4>Triggers</h4>  ControllerTestCase $Dispatch, array('request' =&gt; $request)<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_generate"> <span class="name">generate</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#295-384" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">generate( string $controller , array $mocks array() )</pre>  <p>Generates a mocked controller and mocks any classes passed to <code>$mocks</code>. By default, <code>_stop()</code> is stubbed as is sending the response headers, so to not interfere with testing.</p> <h2>Mocks:</h2> <ul> <li>
<code>methods</code> Methods to mock on the controller. <code>_stop()</code> is mocked by default</li> <li>
<code>models</code> Models to mock. Models are added to the ClassRegistry so any time they are instantiated the mock will be created. Pass as key value pairs with the value being specific methods on the model to mock. If <code>true</code> or no value is passed, the entire model will be mocked.</li> <li>
<code>components</code> Components to mock. Components are only mocked on this controller and not within each other (i.e., components on components)</li> </ul> <h4>Parameters</h4>  <dl> <dt> string <code>$controller</code> </dt> <dd>Controller name</dd> <dt> array <code>$mocks</code> <span class="label">optional</span> <span class="php-keyword1">array</span>() </dt> <dd>List of classes and methods to mock</dd> </dl>  <h4>Returns</h4>  <code><a href="../class-controller/">Controller</a></code><br>Mocked controller<br>  <h4>Throws</h4>  <code><a href="../class-missingcontrollerexception/">MissingControllerException</a></code><br>When controllers could not be created.<br> <code><a href="../class-missingcomponentexception/">MissingComponentException</a></code><br>When components could not be created.<br>   </div>   <h2>Methods inherited from <a href="../class-caketestcase/#methods">CakeTestCase</a>
</h2> <div class="method-detail">   <h3 class="method-name" id="__assertAttributes"> <span class="name">_assertAttributes</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#509-537" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_assertAttributes( array $assertions , string $string )</pre>  <p>Check the attributes as part of an assertTags() check.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$assertions</code> </dt> <dd>Assertions to run.</dd> <dt> string <code>$string</code> </dt> <dd>The HTML string to check.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertEqual"> <span class="name">assertEqual</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#541-552" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertEqual( mixed $result , mixed $expected , string $message '' )</pre>  <p>Compatibility wrapper function for assertEquals</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$result</code> </dt>  <dt> mixed <code>$expected</code> </dt>  <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertIdentical"> <span class="name">assertIdentical</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#580-591" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertIdentical( mixed $actual , mixed $expected , string $message '' )</pre>  <p>Compatibility wrapper function for assertEquals</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$actual</code> </dt>  <dt> mixed <code>$expected</code> </dt>  <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertIsA"> <span class="name">assertIsA</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#668-679" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertIsA( string $object , string $type , string $message '' )</pre>  <p>Compatibility wrapper for assertIsA</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> string <code>$object</code> </dt>  <dt> string <code>$type</code> </dt>  <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt>  </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertNoErrors"> <span class="name">assertNoErrors</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#619-626" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">assertNoErrors( )</pre>  <p>assert no errors</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertNoPattern"> <span class="name">assertNoPattern</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#606-617" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertNoPattern( mixed $pattern , string $string , string $message '' )</pre>  <p>Compatibility wrapper function for assertNotRegExp</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$pattern</code> </dt> <dd>a regular expression</dd> <dt> string <code>$string</code> </dt> <dd>the text to be matched</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertNotEqual"> <span class="name">assertNotEqual</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#554-565" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertNotEqual( mixed $result , mixed $expected , string $message '' )</pre>  <p>Compatibility wrapper function for assertNotEquals</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$result</code> </dt>  <dt> mixed <code>$expected</code> </dt>  <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertNotIdentical"> <span class="name">assertNotIdentical</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#593-604" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertNotIdentical( mixed $actual , mixed $expected , string $message '' )</pre>  <p>Compatibility wrapper function for assertNotEquals</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$actual</code> </dt>  <dt> mixed <code>$expected</code> </dt>  <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertPattern"> <span class="name">assertPattern</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#567-578" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertPattern( mixed $pattern , string $string , string $message '' )</pre>  <p>Compatibility wrapper function for assertRegexp</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$pattern</code> </dt> <dd>a regular expression</dd> <dt> string <code>$string</code> </dt> <dd>the text to be matched</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertPostConditions"> <span class="name">assertPostConditions</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#184-192" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">assertPostConditions( )</pre>  <p>Announces the end of a test.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_assertPreConditions"> <span class="name">assertPreConditions</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#174-182" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">assertPreConditions( )</pre>  <p>Announces the start of a test.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_assertReference"> <span class="name">assertReference</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#655-666" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertReference( mixed $first , mixed $second , string $message '' )</pre>  <p>Compatibility wrapper function for assertSame</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$first</code> </dt>  <dt> mixed <code>$second</code> </dt>  <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTags"> <span class="name">assertTags</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#337-507" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTags( string $string , array $expected , string $fullDebug false )</pre>  <p>Takes an array $expected and generates a regex from it to match the provided $string. Samples for $expected:</p> <p>Checks for an input tag with a name attribute (contains any non-empty value) and an id attribute that contains 'my-input':</p> <pre>
<span class="php-keyword1">array</span>(<span class="php-quote">'input'</span> =&gt; <span class="php-keyword1">array</span>(<span class="php-quote">'name'</span>, <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'my-input'</span>))
</pre> <p>Checks for two p elements with some text in them:</p> <pre>
<span class="php-keyword1">array</span>(
  <span class="php-keyword1">array</span>(<span class="php-quote">'p'</span> =&gt; <span class="php-keyword1">true</span>),
  <span class="php-quote">'textA'</span>,
  <span class="php-quote">'/p'</span>,
  <span class="php-keyword1">array</span>(<span class="php-quote">'p'</span> =&gt; <span class="php-keyword1">true</span>),
  <span class="php-quote">'textB'</span>,
  <span class="php-quote">'/p'</span>
)
</pre> <p>You can also specify a pattern expression as part of the attribute values, or the tag being defined, if you prepend the value with preg: and enclose it with slashes, like so:</p> <pre>
<span class="php-keyword1">array</span>(
  <span class="php-keyword1">array</span>(<span class="php-quote">'input'</span> =&gt; <span class="php-keyword1">array</span>(<span class="php-quote">'name'</span>, <span class="php-quote">'id'</span> =&gt; <span class="php-quote">'preg:/FieldName\d+/'</span>)),
  <span class="php-quote">'preg:/My\s+field/'</span>
)
</pre> <p>Important: This function is very forgiving about whitespace and also accepts any permutation of attribute order. It will also allow whitespace between specified tags.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$string</code> </dt> <dd>An HTML/XHTML/XML string</dd> <dt> array <code>$expected</code> </dt> <dd>An array, see above</dd> <dt> string <code>$fullDebug</code> <span class="label">optional</span> <span class="php-keyword1">false</span> </dt> <dd>Whether or not more verbose output should be used.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextContains"> <span class="name">assertTextContains</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#305-319" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextContains( string $needle , string $haystack , string $message '' , boolean $ignoreCase false )</pre>  <p>Assert that a string contains another string, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$needle</code> </dt> <dd>The string to search for.</dd> <dt> string <code>$haystack</code> </dt> <dd>The string to search through.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to display on failure.</dd> <dt> boolean <code>$ignoreCase</code> <span class="label">optional</span> <span class="php-keyword1">false</span> </dt> <dd>Whether or not the search should be case-sensitive.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextEndsNotWith"> <span class="name">assertTextEndsNotWith</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#290-303" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextEndsNotWith( string $suffix , string $string , string $message '' )</pre>  <p>Asserts that a string ends not with a given prefix, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$suffix</code> </dt> <dd>The suffix to not find.</dd> <dt> string <code>$string</code> </dt> <dd>The string to search.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to use for failure.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextEndsWith"> <span class="name">assertTextEndsWith</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#275-288" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextEndsWith( string $suffix , string $string , string $message '' )</pre>  <p>Asserts that a string ends with a given prefix, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$suffix</code> </dt> <dd>The suffix to find.</dd> <dt> string <code>$string</code> </dt> <dd>The string to search.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to use for failure.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextEquals"> <span class="name">assertTextEquals</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#230-243" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextEquals( string $expected , string $result , string $message '' )</pre>  <p>Assert text equality, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$expected</code> </dt> <dd>The expected value.</dd> <dt> string <code>$result</code> </dt> <dd>The actual value.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>message The message to use for failure.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextNotContains"> <span class="name">assertTextNotContains</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#321-335" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextNotContains( string $needle , string $haystack , string $message '' , boolean $ignoreCase false )</pre>  <p>Assert that a text doesn't contain another text, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$needle</code> </dt> <dd>The string to search for.</dd> <dt> string <code>$haystack</code> </dt> <dd>The string to search through.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to display on failure.</dd> <dt> boolean <code>$ignoreCase</code> <span class="label">optional</span> <span class="php-keyword1">false</span> </dt> <dd>Whether or not the search should be case-sensitive.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextNotEquals"> <span class="name">assertTextNotEquals</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#215-228" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextNotEquals( string $expected , string $result , string $message '' )</pre>  <p>Assert text equality, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$expected</code> </dt> <dd>The expected value.</dd> <dt> string <code>$result</code> </dt> <dd>The actual value.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to use for failure.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextStartsNotWith"> <span class="name">assertTextStartsNotWith</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#260-273" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextStartsNotWith( string $prefix , string $string , string $message '' )</pre>  <p>Asserts that a string starts not with a given prefix, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$prefix</code> </dt> <dd>The prefix to not find.</dd> <dt> string <code>$string</code> </dt> <dd>The string to search.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to use for failure.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertTextStartsWith"> <span class="name">assertTextStartsWith</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#245-258" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">assertTextStartsWith( string $prefix , string $string , string $message '' )</pre>  <p>Asserts that a string starts with a given prefix, ignoring differences in newlines. Helpful for doing cross platform tests of blocks of text.</p> <h4>Parameters</h4>  <dl> <dt> string <code>$prefix</code> </dt> <dd>The prefix to check for.</dd> <dt> string <code>$string</code> </dt> <dd>The string to search in.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to use for failure.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_assertWithinMargin"> <span class="name">assertWithinMargin</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#681-694" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">assertWithinMargin( mixed $result , mixed $expected , mixed $margin , string $message '' )</pre>  <p>Compatibility function to test if value is between an acceptable range</p> <h4>Parameters</h4>  <dl> <dt> mixed <code>$result</code> </dt>  <dt> mixed <code>$expected</code> </dt>  <dt> mixed <code>$margin</code> </dt> <dd>the rage of acceptation</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_date"> <span class="name">date</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#162-170" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">date( string $format 'Y-m-d H:i:s' )</pre>  <p>See CakeTestSuiteDispatcher::date()</p> <h4>Parameters</h4>  <dl> <dt> string <code>$format</code> <span class="label">optional</span> <span class="php-quote">'Y-m-d H:i:s'</span> </dt> <dd>format to be used.</dd> </dl>  <h4>Returns</h4>  <code>string</code><br>string<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_endTest"> <span class="name">endTest</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#98-105" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">endTest( string $method )</pre>  <p>Called when a test case method has been executed (to be overridden when needed.)</p> <h4>Parameters</h4>  <dl> <dt> string <code>$method</code> </dt> <dd>Test method about that was executed.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_expectError"> <span class="name">expectError</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#628-641" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">expectError( mixed $expected false , string $message '' )</pre>  <p>Compatibility wrapper function for setExpectedException</p> <h4>Deprecated</h4>  3.0.0 This is a compatiblity wrapper for 1.x. It will be removed in 3.0<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$expected</code> <span class="label">optional</span> <span class="php-keyword1">false</span> </dt> <dd>the name of the Exception or error</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_expectException"> <span class="name">expectException</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#643-653" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">expectException( mixed $name 'Exception' , string $message '' )</pre>  <p>Compatibility wrapper function for setExpectedException</p> <h4>Deprecated</h4>  3.0.0 This is a compatibility wrapper for 1.x. It will be removed in 3.0.<br>  <h4>Parameters</h4>  <dl> <dt> mixed <code>$name</code> <span class="label">optional</span> <span class="php-quote">'Exception'</span> </dt> <dd>The name of the expected Exception.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>the text to display if the assertion is not correct</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_getMockForModel"> <span class="name">getMockForModel</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#711-746" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">getMockForModel( string $model , mixed $methods array() , array $config array() )</pre>  <p>Mock a model, maintain fixtures and table association</p> <h4>Parameters</h4>  <dl> <dt> string <code>$model</code> </dt> <dd>The model to get a mock for.</dd> <dt> mixed <code>$methods</code> <span class="label">optional</span> <span class="php-keyword1">array</span>() </dt> <dd>The list of methods to mock</dd> <dt> array <code>$config</code> <span class="label">optional</span> <span class="php-keyword1">array</span>() </dt> <dd>The config data for the mock's constructor.</dd> </dl>  <h4>Returns</h4>  <code><a href="../class-model/">Model</a></code><br>Model<br>  <h4>Throws</h4>  <code><a href="../class-missingmodelexception/">MissingModelException</a></code><br>MissingModelException<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_loadFixtures"> <span class="name">loadFixtures</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#196-213" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">loadFixtures( )</pre>  <p>Chooses which fixtures to load for a given test</p> <p>Each parameter is a model name that corresponds to a fixture, i.e. 'Post', 'Author', etc.</p> <h4>Throws</h4>  <code>Exception</code><br>when no fixture manager is available.<br>  <h4>See</h4>  <code><a href="../class-caketestcase/#%24autoFixtures">CakeTestCase::$autoFixtures</a></code><br>   </div> <div class="method-detail">   <h3 class="method-name" id="_run"> <span class="name">run</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#69-87" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">run( PHPUnit_Framework_TestResult $result null )</pre>  <p>Runs the test case and collects the results in a TestResult object. If no TestResult object is passed a new one will be created. This method is run for each test method in this class</p> <h4>Parameters</h4>  <dl> <dt> PHPUnit_Framework_TestResult <code>$result</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The test result object</dd> </dl>  <h4>Returns</h4>  <code>PHPUnit_Framework_TestResult</code><br>PHPUnit_Framework_TestResult<br>  <h4>Throws</h4>  <code>InvalidArgumentException</code><br>InvalidArgumentException<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_setUp"> <span class="name">setUp</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#121-140" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">setUp( )</pre>  <p>Setup the test case, backup the static object values so they can be restored. Specifically backs up the contents of Configure and paths in App if they have not already been backed up.</p>  </div> <div class="method-detail">   <h3 class="method-name" id="_skipIf"> <span class="name">skipIf</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#107-119" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">skipIf( boolean $shouldSkip , string $message '' )</pre>  <p>Overrides SimpleTestCase::skipIf to provide a boolean return value</p> <h4>Parameters</h4>  <dl> <dt> boolean <code>$shouldSkip</code> </dt> <dd>Whether or not the test should be skipped.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>The message to display.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_skipUnless"> <span class="name">skipUnless</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#696-708" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">skipUnless( boolean $condition , string $message '' )</pre>  <p>Compatibility function for skipping.</p> <h4>Parameters</h4>  <dl> <dt> boolean <code>$condition</code> </dt> <dd>Condition to trigger skipping</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-quote">''</span> </dt> <dd>Message for skip</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_startTest"> <span class="name">startTest</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#89-96" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">startTest( string $method )</pre>  <p>Called when a test case method is about to start (to be overridden when needed.)</p> <h4>Parameters</h4>  <dl> <dt> string <code>$method</code> </dt> <dd>Test method about to get executed.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_tearDown"> <span class="name">tearDown</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#142-160" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">tearDown( )</pre>  <p>teardown any static object changes and restore them.</p>  </div>   <h2>Properties summary</h2> <table class="summary properties" id="properties"> <div class="property-detail"> <h3 class="property-name" id="$_dirtyController"> <span class="name">$_dirtyController</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#171-178" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> boolean </p>  <p>Flag for checking if the controller instance is dirty. Once a test has been run on a controller it should be rebuilt to clean up properties.</p> <div class="default-value"> <pre><span class="php-keyword1">false</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$autoMock"> <span class="name">$autoMock</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#122-127" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> boolean </p>  <p>Automatically mock controllers that aren't mocked</p> <div class="default-value"> <pre><span class="php-keyword1">true</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$contents"> <span class="name">$contents</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#150-155" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> string </p>  <p>The resulting rendered layout+view of the last testAction call</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$controller"> <span class="name">$controller</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#115-120" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> <code><a href="../class-controller/">Controller</a></code> </p>  <p>The controller to test in testAction</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$headers"> <span class="name">$headers</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#164-169" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> string </p>  <p>The headers that would have been sent by the action</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$loadRoutes"> <span class="name">$loadRoutes</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#129-134" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> boolean </p>  <p>Use custom routes during tests</p> <div class="default-value"> <pre><span class="php-keyword1">true</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$result"> <span class="name">$result</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#157-162" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> string </p>  <p>The returned result of the dispatch (requestAction), if any</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$vars"> <span class="name">$vars</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#136-141" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> array </p>  <p>The resulting view vars of the last testAction call</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$view"> <span class="name">$view</span><a href="http://api.cakephp.org/2.7/source-class-ControllerTestCase.html#143-148" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> string </p>  <p>The resulting rendered view of the last testAction call</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> </table>   <h2>Properties inherited from <a href="../class-caketestcase/#properties">CakeTestCase</a>
</h2> <div class="summary properties inherited"> <div class="property-detail"> <h3 class="property-name" id="$_configure"> <span class="name">$_configure</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#55-60" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Configure values to restore at end of test.</p> <div class="default-value"> <pre><span class="php-keyword1">array</span>()</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_pathRestore"> <span class="name">$_pathRestore</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#62-67" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>Path settings to restore at the end of the test.</p> <div class="default-value"> <pre><span class="php-keyword1">array</span>()</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$autoFixtures"> <span class="name">$autoFixtures</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#36-42" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> array </p>  <p>By default, all fixtures attached to this class will be truncated and reloaded after each test. Set this to false to handle manually</p> <div class="default-value"> <pre><span class="php-keyword1">true</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$dropTables"> <span class="name">$dropTables</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#44-53" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> boolean </p>  <p>Control table create/drops on each test method.</p> <p>Set this to false to avoid tables to be dropped if they already exist between each test method. Tables will still be dropped at the end of each test runner execution.</p> <div class="default-value"> <pre><span class="php-keyword1">true</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$fixtureManager"> <span class="name">$fixtureManager</span><a href="http://api.cakephp.org/2.7/source-class-CakeTestCase.html#29-34" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> <code><a href="../class-cakefixturemanager/">CakeFixtureManager</a></code> </p>  <p>The class responsible for managing the creation, loading and removing of fixtures</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2016 The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="http://api.cakephp.org/2.7/class-ControllerTestCase.html" class="_attribution-link" target="_blank">http://api.cakephp.org/2.7/class-ControllerTestCase.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
