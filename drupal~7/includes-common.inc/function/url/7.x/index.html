
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Url - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Generates an internal or external URL. ">
  <meta name="keywords" content="function, url, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/includes-common.inc/function/url/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">function url</h1>     <pre class="signature">url($path = NULL, array $options = array())</pre> <p>Generates an internal or external URL.</p> <p>When creating links in modules, consider whether <a href="../../l/7.x/" title="Formats an internal or external URL link as an HTML anchor tag." class="local">l</a>() could be a better alternative than <a href="../7.x/" title="Generates an internal or external URL." class="local active">url</a>().</p> <h3>Parameters</h3> <p> <strong>$path</strong>: (optional) The internal path or external URL being linked to, such as "node/34" or "<a href="#">http://example.com/foo"</a>. The default value is equivalent to passing in '&lt;front&gt;'. A few notes:</p> <ul> <li>If you provide a full URL, it will be considered an external URL.</li> <li>If you provide only the path (e.g. "node/34"), it will be considered an internal link. In this case, it should be a system URL, and it will be replaced with the alias, if one exists. Additional query arguments for internal paths must be supplied in $options['query'], not included in $path.</li> <li>If you provide an internal path and $options['alias'] is set to TRUE, the path is assumed already to be the correct path alias, and the alias is not looked up.</li> <li>The special string '&lt;front&gt;' generates a link to the site's base URL.</li> <li>If your external URL contains a query (e.g. <a href="http://example.com/foo?a=b" target="_blank">http://example.com/foo?a=b</a>), then you can either URL encode the query keys and values yourself and include them in $path, or use $options['query'] to let this function URL encode them.</li> </ul> <p><strong>$options</strong>: (optional) An associative array of additional options, with the following elements:</p> <ul> <li>
<strong>'query'</strong>: An array of query key/value-pairs (without any URL-encoding) to append to the URL.</li> <li>
<strong>'fragment'</strong>: A fragment identifier (named anchor) to append to the URL. Do not include the leading '#' character.</li> <li>
<strong>'absolute'</strong>: Defaults to FALSE. Whether to force the output to be an absolute link (beginning with http:). Useful for links that will be displayed outside the site, such as in an RSS feed.</li> <li>
<strong>'alias'</strong>: Defaults to FALSE. Whether the given path is a URL alias already.</li> <li>
<strong>'external'</strong>: Whether the given path is an external URL.</li> <li>
<strong>'language'</strong>: An optional language object. If the path being linked to is internal to the site, $options['language'] is used to look up the alias for the URL. If $options['language'] is omitted, the global $language_url will be used.</li> <li>
<strong>'https'</strong>: Whether this URL should point to a secure location. If not defined, the current scheme is used, so the user stays on HTTP or HTTPS respectively. TRUE enforces HTTPS and FALSE enforces HTTP, but HTTPS can only be enforced when the variable 'https' is set to TRUE.</li> <li>
<strong>'base_url'</strong>: Only used internally, to modify the base URL when a language dependent URL requires so.</li> <li>
<strong>'prefix'</strong>: Only used internally, to modify the path when a language dependent URL requires so.</li> <li>
<strong>'script'</strong>: The script filename in Drupal's root directory to use when clean URLs are disabled, such as 'index.php'. Defaults to an empty string, as most modern web servers automatically find 'index.php'. If clean URLs are disabled, the value of $path is appended as query parameter 'q' to $options['script'] in the returned URL. When deploying Drupal on a web server that cannot be configured to automatically find <a href="https://api.drupal.org/api/drupal/7.x/search/index.php" title="Multiple implementations exist." class="local" target="_blank">index.php</a>, then <a href="../../../../modules-system-system.api.php/function/hook_url_outbound_alter/7.x/" title="Alters outbound URLs." class="local">hook_url_outbound_alter</a>() can be implemented to force this value to 'index.php'.</li> <li>
<strong>'entity_type'</strong>: The entity type of the object that called <a href="../7.x/" title="Generates an internal or external URL." class="local active">url</a>(). Only set if <a href="../7.x/" title="Generates an internal or external URL." class="local active">url</a>() is invoked by <a href="../../entity_uri/7.x/" title="Returns the URI elements of an entity." class="local">entity_uri</a>().</li> <li>
<strong>'entity'</strong>: The entity object (such as a node) for which the URL is being generated. Only set if <a href="../7.x/" title="Generates an internal or external URL." class="local active">url</a>() is invoked by <a href="../../entity_uri/7.x/" title="Returns the URI elements of an entity." class="local">entity_uri</a>().</li> </ul> <h3>Return value</h3> <p> A string containing a URL to the given path.</p>  <h3>File</h3> 
<dl> <dt>includes/<a href="../../../7.x/">common.inc</a>, line 2229</dt> <dd>Common functions that many Drupal modules will need to reference.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function url($path = NULL, array $options = array()) {
  // Merge in defaults.
  $options += array(
    'fragment' =&gt; '',
    'query' =&gt; array(),
    'absolute' =&gt; FALSE,
    'alias' =&gt; FALSE,
    'prefix' =&gt; ''
  );

  if (!isset($options['external'])) {
    $options['external'] = url_is_external($path);
  }

  // Preserve the original path before altering or aliasing.
  $original_path = $path;

  // Allow other modules to alter the outbound URL and options.
  drupal_alter('url_outbound', $path, $options, $original_path);

  if (isset($options['fragment']) &amp;&amp; $options['fragment'] !== '') {
    $options['fragment'] = '#' . $options['fragment'];
  }

  if ($options['external']) {
    // Split off the fragment.
    if (strpos($path, '#') !== FALSE) {
      list($path, $old_fragment) = explode('#', $path, 2);
      // If $options contains no fragment, take it over from the path.
      if (isset($old_fragment) &amp;&amp; !$options['fragment']) {
        $options['fragment'] = '#' . $old_fragment;
      }
    }
    // Append the query.
    if ($options['query']) {
      $path .= (strpos($path, '?') !== FALSE ? '&amp;' : '?') . drupal_http_build_query($options['query']);
    }
    if (isset($options['https']) &amp;&amp; variable_get('https', FALSE)) {
      if ($options['https'] === TRUE) {
        $path = str_replace('http://', 'https://', $path);
      }
      elseif ($options['https'] === FALSE) {
        $path = str_replace('https://', 'http://', $path);
      }
    }
    // Reassemble.
    return $path . $options['fragment'];
  }

  // Strip leading slashes from internal paths to prevent them becoming external
  // URLs without protocol. /example.com should not be turned into
  // //example.com.
  $path = ltrim($path, '/');

  global $base_url, $base_secure_url, $base_insecure_url;

  // The base_url might be rewritten from the language rewrite in domain mode.
  if (!isset($options['base_url'])) {
    if (isset($options['https']) &amp;&amp; variable_get('https', FALSE)) {
      if ($options['https'] === TRUE) {
        $options['base_url'] = $base_secure_url;
        $options['absolute'] = TRUE;
      }
      elseif ($options['https'] === FALSE) {
        $options['base_url'] = $base_insecure_url;
        $options['absolute'] = TRUE;
      }
    }
    else {
      $options['base_url'] = $base_url;
    }
  }

  // The special path '&lt;front&gt;' links to the default front page.
  if ($path == '&lt;front&gt;') {
    $path = '';
  }
  elseif (!empty($path) &amp;&amp; !$options['alias']) {
    $language = isset($options['language']) &amp;&amp; isset($options['language']-&gt;language) ? $options['language']-&gt;language : '';
    $alias = drupal_get_path_alias($original_path, $language);
    if ($alias != $original_path) {
      $path = $alias;
    }
  }

  $base = $options['absolute'] ? $options['base_url'] . '/' : base_path();
  $prefix = empty($path) ? rtrim($options['prefix'], '/') : $options['prefix'];

  // With Clean URLs.
  if (!empty($GLOBALS['conf']['clean_url'])) {
    $path = drupal_encode_path($prefix . $path);
    if ($options['query']) {
      return $base . $path . '?' . drupal_http_build_query($options['query']) . $options['fragment'];
    }
    else {
      return $base . $path . $options['fragment'];
    }
  }
  // Without Clean URLs.
  else {
    $path = $prefix . $path;
    $query = array();
    if (!empty($path)) {
      $query['q'] = $path;
    }
    if ($options['query']) {
      // We do not use array_merge() here to prevent overriding $path via query
      // parameters.
      $query += $options['query'];
    }
    $query = $query ? ('?' . drupal_http_build_query($query)) : '';
    $script = isset($options['script']) ? $options['script'] : '';
    return $base . $script . $query . $options['fragment'];
  }
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/includes!common.inc/function/url/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/includes!common.inc/function/url/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
