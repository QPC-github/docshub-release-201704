
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Hook_update_projects_alter - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Alter the list of projects before fetching data and comparing versions. ">
  <meta name="keywords" content="function, hook, update, projects, alter, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/modules-update-update.api.php/function/hook_update_projects_alter/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">function hook_update_projects_alter</h1>     <pre class="signature">hook_update_projects_alter(&amp;$projects)</pre> <p>Alter the list of projects before fetching data and comparing versions.</p> <p>Most modules will never need to implement this hook. It is for advanced interaction with the Update Manager module. The primary use-case for this hook is to add projects to the list; for example, to provide update status data on disabled modules and themes. A contributed module might want to hide projects from the list; for example, if there is a site-specific module that doesn't have any official releases, that module could remove itself from this list to avoid "No available releases found" warnings on the available updates report. In rare cases, a module might want to alter the data associated with a project already in the list.</p> <h3>Parameters</h3> <p> <strong>$projects</strong>: Reference to an array of the projects installed on the system. This includes all the metadata documented in the comments below for each project (either module or theme) that is currently enabled. The array is initially populated inside <a href="../../../../modules-update-update.compare.inc/function/update_get_projects/7.x/" title="Fetches an array of installed and enabled projects." class="local">update_get_projects</a>() with the help of <a href="../../../../modules-update-update.compare.inc/function/_update_process_info_list/7.x/" title="Populates an array of project data." class="local">_update_process_info_list</a>(), so look there for examples of how to populate the array with real values.</p> <h3>See also</h3> <p> <a href="../../../../modules-update-update.compare.inc/function/update_get_projects/7.x/" title="Fetches an array of installed and enabled projects." class="local">update_get_projects</a>()</p> <p><a href="../../../../modules-update-update.compare.inc/function/_update_process_info_list/7.x/" title="Populates an array of project data." class="local">_update_process_info_list</a>()</p> <h3>Related topics</h3> <div class="view view-api-references view-id-api_references view-display-id-block_related_topics view-dom-id-1853fe5078c99e712b70655c606ee78a"> <div class="view-content"> <dl api-related-topics> <dt><a href="../../../../includes-module.inc/group/hooks/7.x/">Hooks</a></dt> <dd>Allow modules to interact with the Drupal core.</dd> </dl> </div> </div>  <h3>File</h3> 
<dl> <dt>modules/update/<a href="../../../7.x/">update.api.php</a>, line 37</dt> <dd>Hooks provided by the Update Manager module.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function hook_update_projects_alter(&amp;$projects) {
  // Hide a site-specific module from the list.
  unset($projects['site_specific_module']);

  // Add a disabled module to the list.
  // The key for the array should be the machine-readable project "short name".
  $projects['disabled_project_name'] = array(
    // Machine-readable project short name (same as the array key above).
    'name' =&gt; 'disabled_project_name',
    // Array of values from the main .info file for this project.
    'info' =&gt; array(
      'name' =&gt; 'Some disabled module',
      'description' =&gt; 'A module not enabled on the site that you want to see in the available updates report.',
      'version' =&gt; '7.x-1.0',
      'core' =&gt; '7.x',
      // The maximum file change time (the "ctime" returned by the filectime()
      // PHP method) for all of the .info files included in this project.
      '_info_file_ctime' =&gt; 1243888165,
    ),
    // The date stamp when the project was released, if known. If the disabled
    // project was an officially packaged release from drupal.org, this will
    // be included in the .info file as the 'datestamp' field. This only
    // really matters for development snapshot releases that are regenerated,
    // so it can be left undefined or set to 0 in most cases.
    'datestamp' =&gt; 1243888185,
    // Any modules (or themes) included in this project. Keyed by machine-
    // readable "short name", value is the human-readable project name printed
    // in the UI.
    'includes' =&gt; array(
      'disabled_project' =&gt; 'Disabled module',
      'disabled_project_helper' =&gt; 'Disabled module helper module',
      'disabled_project_foo' =&gt; 'Disabled module foo add-on module',
    ),
    // Does this project contain a 'module', 'theme', 'disabled-module', or
    // 'disabled-theme'?
    'project_type' =&gt; 'disabled-module',
  );
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/modules!update!update.api.php/function/hook_update_projects_alter/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/modules!update!update.api.php/function/hook_update_projects_alter/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
