
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>update.manager.inc - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Administrative screens and processing functions of the Update Manager module. ">
  <meta name="keywords" content="update, manager, inc, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/modules-update-update.manager.inc/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">update.manager.inc</h1>      <p>Administrative screens and processing functions of the Update Manager module.</p> <p>This allows site administrators with the 'administer software updates' permission to either upgrade existing projects, or download and install new ones, so long as the killswitch setting ('allow_authorize_operations') is still TRUE.</p> <p>To install new code, the administrator is prompted for either the URL of an archive file, or to directly upload the archive file. The archive is loaded into a temporary location, extracted, and verified. If everything is successful, the user is redirected to <a href="../../authorize.php/7.x/" title="Administrative script for running authorized file operations." class="local">authorize.php</a> to type in file transfer credentials and authorize the installation to proceed with elevated privileges, such that the extracted files can be copied out of the temporary location and into the live web root.</p> <p>Updating existing code is a more elaborate process. The first step is a selection form where the user is presented with a table of installed projects that are missing newer releases. The user selects which projects they wish to update, and presses the "Download updates" button to continue. This sets up a batch to fetch all the selected releases, and redirects to admin/update/download to display the batch progress bar as it runs. Each batch operation is responsible for downloading a single file, extracting the archive, and verifying the contents. If there are any errors, the user is redirected back to the first page with the error messages. If all downloads were extacted and verified, the user is instead redirected to admin/update/ready, a landing page which reminds them to backup their database and asks if they want to put the site offline during the update. Once the user presses the "Install updates" button, they are redirected to <a href="../../authorize.php/7.x/" title="Administrative script for running authorized file operations." class="local">authorize.php</a> to supply their web root file access credentials. The authorized operation (which lives in <a href="../../modules-update-update.authorize.inc/7.x/" title="Callbacks and related functions invoked by authorize.php to update projects." class="local">update.authorize.inc</a>) sets up a batch to copy each extracted update from the temporary location into the live web root.</p> <h3>File</h3> modules/update/update.manager.inc  <h3>Functions</h3>
<div class="view view-api-listings view-id-api_listings view-display-id-block_items_file view-dom-id-53b0b8387c9c2861ca8b3c5115bc40de"> <div class="view-content"> <table class="views-table cols-2"> <thead> <tr> <th class="views-field views-field-title active" scope="col"> Name </th> <th class="views-field views-field-summary" scope="col"> Description </th> </tr> </thead> <tbody> <tr class="odd views-row-first"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/theme_update_manager_update_form/7.x/">theme_update_manager_update_form</a> </td> <td class="views-field views-field-summary" data-th="Description"> Returns HTML for the first page in the process of updating projects. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_archive_extract/7.x/">update_manager_archive_extract</a> </td> <td class="views-field views-field-summary" data-th="Description"> Unpacks a downloaded archive file. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_archive_verify/7.x/">update_manager_archive_verify</a> </td> <td class="views-field views-field-summary" data-th="Description"> Verifies an archive after it has been downloaded and extracted. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_batch_project_get/7.x/">update_manager_batch_project_get</a> </td> <td class="views-field views-field-summary" data-th="Description"> Implements <a href="../../modules-system-form.api.php/function/callback_batch_operation/7.x/" title="Perform a single batch operation." class="local">callback_batch_operation</a>(). </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_download_batch_finished/7.x/">update_manager_download_batch_finished</a> </td> <td class="views-field views-field-summary" data-th="Description"> Implements <a href="../../modules-system-form.api.php/function/callback_batch_finished/7.x/" title="Complete a batch process." class="local">callback_batch_finished</a>(). </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_file_get/7.x/">update_manager_file_get</a> </td> <td class="views-field views-field-summary" data-th="Description"> Copies a file from the specified URL to the temporary directory for updates. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_install_form/7.x/">update_manager_install_form</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form constructor for the install form of the Update Manager module. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_install_form_submit/7.x/">update_manager_install_form_submit</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form submission handler for <a href="../function/update_manager_install_form/7.x/" title="Form constructor for the install form of the Update Manager module." class="local">update_manager_install_form</a>(). </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_install_form_validate/7.x/">update_manager_install_form_validate</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form validation handler for <a href="../function/update_manager_install_form/7.x/" title="Form constructor for the install form of the Update Manager module." class="local">update_manager_install_form</a>(). </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_local_transfers_allowed/7.x/">update_manager_local_transfers_allowed</a> </td> <td class="views-field views-field-summary" data-th="Description"> Determines if file transfers will be performed locally. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_update_form/7.x/">update_manager_update_form</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form constructor for the update form of the Update Manager module. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_update_form_submit/7.x/">update_manager_update_form_submit</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form submission handler for <a href="../function/update_manager_update_form/7.x/" title="Form constructor for the update form of the Update Manager module." class="local">update_manager_update_form</a>(). </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_update_form_validate/7.x/">update_manager_update_form_validate</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form validation handler for <a href="../function/update_manager_update_form/7.x/" title="Form constructor for the update form of the Update Manager module." class="local">update_manager_update_form</a>(). </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_update_ready_form/7.x/">update_manager_update_ready_form</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form constructor for the update ready form. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/update_manager_update_ready_form_submit/7.x/">update_manager_update_ready_form_submit</a> </td> <td class="views-field views-field-summary" data-th="Description"> Form submission handler for <a href="../function/update_manager_update_ready_form/7.x/" title="Form constructor for the update ready form." class="local">update_manager_update_ready_form</a>(). </td> </tr> <tr class="even views-row-last"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/_update_manager_check_backends/7.x/">_update_manager_check_backends</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks for file transfer backends and prepares a form fragment about them. </td> </tr> </tbody> </table> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/modules!update!update.manager.inc/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/modules!update!update.manager.inc/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
