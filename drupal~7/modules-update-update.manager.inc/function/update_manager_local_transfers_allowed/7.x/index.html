
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Update_manager_local_transfers_allowed - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Determines if file transfers will be performed locally. ">
  <meta name="keywords" content="function, update, manager, local, transfers, allowed, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/modules-update-update.manager.inc/function/update_manager_local_transfers_allowed/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">function update_manager_local_transfers_allowed</h1>     <pre class="signature">update_manager_local_transfers_allowed()</pre> <p>Determines if file transfers will be performed locally.</p> <p>If the server is configured such that webserver-created files have the same owner as the configuration directory (e.g., sites/default) where new code will eventually be installed, the update manager can transfer files entirely locally, without changing their ownership (in other words, without prompting the user for FTP, SSH or other credentials).</p> <p>This server configuration is an inherent security weakness because it allows a malicious webserver process to append arbitrary PHP code and then execute it. However, it is supported here because it is a common configuration on shared hosting, and there is nothing Drupal can do to prevent it.</p> <h3>Return value</h3> <p> TRUE if local file transfers are allowed on this server, or FALSE if not.</p> <h3>See also</h3> <p> <a href="../../update_manager_update_ready_form_submit/7.x/" title="Form submission handler for update_manager_update_ready_form()." class="local">update_manager_update_ready_form_submit</a>()</p> <p><a href="../../update_manager_install_form_submit/7.x/" title="Form submission handler for update_manager_install_form()." class="local">update_manager_install_form_submit</a>()</p> <p><a href="../../../../includes-install.core.inc/function/install_check_requirements/7.x/" title="Checks installation requirements and reports any errors." class="local">install_check_requirements</a>()</p> <h3>Related topics</h3> <div class="view view-api-references view-id-api_references view-display-id-block_related_topics view-dom-id-8bf7345f19666c71f7f54a7a00bbf72d"> <div class="view-content"> <dl api-related-topics> <dt><a href="../../../group/update_manager_file/7.x/">Update Manager module: file management</a></dt> <dd>Update Manager module file management functions.</dd> </dl> </div> </div>  <h3>File</h3> 
<dl> <dt>modules/update/<a href="../../../7.x/">update.manager.inc</a>, line 931</dt> <dd>Administrative screens and processing functions of the Update Manager module.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function update_manager_local_transfers_allowed() {
  // Compare the owner of a webserver-created temporary file to the owner of
  // the configuration directory to determine if local transfers will be
  // allowed.
  $temporary_file = drupal_tempnam('temporary://', 'update_');
  $local_transfers_allowed = fileowner($temporary_file) === fileowner(conf_path());

  // Clean up. If this fails, we can ignore it (since this is just a temporary
  // file anyway).
  @drupal_unlink($temporary_file);

  return $local_transfers_allowed;
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/modules!update!update.manager.inc/function/update_manager_local_transfers_allowed/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/modules!update!update.manager.inc/function/update_manager_local_transfers_allowed/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
