
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Hook_entity_info - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Inform the base system and the Field API about one or more entity types. ">
  <meta name="keywords" content="function, hook, entity, info, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/modules-system-system.api.php/function/hook_entity_info/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">function hook_entity_info</h1>     <pre class="signature">hook_entity_info()</pre> <p>Inform the base system and the Field API about one or more entity types.</p> <p>Inform the system about one or more entity types (i.e., object types that can be loaded via <a href="../../../../includes-common.inc/function/entity_load/7.x/" title="Load entities from the database." class="local">entity_load</a>() and, optionally, to which fields can be attached).</p> <h3>Return value</h3> <p> An array whose keys are entity type names and whose values identify properties of those types that the system needs to know about:</p> <ul> <li>
<strong>label</strong>: The human-readable name of the type.</li> <li>
<strong>controller class</strong>: The name of the class that is used to load the objects. The class has to implement the <a href="../../../../includes-entity.inc/interface/drupalentitycontrollerinterface/7.x/" title="Interface for entity controller classes." class="local">DrupalEntityControllerInterface</a> interface. Leave blank to use the <a href="../../../../includes-entity.inc/class/drupaldefaultentitycontroller/7.x/" title="Default implementation of DrupalEntityControllerInterface." class="local">DrupalDefaultEntityController</a> implementation.</li> <li>
<strong>base table</strong>: (used by <a href="../../../../includes-entity.inc/class/drupaldefaultentitycontroller/7.x/" title="Default implementation of DrupalEntityControllerInterface." class="local">DrupalDefaultEntityController</a>) The name of the entity type's base table.</li> <li>
<strong>revision table</strong>: The name of the entity type's revision table (if any).</li> <li>
<strong>static cache</strong>: (used by <a href="../../../../includes-entity.inc/class/drupaldefaultentitycontroller/7.x/" title="Default implementation of DrupalEntityControllerInterface." class="local">DrupalDefaultEntityController</a>) FALSE to disable static caching of entities during a page request. Defaults to TRUE.</li> <li>
<strong>field cache</strong>: (used by Field API loading and saving of field data) FALSE to disable Field API's persistent cache of field data. Only recommended if a higher level persistent cache is available for the entity type. Defaults to TRUE.</li> <li>
<strong>load hook</strong>: The name of the hook which should be invoked by DrupalDefaultEntityController:attachLoad(), for example 'node_load'.</li> <li>
<strong>uri callback</strong>: The name of an implementation of <a href="../../callback_entity_info_uri/7.x/" title="Return the URI for an entity." class="local">callback_entity_info_uri</a>().</li> <li>
<strong>label callback</strong>: (optional) The name of an implementation of <a href="../../callback_entity_info_label/7.x/" title="Return the label of an entity." class="local">callback_entity_info_label</a>(), which returns the label of the entity. The entity label is the main string associated with an entity; for example, the title of a node or the subject of a comment. If there is an entity object property that defines the label, then using the 'label' element of the 'entity keys' return value component suffices to provide this information (see below). Alternatively, specifying this callback allows more complex logic to determine the label of an entity. See also the <a href="../../../../includes-common.inc/function/entity_label/7.x/" title="Returns the label of an entity." class="local">entity_label</a>() function, which implements this logic.</li> <li>
<strong>language callback</strong>: (optional) The name of an implementation of <a href="../../callback_entity_info_language/7.x/" title="Return the language code of the entity." class="local">callback_entity_info_language</a>(). In most situations, when needing to determine this value, inspecting a property named after the 'language' element of the 'entity keys' should be enough. The language callback is meant to be used primarily for temporary alterations of the property value: entity-defining modules are encouraged to always define a language property, instead of using the callback as main entity language source. In fact not having a language property defined is likely to prevent an entity from being queried by language. Moreover, given that <a href="../../../../includes-common.inc/function/entity_language/7.x/" title="Returns the language of an entity." class="local">entity_language</a>() is not necessarily used everywhere it would be appropriate, modules implementing the language callback should be aware that this might not be always called.</li> <li>
<strong>fieldable</strong>: Set to TRUE if you want your entity type to accept fields being attached to it.</li> <li>
<strong>translation</strong>: An associative array of modules registered as field translation handlers. Array keys are the module names, array values can be any data structure the module uses to provide field translation. Any empty value disallows the module to appear as a translation handler.</li> <li>
<strong>entity keys</strong>: (optional) An array describing how the Field API can extract the information it needs from the objects of the type. Elements: <ul> <li>
<strong>id</strong>: The name of the property that contains the primary id of the entity. Every entity object passed to the Field API must have this property and its value must be numeric.</li> <li>
<strong>revision</strong>: The name of the property that contains the revision id of the entity. The Field API assumes that all revision ids are unique across all entities of a type. This entry can be omitted if the entities of this type are not versionable. Defaults to an empty string.</li> <li>
<strong>bundle</strong>: The name of the property that contains the bundle name for the entity. The bundle name defines which set of fields are attached to the entity (e.g. what nodes call "content type"). This entry can be omitted if this entity type exposes a single bundle (all entities have the same collection of fields). The name of this single bundle will be the same as the entity type. Defaults to an empty string.</li> <li>
<strong>label</strong>: The name of the property that contains the entity label. For example, if the entity's label is located in $entity-&gt;subject, then 'subject' should be specified here. If complex logic is required to build the label, a 'label callback' should be defined instead (see the 'label callback' section above for details).</li> <li>
<strong>language</strong>: The name of the property, typically 'language', that contains the language code representing the language the entity has been created in. This value may be changed when editing the entity and represents the language its textual components are supposed to have. If no language property is available, the 'language callback' may be used instead. This entry can be omitted if the entities of this type are not language-aware.</li> </ul> </li> <li>
<strong>bundle keys</strong>: An array describing how the Field API can extract the information it needs from the bundle objects for this type. This entry is required if the 'path' provided in the 'bundles'/'admin' section identifies the bundle using a named menu placeholder whose loader callback returns an object (e.g., $vocabulary for taxonomy terms, or $node_type for nodes). If the path does not include the bundle, or the bundle is just a string rather than an automatically loaded object, then this can be omitted. Elements: <ul> <li>
<strong>bundle</strong>: The name of the property of the bundle object that contains the name of the bundle object.</li> </ul> </li> <li>
<strong>bundles</strong>: An array describing all bundles for this object type. Keys are bundles machine names, as found in the objects' 'bundle' property (defined in the 'entity keys' entry above). This entry can be omitted if this entity type exposes a single bundle (all entities have the same collection of fields). The name of this single bundle will be the same as the entity type. Elements: <ul> <li>
<strong>label</strong>: The human-readable name of the bundle.</li> <li>
<strong>uri callback</strong>: Same as the 'uri callback' key documented above for the entity type, but for the bundle only. When determining the URI of an entity, if a 'uri callback' is defined for both the entity type and the bundle, the one for the bundle is used.</li> <li>
<strong>admin</strong>: An array of information that allows Field UI pages to attach themselves to the existing administration pages for the bundle. Elements: <ul> <li>
<strong>path</strong>: the path of the bundle's main administration page, as defined in <a href="../../hook_menu/7.x/" title="Define menu items and page callbacks." class="local">hook_menu</a>(). If the path includes a placeholder for the bundle, the 'bundle argument' and 'real path' keys below are required.</li> <li>
<strong>bundle argument</strong>: The position of the bundle placeholder in 'path', if any.</li> <li>
<strong>real path</strong>: The actual path (no placeholder) of the bundle's main administration page. This will be used to generate links.</li> <li>
<strong>access callback</strong>: As in <a href="../../hook_menu/7.x/" title="Define menu items and page callbacks." class="local">hook_menu</a>(). 'user_access' will be assumed if no value is provided.</li> <li>
<strong>access arguments</strong>: As in <a href="../../hook_menu/7.x/" title="Define menu items and page callbacks." class="local">hook_menu</a>().</li> </ul> </li> </ul> </li> <li>
<strong>view modes</strong>: An array describing the view modes for the entity type. View modes let entities be displayed differently depending on the context. For instance, a node can be displayed differently on its own page ('full' mode), on the home page or taxonomy listings ('teaser' mode), or in an RSS feed ('rss' mode). Modules taking part in the display of the entity (notably the Field API) can adjust their behavior depending on the requested view mode. An additional 'default' view mode is available for all entity types. This view mode is not intended for actual entity display, but holds default display settings. For each available view mode, administrators can configure whether it should use its own set of field display settings, or just replicate the settings of the 'default' view mode, thus reducing the amount of display configurations to keep track of. Keys of the array are view mode names. Each view mode is described by an array with the following key/value pairs: <ul> <li>
<strong>label</strong>: The human-readable name of the view mode</li> <li>
<strong>custom settings</strong>: A boolean specifying whether the view mode should by default use its own custom field display settings. If FALSE, entities displayed in this view mode will reuse the 'default' display settings by default (e.g. right after the module exposing the view mode is enabled), but administrators can later use the Field UI to apply custom display settings specific to the view mode.</li> </ul> </li> </ul> <h3>See also</h3> <p> <a href="../../../../includes-common.inc/function/entity_load/7.x/" title="Load entities from the database." class="local">entity_load</a>()</p> <p><a href="../../hook_entity_info_alter/7.x/" title="Alter the entity info." class="local">hook_entity_info_alter</a>()</p> <h3>Related topics</h3> <div class="view view-api-references view-id-api_references view-display-id-block_related_topics view-dom-id-f749585b6d3c00c43aafc727cb63a80d"> <div class="view-content"> <dl api-related-topics> <dt><a href="../../../../includes-module.inc/group/hooks/7.x/">Hooks</a></dt> <dd>Allow modules to interact with the Drupal core.</dd> </dl> </div> </div>  <h3>File</h3> 
<dl> <dt>modules/system/<a href="../../../7.x/">system.api.php</a>, line 202</dt> <dd>Hooks provided by Drupal core and the System module.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function hook_entity_info() {
  $return = array(
    'node' =&gt; array(
      'label' =&gt; t('Node'),
      'controller class' =&gt; 'NodeController',
      'base table' =&gt; 'node',
      'revision table' =&gt; 'node_revision',
      'uri callback' =&gt; 'node_uri',
      'fieldable' =&gt; TRUE,
      'translation' =&gt; array(
        'locale' =&gt; TRUE,
      ),
      'entity keys' =&gt; array(
        'id' =&gt; 'nid',
        'revision' =&gt; 'vid',
        'bundle' =&gt; 'type',
        'language' =&gt; 'language',
      ),
      'bundle keys' =&gt; array(
        'bundle' =&gt; 'type',
      ),
      'bundles' =&gt; array(),
      'view modes' =&gt; array(
        'full' =&gt; array(
          'label' =&gt; t('Full content'),
          'custom settings' =&gt; FALSE,
        ),
        'teaser' =&gt; array(
          'label' =&gt; t('Teaser'),
          'custom settings' =&gt; TRUE,
        ),
        'rss' =&gt; array(
          'label' =&gt; t('RSS'),
          'custom settings' =&gt; FALSE,
        ),
      ),
    ),
  );

  // Search integration is provided by node.module, so search-related
  // view modes for nodes are defined here and not in search.module.
  if (module_exists('search')) {
    $return['node']['view modes'] += array(
      'search_index' =&gt; array(
        'label' =&gt; t('Search index'),
        'custom settings' =&gt; FALSE,
      ),
      'search_result' =&gt; array(
        'label' =&gt; t('Search result highlighting input'),
        'custom settings' =&gt; FALSE,
      ),
    );
  }

  // Bundles must provide a human readable name so we can create help and error
  // messages, and the path to attach Field admin pages to.
  foreach (node_type_get_names() as $type =&gt; $name) {
    $return['node']['bundles'][$type] = array(
      'label' =&gt; $name,
      'admin' =&gt; array(
        'path' =&gt; 'admin/structure/types/manage/%node_type',
        'real path' =&gt; 'admin/structure/types/manage/' . str_replace('_', '-', $type),
        'bundle argument' =&gt; 4,
        'access arguments' =&gt; array('administer content types'),
      ),
    );
  }

  return $return;
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_entity_info/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_entity_info/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
