
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>EntityFieldQuery - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Retrieves entities matching a given set of conditions. ">
  <meta name="keywords" content="class, entityfieldquery, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/includes-entity.inc/class/entityfieldquery/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">class EntityFieldQuery</h1>     <p>Retrieves entities matching a given set of conditions.</p> <p>This class allows finding entities based on entity properties (for example, node-&gt;changed), field values, and generic entity meta data (bundle, entity type, entity ID, and revision ID). It is not possible to query across multiple entity types. For example, there is no facility to find published nodes written by users created in the last hour, as this would require querying both node-&gt;status and user-&gt;created.</p> <p>Normally we would not want to have public properties on the object, as that allows the object's state to become inconsistent too easily. However, this class's standard use case involves primarily code that does need to have direct access to the collected properties in order to handle alternate execution routines. We therefore use public properties for simplicity. Note that code that is simply creating and running a field query should still use the appropriate methods to add conditions on the query.</p> <p>Storage engines are not required to support every type of query. By default, an EntityFieldQueryException will be raised if an unsupported condition is specified or if the query has field conditions or sorts that are stored in different field storage engines. However, this logic can be overridden in <a href="../../../../modules-system-system.api.php/function/hook_entity_query_alter/7.x/" title="Alter or execute an EntityFieldQuery." class="local">hook_entity_query_alter</a>().</p> <p>Also note that this query does not automatically respect entity access restrictions. Node access control is performed by the SQL storage engine but other storage engines might not do this.</p> <h3>Hierarchy</h3> <div class="item-list"><ul>
<li class="first last">class \<a href="../7.x/" class="active active">EntityFieldQuery</a>
</li> </ul></div>
<p><a href="https://api.drupal.org/api/drupal/includes%21entity.inc/class/hierarchy/EntityFieldQuery/7.x" target="_blank">Expanded class hierarchy of EntityFieldQuery</a></p> <h3>File</h3> 
<dl> <dt>includes/<a href="../../../7.x/">entity.inc</a>, line 472</dt>  </dl>  <h3>Members</h3>
<div class="view view-api-members view-id-api_members view-display-id-block_member_list view-dom-id-5ea9641ecbfec2c07fb2def117fdee74">  <div class="view-content"> <table class="views-table cols-4"> <thead> <tr> <th class="views-field views-field-title active" scope="col"> Name </th> <th class="views-field views-field-modifiers" scope="col"> Modifiers </th> <th class="views-field views-field-object-type" scope="col"> Type </th> <th class="views-field views-field-summary" scope="col"> Description </th> </tr> </thead> <tbody> <tr class="odd views-row-first"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-age/7.x/">EntityFieldQuery::$age</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> Flag indicating whether this is querying current or all revisions. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-altered/7.x/">EntityFieldQuery::$altered</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> TRUE if the query has already been altered, FALSE if it hasn't. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-count/7.x/">EntityFieldQuery::$count</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> TRUE if this is a count query, FALSE if it isn't. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-deleted/7.x/">EntityFieldQuery::$deleted</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> Query behavior for deleted data. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-entityconditions/7.x/">EntityFieldQuery::$entityConditions</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> Associative array of entity-generic metadata conditions. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-executecallback/7.x/">EntityFieldQuery::$executeCallback</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> The method executing the query, if it is overriding the default. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-fieldconditions/7.x/">EntityFieldQuery::$fieldConditions</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> List of field conditions. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-fieldmetaconditions/7.x/">EntityFieldQuery::$fieldMetaConditions</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> List of field meta conditions (language and delta). </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-fields/7.x/">EntityFieldQuery::$fields</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> A list of field arrays used. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-metadata/7.x/">EntityFieldQuery::$metaData</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> A list of metadata added to this query. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-order/7.x/">EntityFieldQuery::$order</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> List of order clauses. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-orderedresults/7.x/">EntityFieldQuery::$orderedResults</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> The ordered results. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-pager/7.x/">EntityFieldQuery::$pager</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> The query pager data. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-propertyconditions/7.x/">EntityFieldQuery::$propertyConditions</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> List of property conditions. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-range/7.x/">EntityFieldQuery::$range</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> The query range. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../property/entityfieldquery-tags/7.x/">EntityFieldQuery::$tags</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> property </td> <td class="views-field views-field-summary" data-th="Description"> A list of the tags added to this query. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-addcondition/7.x/">EntityFieldQuery::addCondition</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds a condition to an already built SelectQuery (internal function). </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-addfieldcondition/7.x/">EntityFieldQuery::addFieldCondition</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> protected </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds the given condition to the proper condition array. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-addmetadata/7.x/">EntityFieldQuery::addMetaData</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds additional metadata to the query. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-addtag/7.x/">EntityFieldQuery::addTag</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds a tag to the query. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-age/7.x/">EntityFieldQuery::age</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Queries the current or every revision. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-count/7.x/">EntityFieldQuery::count</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Sets the query to be a count query only. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-deleted/7.x/">EntityFieldQuery::deleted</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Filters on the data being deleted. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-entitycondition/7.x/">EntityFieldQuery::entityCondition</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds a condition on entity-generic metadata. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-entityorderby/7.x/">EntityFieldQuery::entityOrderBy</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Orders the result set by entity-generic metadata. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-execute/7.x/">EntityFieldQuery::execute</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Executes the query. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-fieldcondition/7.x/">EntityFieldQuery::fieldCondition</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds a condition on field values. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-fielddeltacondition/7.x/">EntityFieldQuery::fieldDeltaCondition</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds a condition on the field delta column. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-fieldlanguagecondition/7.x/">EntityFieldQuery::fieldLanguageCondition</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds a condition on the field language column. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-fieldorderby/7.x/">EntityFieldQuery::fieldOrderBy</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Orders the result set by a given field column. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-finishquery/7.x/">EntityFieldQuery::finishQuery</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Finishes the query. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-initializepager/7.x/">EntityFieldQuery::initializePager</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Gets the total number of results and initializes a pager for the query. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-pager/7.x/">EntityFieldQuery::pager</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Enables a pager for the query. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-propertycondition/7.x/">EntityFieldQuery::propertyCondition</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Adds a condition on an entity-specific property. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-propertyorderby/7.x/">EntityFieldQuery::propertyOrderBy</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Orders the result set by an entity-specific property. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-propertyquery/7.x/">EntityFieldQuery::propertyQuery</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> protected </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Queries entity tables in SQL for property conditions and sorts. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-querycallback/7.x/">EntityFieldQuery::queryCallback</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Determines the query callback to use for this entity query. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-range/7.x/">EntityFieldQuery::range</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Restricts a query to a given range in the result set. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../constant/entityfieldquery-return_all/7.x/">EntityFieldQuery::RETURN_ALL</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> </td> <td class="views-field views-field-object-type" data-th="Type"> constant </td> <td class="views-field views-field-summary" data-th="Description"> Indicates that both deleted and non-deleted fields should be returned. </td> </tr> <tr class="even views-row-last"> <td class="views-field views-field-title active" data-th="Name"> <a href="../../../function/entityfieldquery-tablesort/7.x/">EntityFieldQuery::tableSort</a> </td> <td class="views-field views-field-modifiers" data-th="Modifiers"> public </td> <td class="views-field views-field-object-type" data-th="Type"> function </td> <td class="views-field views-field-summary" data-th="Description"> Enables sortable tables for this query. </td> </tr> </tbody> </table> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/includes!entity.inc/class/EntityFieldQuery/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/includes!entity.inc/class/EntityFieldQuery/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
