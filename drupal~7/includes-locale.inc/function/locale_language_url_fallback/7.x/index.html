
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Locale_language_url_fallback - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Determines the language to be assigned to URLs when none is detected. ">
  <meta name="keywords" content="function, locale, language, url, fallback, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/includes-locale.inc/function/locale_language_url_fallback/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">function locale_language_url_fallback</h1>     <pre class="signature">locale_language_url_fallback($language = NULL, $language_type = LANGUAGE_TYPE_INTERFACE)</pre> <p>Determines the language to be assigned to URLs when none is detected.</p> <p>The language negotiation process has a fallback chain that ends with the default language provider. Each built-in language type has a separate initialization:</p> <ul> <li>Interface language, which is the only configurable one, always gets a valid value. If no request-specific language is detected, the default language will be used.</li> <li>Content language merely inherits the interface language by default.</li> <li>URL language is detected from the requested URL and will be used to rewrite URLs appearing in the page being rendered. If no language can be detected, there are two possibilities: <ul> <li>If the default language has no configured path prefix or domain, then the default language is used. This guarantees that (missing) URL prefixes are preserved when navigating through the site.</li> <li>If the default language has a configured path prefix or domain, a requested URL having an empty prefix or domain is an anomaly that must be fixed. This is done by introducing a prefix or domain in the rendered page matching the detected interface language.</li> </ul> </li> </ul> <h3>Parameters</h3> <p> <strong>$languages</strong>: (optional) An array of valid language objects. This is passed by <a href="../../../../includes-language.inc/function/language_provider_invoke/7.x/" title="Helper function used to cache the language negotiation providers results." class="local">language_provider_invoke</a>() to every language provider callback, but it is not actually needed here. Defaults to NULL.</p> <p><strong>$language_type</strong>: (optional) The language type to fall back to. Defaults to the interface language.</p> <h3>Return value</h3> <p> A valid language code.</p> <h3>Related topics</h3> <div class="view view-api-references view-id-api_references view-display-id-block_related_topics view-dom-id-78d738ee7c835be800e154f710341f29"> <div class="view-content"> <dl api-related-topics> <dt><a href="../../../group/locale-languages-negotiation/7.x/">Language negotiation options</a></dt> <dd>Functions for language negotiation.</dd> </dl> </div> </div>  <h3>File</h3> 
<dl> <dt>includes/<a href="../../../7.x/">locale.inc</a>, line 339</dt> <dd>Administration functions for <a href="https://api.drupal.org/api/drupal/7.x/search/locale.module" title="Multiple implementations exist." class="local" target="_blank">locale.module</a>.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function locale_language_url_fallback($language = NULL, $language_type = LANGUAGE_TYPE_INTERFACE) {
  $default = language_default();
  $prefix = (variable_get('locale_language_negotiation_url_part', LOCALE_LANGUAGE_NEGOTIATION_URL_PREFIX) == LOCALE_LANGUAGE_NEGOTIATION_URL_PREFIX);

  // If the default language is not configured to convey language information,
  // a missing URL language information indicates that URL language should be
  // the default one, otherwise we fall back to an already detected language.
  if (($prefix &amp;&amp; empty($default-&gt;prefix)) || (!$prefix &amp;&amp; empty($default-&gt;domain))) {
    return $default-&gt;language;
  }
  else {
    return $GLOBALS[$language_type]-&gt;language;
  }
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/includes!locale.inc/function/locale_language_url_fallback/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/includes!locale.inc/function/locale_language_url_fallback/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
