
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>file.inc - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" API for handling file uploads and server file management. ">
  <meta name="keywords" content="file, inc, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/includes-file.inc/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">file.inc</h1>      <p>API for handling file uploads and server file management.</p> <h3>File</h3> includes/file.inc  <h3>Functions</h3>
<div class="view view-api-listings view-id-api_listings view-display-id-block_items_file view-dom-id-9869242eda4e3e35f559f7d6db6378eb"> <div class="view-content"> <table class="views-table cols-2"> <thead> <tr> <th class="views-field views-field-title active" scope="col"> Name </th> <th class="views-field views-field-summary" scope="col"> Description </th> </tr> </thead> <tbody> <tr class="odd views-row-first"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_basename/7.x/">drupal_basename</a> </td> <td class="views-field views-field-summary" data-th="Description"> Gets the filename from a given path. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_chmod/7.x/">drupal_chmod</a> </td> <td class="views-field views-field-summary" data-th="Description"> Sets the permissions on a file or directory. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_dirname/7.x/">drupal_dirname</a> </td> <td class="views-field views-field-summary" data-th="Description"> Gets the name of the directory from a given path. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_mkdir/7.x/">drupal_mkdir</a> </td> <td class="views-field views-field-summary" data-th="Description"> Creates a directory using Drupal's default mode. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_move_uploaded_file/7.x/">drupal_move_uploaded_file</a> </td> <td class="views-field views-field-summary" data-th="Description"> Moves an uploaded file to a new location. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_realpath/7.x/">drupal_realpath</a> </td> <td class="views-field views-field-summary" data-th="Description"> Resolves the absolute filepath of a local URI or filepath. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_rmdir/7.x/">drupal_rmdir</a> </td> <td class="views-field views-field-summary" data-th="Description"> Removes a directory. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_tempnam/7.x/">drupal_tempnam</a> </td> <td class="views-field views-field-summary" data-th="Description"> Creates a file with a unique filename in the specified directory. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/drupal_unlink/7.x/">drupal_unlink</a> </td> <td class="views-field views-field-summary" data-th="Description"> Deletes a file. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_build_uri/7.x/">file_build_uri</a> </td> <td class="views-field views-field-summary" data-th="Description"> Constructs a URI to Drupal's default files location given a relative path. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_copy/7.x/">file_copy</a> </td> <td class="views-field views-field-summary" data-th="Description"> Copies a file to a new location and adds a file record to the database. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_create_filename/7.x/">file_create_filename</a> </td> <td class="views-field views-field-summary" data-th="Description"> Creates a full file path from a directory and filename. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_create_htaccess/7.x/">file_create_htaccess</a> </td> <td class="views-field views-field-summary" data-th="Description"> Creates a .htaccess file in the given directory. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_create_url/7.x/">file_create_url</a> </td> <td class="views-field views-field-summary" data-th="Description"> Creates a web-accessible URL for a stream to an external or local file. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_default_scheme/7.x/">file_default_scheme</a> </td> <td class="views-field views-field-summary" data-th="Description"> Gets the default file stream implementation. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_delete/7.x/">file_delete</a> </td> <td class="views-field views-field-summary" data-th="Description"> Deletes a file and its database record. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_destination/7.x/">file_destination</a> </td> <td class="views-field views-field-summary" data-th="Description"> Determines the destination path for a file. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_directory_temp/7.x/">file_directory_temp</a> </td> <td class="views-field views-field-summary" data-th="Description"> Gets the path of system-appropriate temporary directory. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_download/7.x/">file_download</a> </td> <td class="views-field views-field-summary" data-th="Description"> Menu handler for private file transfers. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_download_access/7.x/">file_download_access</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks that the current user has access to a particular file. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_download_headers/7.x/">file_download_headers</a> </td> <td class="views-field views-field-summary" data-th="Description"> Retrieves headers for a private file download. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_ensure_htaccess/7.x/">file_ensure_htaccess</a> </td> <td class="views-field views-field-summary" data-th="Description"> Creates a .htaccess file in each Drupal files directory if it is missing. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_get_content_headers/7.x/">file_get_content_headers</a> </td> <td class="views-field views-field-summary" data-th="Description"> Examines a file object and returns appropriate content headers for download. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_get_mimetype/7.x/">file_get_mimetype</a> </td> <td class="views-field views-field-summary" data-th="Description"> Determines an Internet Media Type or MIME type from a filename. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_get_stream_wrappers/7.x/">file_get_stream_wrappers</a> </td> <td class="views-field views-field-summary" data-th="Description"> Provides Drupal stream wrapper registry. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_htaccess_lines/7.x/">file_htaccess_lines</a> </td> <td class="views-field views-field-summary" data-th="Description"> Returns the standard .htaccess lines that Drupal writes to file directories. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_load/7.x/">file_load</a> </td> <td class="views-field views-field-summary" data-th="Description"> Loads a single file object from the database. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_load_multiple/7.x/">file_load_multiple</a> </td> <td class="views-field views-field-summary" data-th="Description"> Loads file objects from the database. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_move/7.x/">file_move</a> </td> <td class="views-field views-field-summary" data-th="Description"> Moves a file to a new location and update the file's database entry. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_munge_filename/7.x/">file_munge_filename</a> </td> <td class="views-field views-field-summary" data-th="Description"> Modifies a filename as needed for security purposes. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_prepare_directory/7.x/">file_prepare_directory</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks that the directory exists and is writable. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_save/7.x/">file_save</a> </td> <td class="views-field views-field-summary" data-th="Description"> Saves a file object to the database. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_save_data/7.x/">file_save_data</a> </td> <td class="views-field views-field-summary" data-th="Description"> Saves a file to the specified destination and creates a database entry. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_save_upload/7.x/">file_save_upload</a> </td> <td class="views-field views-field-summary" data-th="Description"> Saves a file upload to a new location. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_scan_directory/7.x/">file_scan_directory</a> </td> <td class="views-field views-field-summary" data-th="Description"> Finds all files that match a given mask in a given directory. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_space_used/7.x/">file_space_used</a> </td> <td class="views-field views-field-summary" data-th="Description"> Determines total disk space used by a single user or the whole filesystem. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_stream_wrapper_get_class/7.x/">file_stream_wrapper_get_class</a> </td> <td class="views-field views-field-summary" data-th="Description"> Returns the stream wrapper class name for a given scheme. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_stream_wrapper_get_instance_by_scheme/7.x/">file_stream_wrapper_get_instance_by_scheme</a> </td> <td class="views-field views-field-summary" data-th="Description"> Returns a reference to the stream wrapper class responsible for a scheme. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_stream_wrapper_get_instance_by_uri/7.x/">file_stream_wrapper_get_instance_by_uri</a> </td> <td class="views-field views-field-summary" data-th="Description"> Returns a reference to the stream wrapper class responsible for a given URI. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_stream_wrapper_uri_normalize/7.x/">file_stream_wrapper_uri_normalize</a> </td> <td class="views-field views-field-summary" data-th="Description"> Normalizes a URI by making it syntactically correct. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_stream_wrapper_valid_scheme/7.x/">file_stream_wrapper_valid_scheme</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks that the scheme of a stream URI is valid. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_transfer/7.x/">file_transfer</a> </td> <td class="views-field views-field-summary" data-th="Description"> Transfers a file to the client using HTTP. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_unmanaged_copy/7.x/">file_unmanaged_copy</a> </td> <td class="views-field views-field-summary" data-th="Description"> Copies a file to a new location without invoking the file API. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_unmanaged_delete/7.x/">file_unmanaged_delete</a> </td> <td class="views-field views-field-summary" data-th="Description"> Deletes a file without database changes or hook invocations. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_unmanaged_delete_recursive/7.x/">file_unmanaged_delete_recursive</a> </td> <td class="views-field views-field-summary" data-th="Description"> Deletes all files and directories in the specified filepath recursively. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_unmanaged_move/7.x/">file_unmanaged_move</a> </td> <td class="views-field views-field-summary" data-th="Description"> Moves a file to a new location without database changes or hook invocation. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_unmanaged_save_data/7.x/">file_unmanaged_save_data</a> </td> <td class="views-field views-field-summary" data-th="Description"> Saves a string to the specified destination without invoking file API. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_unmunge_filename/7.x/">file_unmunge_filename</a> </td> <td class="views-field views-field-summary" data-th="Description"> Undoes the effect of <a href="../function/file_munge_filename/7.x/" title="Modifies a filename as needed for security purposes." class="local">file_munge_filename</a>(). </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_upload_max_size/7.x/">file_upload_max_size</a> </td> <td class="views-field views-field-summary" data-th="Description"> Determines the maximum file upload size by querying the PHP settings. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_uri_scheme/7.x/">file_uri_scheme</a> </td> <td class="views-field views-field-summary" data-th="Description"> Returns the scheme of a URI (e.g. a stream). </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_uri_target/7.x/">file_uri_target</a> </td> <td class="views-field views-field-summary" data-th="Description"> Returns the part of a URI after the schema. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_usage_add/7.x/">file_usage_add</a> </td> <td class="views-field views-field-summary" data-th="Description"> Records that a module is using a file. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_usage_delete/7.x/">file_usage_delete</a> </td> <td class="views-field views-field-summary" data-th="Description"> Removes a record to indicate that a module is no longer using a file. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_usage_list/7.x/">file_usage_list</a> </td> <td class="views-field views-field-summary" data-th="Description"> Determines where a file is used. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_validate/7.x/">file_validate</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks that a file meets the criteria specified by the validators. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_validate_extensions/7.x/">file_validate_extensions</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks that the filename ends with an allowed extension. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_validate_image_resolution/7.x/">file_validate_image_resolution</a> </td> <td class="views-field views-field-summary" data-th="Description"> Verifies that image dimensions are within the specified maximum and minimum. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_validate_is_image/7.x/">file_validate_is_image</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks that the file is recognized by <a href="../../includes-image.inc/function/image_get_info/7.x/" title="Gets details about an image." class="local">image_get_info</a>() as an image. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_validate_name_length/7.x/">file_validate_name_length</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks for files with names longer than we can store in the database. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_validate_size/7.x/">file_validate_size</a> </td> <td class="views-field views-field-summary" data-th="Description"> Checks that the file's size is below certain limits. </td> </tr> <tr class="odd views-row-last"> <td class="views-field views-field-title active" data-th="Name"> <a href="../function/file_valid_uri/7.x/">file_valid_uri</a> </td> <td class="views-field views-field-summary" data-th="Description"> Determines whether the URI has a valid scheme for file API operations. </td> </tr> </tbody> </table> </div> </div>
<h3>Constants</h3>
<div class="view view-api-listings view-id-api_listings view-display-id-block_items_file view-dom-id-258681040a6c64f34c8b53b977329c6b"> <div class="view-content"> <table class="views-table cols-2"> <thead> <tr> <th class="views-field views-field-title active" scope="col"> Name </th> <th class="views-field views-field-summary" scope="col"> Description </th> </tr> </thead> <tbody> <tr class="odd views-row-first"> <td class="views-field views-field-title active" data-th="Name"> <a href="../constant/file_create_directory/7.x/">FILE_CREATE_DIRECTORY</a> </td> <td class="views-field views-field-summary" data-th="Description"> Flag used by <a href="../function/file_prepare_directory/7.x/" title="Checks that the directory exists and is writable." class="local">file_prepare_directory</a>() -- create directory if not present. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../constant/file_exists_error/7.x/">FILE_EXISTS_ERROR</a> </td> <td class="views-field views-field-summary" data-th="Description"> Flag for dealing with existing files: Do nothing and return FALSE. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../constant/file_exists_rename/7.x/">FILE_EXISTS_RENAME</a> </td> <td class="views-field views-field-summary" data-th="Description"> Flag for dealing with existing files: Appends number until name is unique. </td> </tr> <tr class="even"> <td class="views-field views-field-title active" data-th="Name"> <a href="../constant/file_exists_replace/7.x/">FILE_EXISTS_REPLACE</a> </td> <td class="views-field views-field-summary" data-th="Description"> Flag for dealing with existing files: Replace the existing file. </td> </tr> <tr class="odd"> <td class="views-field views-field-title active" data-th="Name"> <a href="../constant/file_modify_permissions/7.x/">FILE_MODIFY_PERMISSIONS</a> </td> <td class="views-field views-field-summary" data-th="Description"> Flag used by <a href="../function/file_prepare_directory/7.x/" title="Checks that the directory exists and is writable." class="local">file_prepare_directory</a>() -- file permissions may be changed. </td> </tr> <tr class="even views-row-last"> <td class="views-field views-field-title active" data-th="Name"> <a href="../constant/file_status_permanent/7.x/">FILE_STATUS_PERMANENT</a> </td> <td class="views-field views-field-summary" data-th="Description"> Indicates that the file is permanent and should not be deleted. </td> </tr> </tbody> </table> </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/includes!file.inc/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/includes!file.inc/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
