
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Hook_field_widget_form - Drupal 7 - W3cubDocs</title>
  
  <meta name="description" content=" Return the form for a single field widget. ">
  <meta name="keywords" content="function, hook, field, widget, form, -, drupal, drupal~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/drupal~7/modules-field-field.api.php/function/hook_field_widget_form/7.x/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/drupal~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/drupal~7/" class="_nav-link" title="" style="margin-left:0;">Drupal 7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _drupal">
				
<h1 id="page-subtitle">function hook_field_widget_form</h1>     <pre class="signature">hook_field_widget_form(&amp;$form, &amp;$form_state, $field, $instance, $langcode, $items, $delta, $element)</pre> <p>Return the form for a single field widget.</p> <p>Field widget form elements should be based on the passed-in $element, which contains the base form element properties derived from the field configuration.</p> <p>Field API will set the weight, field name and delta values for each form element. If there are multiple values for this field, the Field API will invoke this hook as many times as needed.</p> <p>Note that, depending on the context in which the widget is being included (regular entity form, field configuration form, advanced search form...), the values for $field and $instance might be different from the "official" definitions returned by <a href="../../../../modules-field-field.info.inc/function/field_info_field/7.x/" title="Returns data about an individual field, given a field name." class="local">field_info_field</a>() and <a href="../../../../modules-field-field.info.inc/function/field_info_instance/7.x/" title="Returns an array of instance data for a specific field and bundle." class="local">field_info_instance</a>(). Examples: mono-value widget even if the field is multi-valued, non-required widget even if the field is 'required'...</p> <p>Therefore, the FAPI element callbacks (such as #process, #element_validate, #value_callback...) used by the widget cannot use the <a href="../../../../modules-field-field.info.inc/function/field_info_field/7.x/" title="Returns data about an individual field, given a field name." class="local">field_info_field</a>() or <a href="../../../../modules-field-field.info.inc/function/field_info_instance/7.x/" title="Returns an array of instance data for a specific field and bundle." class="local">field_info_instance</a>() functions to retrieve the $field or $instance definitions they should operate on. The <a href="../../../../modules-field-field.form.inc/function/field_widget_field/7.x/" title="Retrieves the field definition for a widget's helper callbacks." class="local">field_widget_field</a>() and <a href="../../../../modules-field-field.form.inc/function/field_widget_instance/7.x/" title="Retrieves the instance definition array for a widget's helper callbacks." class="local">field_widget_instance</a>() functions should be used instead to fetch the current working definitions from $form_state, where Field API stores them.</p> <p>Alternatively, <a href="../7.x/" title="Return the form for a single field widget." class="local active">hook_field_widget_form</a>() can extract the needed specific properties from $field and $instance and set them as ad-hoc $element['#custom'] properties, for later use by its element callbacks.</p> <p>Other modules may alter the form element provided by this function using <a href="../../hook_field_widget_form_alter/7.x/" title="Alter forms for field widgets provided by other modules." class="local">hook_field_widget_form_alter</a>().</p> <h3>Parameters</h3> <p> <strong>$form</strong>: The form structure where widgets are being attached to. This might be a full form structure, or a sub-element of a larger form.</p> <p><strong>$form_state</strong>: An associative array containing the current state of the form.</p> <p><strong>$field</strong>: The field structure.</p> <p><strong>$instance</strong>: The field instance.</p> <p><strong>$langcode</strong>: The language associated with $items.</p> <p><strong>$items</strong>: Array of default values for this field.</p> <p><strong>$delta</strong>: The order of this item in the array of subelements (0, 1, 2, etc).</p> <p><strong>$element</strong>: A form element array containing basic properties for the widget:</p> <ul> <li>
<strong>#entity_type</strong>: The name of the entity the field is attached to.</li> <li>
<strong>#bundle</strong>: The name of the field bundle the field is contained in.</li> <li>
<strong>#field_name</strong>: The name of the field.</li> <li>
<strong>#language</strong>: The language the field is being edited in.</li> <li>
<strong>#field_parents</strong>: The 'parents' space for the field in the form. Most widgets can simply overlook this property. This identifies the location where the field values are placed within $form_state['values'], and is used to access processing information for the field through the <a href="../../../../modules-field-field.form.inc/function/field_form_get_state/7.x/" title="Retrieves processing information about a field from $form_state." class="local">field_form_get_state</a>() and <a href="../../../../modules-field-field.form.inc/function/field_form_set_state/7.x/" title="Stores processing information about a field in $form_state." class="local">field_form_set_state</a>() functions.</li> <li>
<strong>#columns</strong>: A list of field storage columns of the field.</li> <li>
<strong>#title</strong>: The sanitized element label for the field instance, ready for output.</li> <li>
<strong>#description</strong>: The sanitized element description for the field instance, ready for output.</li> <li>
<strong>#required</strong>: A Boolean indicating whether the element value is required; for required multiple value fields, only the first widget's values are required.</li> <li>
<strong>#delta</strong>: The order of this item in the array of subelements; see $delta above.</li> </ul> <h3>Return value</h3> <p> The form elements for a single widget for this field.</p> <h3>See also</h3> <p> <a href="../../../../modules-field-field.form.inc/function/field_widget_field/7.x/" title="Retrieves the field definition for a widget's helper callbacks." class="local">field_widget_field</a>()</p> <p><a href="../../../../modules-field-field.form.inc/function/field_widget_instance/7.x/" title="Retrieves the instance definition array for a widget's helper callbacks." class="local">field_widget_instance</a>()</p> <p><a href="../../hook_field_widget_form_alter/7.x/" title="Alter forms for field widgets provided by other modules." class="local">hook_field_widget_form_alter</a>()</p> <p><a href="../../hook_field_widget_widget_type_form_alter/7.x/" title="Alter widget forms for a specific widget provided by another module." class="local">hook_field_widget_WIDGET_TYPE_form_alter</a>()</p> <h3>Related topics</h3> <div class="view view-api-references view-id-api_references view-display-id-block_related_topics view-dom-id-a8382d3e3828e413456058459e73673c"> <div class="view-content"> <dl api-related-topics> <dt><a href="../../../group/field_widget/7.x/">Field Widget API</a></dt> <dd>Define Field API widget types.</dd> <dt><a href="../../../../includes-module.inc/group/hooks/7.x/">Hooks</a></dt> <dd>Allow modules to interact with the Drupal core.</dd> </dl> </div> </div>  <h3>File</h3> 
<dl> <dt>modules/field/<a href="../../../7.x/">field.api.php</a>, line 893</dt> <dd>Hooks provided by the Field module.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function hook_field_widget_form(&amp;$form, &amp;$form_state, $field, $instance, $langcode, $items, $delta, $element) {
  $element += array(
    '#type' =&gt; $instance['widget']['type'],
    '#default_value' =&gt; isset($items[$delta]) ? $items[$delta] : '',
  );
  return array('value' =&gt; $element);
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2001–2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/modules!field!field.api.php/function/hook_field_widget_form/7.x" class="_attribution-link" target="_blank">https://api.drupal.org/api/drupal/modules!field!field.api.php/function/hook_field_widget_form/7.x</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
