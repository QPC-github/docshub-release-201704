
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Docker-compose Run - Docker 1.11 - W3cubDocs</title>
  
  <meta name="description" content=" Runs a one-time command against a service. For example, the following command starts the web service and runs bash as its command. ">
  <meta name="keywords" content="run, docker-compose, -, docker, docker~1.11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/docker~1.11/compose/reference/run/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/docker~1.11.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~1.11/" class="_nav-link" title="" style="margin-left:0;">Docker 1.11</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _docker">
				
<h1 id="run">run</h1> <pre>Usage: run [options] [-e KEY=VAL...] SERVICE [COMMAND] [ARGS...]

Options:
-d                    Detached mode: Run container in the background, print
                          new container name.
--name NAME           Assign a name to the container
--entrypoint CMD      Override the entrypoint of the image.
-e KEY=VAL            Set an environment variable (can be used multiple times)
-u, --user=""         Run as specified username or uid
--no-deps             Don't start linked services.
--rm                  Remove container after run. Ignored in detached mode.
-p, --publish=[]      Publish a container's port(s) to the host
--service-ports       Run command with the service's ports enabled and mapped to the host.
-T                    Disable pseudo-tty allocation. By default `docker-compose run` allocates a TTY.
-w, --workdir=""      Working directory inside the container
</pre> <p>Runs a one-time command against a service. For example, the following command starts the <code>web</code> service and runs <code>bash</code> as its command.</p> <pre>$ docker-compose run web bash
</pre> <p>Commands you use with <code>run</code> start in new containers with the same configuration as defined by the service’ configuration. This means the container has the same volumes, links, as defined in the configuration file. There two differences though.</p> <p>First, the command passed by <code>run</code> overrides the command defined in the service configuration. For example, if the <code>web</code> service configuration is started with <code>bash</code>, then <code>docker-compose run web python app.py</code> overrides it with <code>python app.py</code>.</p> <p>The second difference is the <code>docker-compose run</code> command does not create any of the ports specified in the service configuration. This prevents the port collisions with already open ports. If you <em>do want</em> the service’s ports created and mapped to the host, specify the <code>--service-ports</code> flag:</p> <pre>$ docker-compose run --service-ports web python manage.py shell
</pre> <p>Alternatively manual port mapping can be specified. Same as when running Docker’s <code>run</code> command - using <code>--publish</code> or <code>-p</code> options:</p> <pre>$ docker-compose run --publish 8080:80 -p 2022:22 -p 127.0.0.1:2021:21 web python manage.py shell
</pre> <p>If you start a service configured with links, the <code>run</code> command first checks to see if the linked service is running and starts the service if it is stopped. Once all the linked services are running, the <code>run</code> executes the command you passed it. So, for example, you could run:</p> <pre>$ docker-compose run db psql -h db -U docker
</pre> <p>This would open up an interactive PostgreSQL shell for the linked <code>db</code> container.</p> <p>If you do not want the <code>run</code> command to start linked containers, specify the <code>--no-deps</code> flag:</p> <pre>$ docker-compose run --no-deps web python manage.py shell
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013–2016 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/v1.11/compose/reference/run/" class="_attribution-link" target="_blank">https://docs.docker.com/v1.11/compose/reference/run/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
