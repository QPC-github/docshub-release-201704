
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Bundle Layout - D3.js 3 - W3cubDocs</title>
  
  <meta name="description" content=" API Reference ▸ Layouts ▸ Bundle Layout ">
  <meta name="keywords" content="bundle, layout, -, d, js, d3~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/d3~3/bundle-layout.md/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/d3~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/d3~3/" class="_nav-link" title="" style="margin-left:0;">D3.js 3</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _d3">
				
<h1>Bundle Layout</h1>
<blockquote> <p><a href="../">API Reference</a> ▸ <a href="../layouts.md/">Layouts</a> ▸ <strong>Bundle Layout</strong></p> </blockquote>  <p>Implements Danny Holten's <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.220.8113&amp;rep=rep1&amp;type=pdf" target="_blank">hierarchical edge bundling</a> algorithm. For each input link, a path is computed that travels through the tree, up the parent hierarchy to the least common ancestor, and then back down to the destination node. This sequence of nodes can then be used in conjunction with other <a href="../hierarchy-layout.md/">hierarchical layouts</a>, such as <a href="../cluster-layout.md/">cluster</a> to generate bundled splines between nodes:</p> <p><img src="https://github.com/d3/d3-3.x-api-reference/raw/master/bundle.png" alt="bundle" style="max-width:100%;"></p> <p>For example, consider this visualization of <a href="http://bl.ocks.org/mbostock/1044242" target="_blank">software dependencies</a>.</p> <h6 id="bundle"> d3.layout.<b>bundle</b>()</h6> <p>Constructs a new default bundle layout. Currently, the bundle layout is stateless and thus only has a default configuration. The returned layout object is both an object and a function. That is: you can call the layout like any other function, and the layout has additional methods that change its behavior. Like other classes in D3, layouts follow the method chaining pattern where setter methods return the layout itself, allowing multiple setters to be invoked in a concise statement.</p> <h6 id="_bundle"> <b>bundle</b>(<i>links</i>)</h6> <p>Evaluates the bundle layout on the specified array of <em>links</em>, returning the computed path from the source to the target, through the <a href="http://en.wikipedia.org/wiki/Lowest_common_ancestor" target="_blank">least common ancestor</a>. Each input link must have two attributes:</p> <ul> <li>source - the source node.</li> <li>target - the target node.</li> </ul> <p>Furthermore, each node must have one attribute:</p> <ul> <li>parent - the parent node.</li> </ul> <p>This is a subset of the fields generated by the <a href="../hierarchy-layout.md/">hierarchy layouts</a>. The return value of the layout is an array of paths, where each path is represented as an array of nodes. Thus, the bundle layout does not compute the basis splines directly; instead, it returns an array of nodes which implicitly represent the control points of the spline. You can use this array in conjunction with <a href="../svg-shapes.md/#line">d3.svg.line</a> or <a href="../svg-shapes.md/#line_radial">d3.svg.line.radial</a> to generate the splines themselves. For example, if you were to use a <a href="../cluster-layout.md/">cluster</a>:</p> <pre data-language="javascript">var cluster = d3.layout.cluster()
    .size([2 * Math.PI, 500]);</pre> <p>A suitable line generator for hierarchical edge bundling might be:</p> <pre data-language="javascript">var line = d3.svg.line.radial()
    .interpolate("bundle")
    .tension(.85)
    .radius(function(d) { return d.y; })
    .angle(function(d) { return d.x; });</pre> <p>The bundle layout is designed to work in conjunction with the line generator's "bundle" interpolation mode, though technically speaking you can use any interpolator or shape generator. Holten's bundle strength parameter is exposed as the line's <a href="../svg-shapes.md/#line_tension">tension</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2016 Michael Bostock<br>Licensed under the BSD License.<br>
    <a href="https://github.com/d3/d3-3.x-api-reference/blob/master/Bundle-Layout.md" class="_attribution-link" target="_blank">https://github.com/d3/d3-3.x-api-reference/blob/master/Bundle-Layout.md</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
