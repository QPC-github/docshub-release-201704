
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Formatting - D3.js 3 - W3cubDocs</title>
  
  <meta name="description" content=" API Reference ▸ Core ▸ Formatting ">
  <meta name="keywords" content="formatting, -, d, js, d3~3">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/d3~3/formatting.md/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/d3~3.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/d3~3/" class="_nav-link" title="" style="margin-left:0;">D3.js 3</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _d3">
				
<h1>Formatting</h1>
<blockquote> <p><a href="../">API Reference</a> ▸ <a href="../core.md/">Core</a> ▸ <strong>Formatting</strong></p> </blockquote>  <p>Formatting numbers is one of those things you don't normally think about until an ugly "0.30000000000000004" appears on your axis labels. Also, maybe you want to group thousands to improve readability, and use fixed precision, such as "$1,240.10". Or, maybe you want to display only the significant digits of a particular number. D3 makes this easy using a standard <strong>number format</strong>. For example, to create a function that zero-fills to four digits, say:</p> <pre data-language="javascript">var zero = d3.format("04d");</pre> <p>Now you can conveniently format numbers:</p> <pre data-language="javascript">zero(2); // "0002"
zero(123); // "0123"</pre> <p>In addition to numbers, D3 also supports formatting and parsing <a href="../time-formatting.md/">dates</a>, and <a href="../csv.md/">comma-separated values</a>.</p> <h2 id="numbers">
Numbers</h2> <h6 id="d3_format"> d3.<b>format</b>(<i>specifier</i>)</h6> <p>Returns a new format function with the given string <em>specifier</em>. (Equivalent to <a href="../localization.md/#locale_numberFormat">locale.numberFormat</a> for the default U.S. English locale.) A format function takes a number as the only argument, and returns a string representing the formatted number. The format specifier is modeled after Python 3.1's built-in <a href="http://docs.python.org/release/3.1.3/library/string.html#formatspec" target="_blank">format specification mini-language</a>. The general form of a specifier is:</p> <pre> [​[fill]align][sign][symbol][0][width][,][.precision][type]
</pre> <p>The <em>fill</em> can be any character other than "{" or "}". The presence of a fill character is signaled by the character following it, which must be one of the <em>align</em> options.</p> <p>The <em>align</em> can be:</p> <ul> <li>("&lt;") Forces the field to be left-aligned within the available space.</li> <li>("&gt;") Forces the field to be right-aligned within the available space. (This is the default).</li> <li>("^") Forces the field to be centered within the available space.</li> </ul> <p>The <em>sign</em> can be:</p> <ul> <li>plus ("+") - a sign should be used for both positive and negative numbers.</li> <li>minus ("-") - a sign should be used only for negative numbers. (This is the default.)</li> <li>space (" ") - a leading space should be used on positive numbers, and a minus sign on negative numbers.</li> </ul> <p>The <em>symbol</em> can be:</p> <ul> <li>currency ("$") - indicates that a currency symbol should be prefixed (or suffixed) per the locale. See <a href="https://github.com/mbostock/d3/wiki/Localization#locale" target="_blank">Localization</a> for more information on how to set the locale currency symbol.</li> <li>base ("#") - for binary, octal, or hexadecimal output, prefix by "0b", "0o", or "0x", respectively.</li> </ul> <p>The "0" option enables zero-padding.</p> <p>The <em>width</em> defines the minimum field width. If not specified, then the width will be determined by the content.</p> <p>The <em>comma</em> (",") option enables the use of a comma for a thousands separator.</p> <p>The <em>precision</em> indicates how many digits should be displayed after the decimal point for a value formatted with types "f" and "%", or before and after the decimal point for a value formatted with types "g", "r" and "p".</p> <p>The available <em>type</em> values are:</p> <ul> <li>exponent ("e") - use <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toExponential" target="_blank">Number.toExponential</a>.</li> <li>general ("g") - use <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toPrecision" target="_blank">Number.toPrecision</a>.</li> <li>fixed ("f") - use <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toFixed" target="_blank">Number.toFixed</a>.</li> <li>integer ("d") - use <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toString" target="_blank">Number.toString</a>, but ignore any non-integer values.</li> <li>rounded ("r") - round to <em>precision</em> significant digits, padding with zeroes where necessary in similar fashion to fixed ("f"). If no <em>precision</em> is specified, falls back to general notation.</li> <li>percentage ("%") - like fixed, but multiply by 100 and suffix with "%".</li> <li>rounded percentage ("p") - like rounded, but multiply by 100 and suffix with "%".</li> <li>binary ("b") - outputs the number in base 2.</li> <li>octal ("o") - outputs the number in base 8.</li> <li>hexadecimal ("x") - outputs the number in base 16, using lower-case letters for the digits above 9.</li> <li>hexadecimal ("X") - outputs the number in base 16, using upper-case letters for the digits above 9.</li> <li>character ("c") - converts the integer to the corresponding unicode character before printing.</li> <li>SI-prefix ("s") - like rounded, but with a unit suffixed such as "9.5M" for mega, or "1.00µ" for micro.</li> </ul> <p>The type "n" is also supported as shorthand for ",g".</p> <h6 id="d3_formatPrefix"> d3.<b>formatPrefix</b>(<i>value</i>[, <i>precision</i>])</h6> <p>Returns the <a href="http://en.wikipedia.org/wiki/Metric_prefix" target="_blank">SI prefix</a> for the specified <em>value</em>. If an optional <em>precision</em> is specified, the <em>value</em> is rounded accordingly using <a href="#d3_round">d3.round</a> before computing the prefix. The returned prefix object has two properties:</p> <ul> <li>symbol - the prefix symbol, such as "M" for millions.</li> <li>scale - the scale function, for converting numbers to the appropriate prefixed scale.</li> </ul> <p>For example:</p> <pre data-language="javascript">var prefix = d3.formatPrefix(1.21e9);
console.log(prefix.symbol); // "G"
console.log(prefix.scale(1.21e9)); // 1.21</pre> <p>This method is used by d3.format for the <code>s</code> format.</p> <h6 id="d3_round"> d3.<b>round</b>(<i>x</i>[, <i>n</i>])</h6> <p>Returns the value <em>x</em> rounded to <em>n</em> digits after the decimal point. If <em>n</em> is omitted, it defaults to zero. The result is a number. Values are rounded to the closest multiple of 10 to the power minus <em>n</em>; if two multiples are equally close, the value is rounded up in accordance with the built-in <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Math/round" target="_blank">round</a> function. For example:</p> <pre data-language="javascript">d3.round(1.23); // 1
d3.round(1.23, 1); // 1.2
d3.round(1.25, 1); // 1.3
d3.round(12.5, 0); // 13
d3.round(12, -1); // 10</pre> <p>Note that the resulting number when converted to a string may be imprecise due to IEEE floating point precision; to format a number to a string with a fixed number of decimal points, use <a href="../formatting.md/#d3_format">d3.format</a> instead.</p> <h2 id="strings">
Strings</h2> <h6 id="d3_requote"> d3.<b>requote</b>(<i>string</i>)</h6> <p>Returns a quoted (escaped) version of the specified <em>string</em> such that the string may be embedded in a regular expression as a string literal.</p> <pre data-language="javascript">d3.requote("[]"); // "\[\]"</pre> <h2 id="dates">
Dates</h2> <p>See the <a href="../time-formatting.md/">d3.time</a> module.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2016 Michael Bostock<br>Licensed under the BSD License.<br>
    <a href="https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md" class="_attribution-link" target="_blank">https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
