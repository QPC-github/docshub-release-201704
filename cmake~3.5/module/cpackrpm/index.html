
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>CPackRPM - CMake 3.5 - W3cubDocs</title>
  
  <meta name="description" content=" The builtin (binary) CPack RPM generator (Unix only) ">
  <meta name="keywords" content="cpackrpm, -, cmake, cmake~3.5">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cmake~3.5/module/cpackrpm/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cmake~3.5.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cmake~3.5/" class="_nav-link" title="" style="margin-left:0;">CMake 3.5</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx_simple">
				
<h1 id="module:CPackRPM">CPackRPM</h1> <p id="cpackrpm">The builtin (binary) CPack RPM generator (Unix only)</p>  <h2 id="variables-specific-to-cpack-rpm-generator">Variables specific to CPack RPM generator</h2> <p>CPackRPM may be used to create RPM package using CPack. CPackRPM is a CPack generator thus it uses the CPACK_XXX variables used by CPack : <a class="reference external" href="https://cmake.org/Wiki/CMake:CPackConfiguration" target="_blank">https://cmake.org/Wiki/CMake:CPackConfiguration</a></p> <p>However CPackRPM has specific features which are controlled by the specifics CPACK_RPM_XXX variables. CPackRPM is a component aware generator so when CPACK_RPM_COMPONENT_INSTALL is ON some more CPACK_RPM_&lt;ComponentName&gt;_XXXX variables may be used in order to have component specific values. Note however that &lt;componentName&gt; refers to the <strong>grouping name</strong>. This may be either a component name or a component GROUP name. Usually those vars correspond to RPM spec file entities, one may find information about spec files here <a class="reference external" href="http://www.rpm.org/wiki/Docs" target="_blank">http://www.rpm.org/wiki/Docs</a>. You’ll find a detailed usage of CPackRPM on the wiki:</p> <pre data-language="python">https://cmake.org/Wiki/CMake:CPackPackageGenerators#RPM_.28Unix_Only.29
</pre> <p>However as a handy reminder here comes the list of specific variables:</p> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_SUMMARY"><code>CPACK_RPM_PACKAGE_SUMMARY</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_SUMMARY"><code>CPACK_RPM_<component>_PACKAGE_SUMMARY</component></code></dt> <dd>
<p>The RPM package summary.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : CPACK_PACKAGE_DESCRIPTION_SUMMARY</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_NAME"><code>CPACK_RPM_PACKAGE_NAME</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_NAME"><code>CPACK_RPM_<component>_PACKAGE_NAME</component></code></dt> <dd>
<p>The RPM package name.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : CPACK_PACKAGE_NAME</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_VERSION"><code>CPACK_RPM_PACKAGE_VERSION</code></dt> <dd>
<p>The RPM package version.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : CPACK_PACKAGE_VERSION</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_ARCHITECTURE"><code>CPACK_RPM_PACKAGE_ARCHITECTURE</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_ARCHITECTURE"><code>CPACK_RPM_<component>_PACKAGE_ARCHITECTURE</component></code></dt> <dd>
<p>The RPM package architecture.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : Native architecture output by “uname -m”</li> </ul> <p>This may be set to “noarch” if you know you are building a noarch package.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_RELEASE"><code>CPACK_RPM_PACKAGE_RELEASE</code></dt> <dd>
<p>The RPM package release.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : 1</li> </ul> <p>This is the numbering of the RPM package itself, i.e. the version of the packaging and not the version of the content (see CPACK_RPM_PACKAGE_VERSION). One may change the default value if the previous packaging was buggy and/or you want to put here a fancy Linux distro specific numbering.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_LICENSE"><code>CPACK_RPM_PACKAGE_LICENSE</code></dt> <dd>
<p>The RPM package license policy.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : “unknown”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_GROUP"><code>CPACK_RPM_PACKAGE_GROUP</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_GROUP"><code>CPACK_RPM_<component>_PACKAGE_GROUP</component></code></dt> <dd>
<p>The RPM package group.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : “unknown”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_VENDOR"><code>CPACK_RPM_PACKAGE_VENDOR</code></dt> <dd>
<p>The RPM package vendor.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : CPACK_PACKAGE_VENDOR if set or “unknown”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_URL"><code>CPACK_RPM_PACKAGE_URL</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_URL"><code>CPACK_RPM_<component>_PACKAGE_URL</component></code></dt> <dd>
<p>The projects URL.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_DESCRIPTION"><code>CPACK_RPM_PACKAGE_DESCRIPTION</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_DESCRIPTION"><code>CPACK_RPM_<component>_PACKAGE_DESCRIPTION</component></code></dt> <dd>
<p>RPM package description.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : CPACK_COMPONENT_&lt;compName&gt;_DESCRIPTION (component based installers only) if set, CPACK_PACKAGE_DESCRIPTION_FILE if set or “no package description available”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_COMPRESSION_TYPE"><code>CPACK_RPM_COMPRESSION_TYPE</code></dt> <dd>
<p>RPM compression type.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to override RPM compression type to be used to build the RPM. For example some Linux distribution now default to lzma or xz compression whereas older cannot use such RPM. Using this one can enforce compression type to be used. Possible value are: lzma, xz, bzip2 and gzip.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_AUTOREQ"><code>CPACK_RPM_PACKAGE_AUTOREQ</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOREQ"><code>CPACK_RPM_<component>_PACKAGE_AUTOREQ</component></code></dt> <dd>
<p>RPM spec autoreq field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to enable (1, yes) or disable (0, no) automatic shared libraries dependency detection. Dependencies are added to requires list.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">By defalut automatic dependency detection is enabled by rpm generator.</p> </div> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_AUTOPROV"><code>CPACK_RPM_PACKAGE_AUTOPROV</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOPROV"><code>CPACK_RPM_<component>_PACKAGE_AUTOPROV</component></code></dt> <dd>
<p>RPM spec autoprov field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to enable (1, yes) or disable (0, no) automatic listing of shared libraries that are provided by the package. Shared libraries are added to provides list.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">By defalut automatic provides detection is enabled by rpm generator.</p> </div> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_AUTOREQPROV"><code>CPACK_RPM_PACKAGE_AUTOREQPROV</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOREQPROV"><code>CPACK_RPM_<component>_PACKAGE_AUTOREQPROV</component></code></dt> <dd>
<p>RPM spec autoreqprov field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>Variable enables/disables autoreq and autoprov at the same time. See <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_AUTOREQ" title="CPACK_RPM_PACKAGE_AUTOREQ" id="index-0-variable:CPACK_RPM_PACKAGE_AUTOREQ"><code>CPACK_RPM_PACKAGE_AUTOREQ</code></a> and <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_AUTOPROV" title="CPACK_RPM_PACKAGE_AUTOPROV" id="index-0-variable:CPACK_RPM_PACKAGE_AUTOPROV"><code>CPACK_RPM_PACKAGE_AUTOPROV</code></a> for more details.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">By defalut automatic detection feature is enabled by rpm.</p> </div> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES"><code>CPACK_RPM_PACKAGE_REQUIRES</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES"><code>CPACK_RPM_<component>_PACKAGE_REQUIRES</component></code></dt> <dd>
<p>RPM spec requires field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM dependencies (requires). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="python">set(CPACK_RPM_PACKAGE_REQUIRES "python &gt;= 2.5.0, cmake &gt;= 2.8")
</pre> <p>The required package list of an RPM file could be printed with:</p> <pre data-language="python">rpm -qp --requires file.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_CONFLICTS"><code>CPACK_RPM_PACKAGE_CONFLICTS</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_CONFLICTS"><code>CPACK_RPM_<component>_PACKAGE_CONFLICTS</component></code></dt> <dd>
<p>RPM spec conflicts field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set negative RPM dependencies (conflicts). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="python">set(CPACK_RPM_PACKAGE_CONFLICTS "libxml2")
</pre> <p>The conflicting package list of an RPM file could be printed with:</p> <pre data-language="python">rpm -qp --conflicts file.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_PRE"><code>CPACK_RPM_PACKAGE_REQUIRES_PRE</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_PRE"><code>CPACK_RPM_<component>_PACKAGE_REQUIRES_PRE</component></code></dt> <dd>
<p>RPM spec requires(pre) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM preinstall dependencies (requires(pre)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="python">set(CPACK_RPM_PACKAGE_REQUIRES_PRE "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_POST"><code>CPACK_RPM_PACKAGE_REQUIRES_POST</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_POST"><code>CPACK_RPM_<component>_PACKAGE_REQUIRES_POST</component></code></dt> <dd>
<p>RPM spec requires(post) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM postinstall dependencies (requires(post)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="python">set(CPACK_RPM_PACKAGE_REQUIRES_POST "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_POSTUN"><code>CPACK_RPM_PACKAGE_REQUIRES_POSTUN</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_POSTUN"><code>CPACK_RPM_<component>_PACKAGE_REQUIRES_POSTUN</component></code></dt> <dd>
<p>RPM spec requires(postun) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM postuninstall dependencies (requires(postun)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="python">set(CPACK_RPM_PACKAGE_REQUIRES_POSTUN "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_PREUN"><code>CPACK_RPM_PACKAGE_REQUIRES_PREUN</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_PREUN"><code>CPACK_RPM_<component>_PACKAGE_REQUIRES_PREUN</component></code></dt> <dd>
<p>RPM spec requires(preun) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM preuninstall dependencies (requires(preun)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="python">set(CPACK_RPM_PACKAGE_REQUIRES_PREUN "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_SUGGESTS"><code>CPACK_RPM_PACKAGE_SUGGESTS</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_SUGGESTS"><code>CPACK_RPM_<component>_PACKAGE_SUGGESTS</component></code></dt> <dd>
<p>RPM spec suggest field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set weak RPM dependencies (suggests). Note that you must enclose the complete requires string between quotes.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_PROVIDES"><code>CPACK_RPM_PACKAGE_PROVIDES</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_PROVIDES"><code>CPACK_RPM_<component>_PACKAGE_PROVIDES</component></code></dt> <dd>
<p>RPM spec provides field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM dependencies (provides). The provided package list of an RPM file could be printed with:</p> <pre data-language="python">rpm -qp --provides file.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_OBSOLETES"><code>CPACK_RPM_PACKAGE_OBSOLETES</code></dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_OBSOLETES"><code>CPACK_RPM_<component>_PACKAGE_OBSOLETES</component></code></dt> <dd>
<p>RPM spec obsoletes field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM packages that are obsoleted by this one.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_RELOCATABLE"><code>CPACK_RPM_PACKAGE_RELOCATABLE</code></dt> <dd>
<p>build a relocatable RPM.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : CPACK_PACKAGE_RELOCATABLE</li> </ul> <p>If this variable is set to TRUE or ON CPackRPM will try to build a relocatable RPM package. A relocatable RPM may be installed using:</p> <pre data-language="python">rpm --prefix or --relocate
</pre> <p>in order to install it at an alternate place see rpm(8). Note that currently this may fail if CPACK_SET_DESTDIR is set to ON. If CPACK_SET_DESTDIR is set then you will get a warning message but if there is file installed with absolute path you’ll get unexpected behavior.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_SPEC_INSTALL_POST"><code>CPACK_RPM_SPEC_INSTALL_POST</code></dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> <li>Deprecated: YES</li> </ul> <p>This way of specifying post-install script is deprecated, use CPACK_RPM_POST_INSTALL_SCRIPT_FILE. May be used to set an RPM post-install command inside the spec file. For example setting it to “/bin/true” may be used to prevent rpmbuild to strip binaries.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_SPEC_MORE_DEFINE"><code>CPACK_RPM_SPEC_MORE_DEFINE</code></dt> <dd>
<p>RPM extended spec definitions lines.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to add any %define lines to the generated spec file.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_DEBUG"><code>CPACK_RPM_PACKAGE_DEBUG</code></dt> <dd>
<p>Toggle CPackRPM debug output.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be set when invoking cpack in order to trace debug information during CPack RPM run. For example you may launch CPack like this:</p> <pre data-language="python">cpack -D CPACK_RPM_PACKAGE_DEBUG=1 -G RPM
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_USER_BINARY_SPECFILE"><code>CPACK_RPM_USER_BINARY_SPECFILE</code></dt> <dd>
<p>A user provided spec file.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be set by the user in order to specify a USER binary spec file to be used by CPackRPM instead of generating the file. The specified file will be processed by configure_file( @ONLY). One can provide a component specific file by setting CPACK_RPM_&lt;componentName&gt;_USER_BINARY_SPECFILE.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_GENERATE_USER_BINARY_SPECFILE_TEMPLATE"><code>CPACK_RPM_GENERATE_USER_BINARY_SPECFILE_TEMPLATE</code></dt> <dd>
<p>Spec file template.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>If set CPack will generate a template for USER specified binary spec file and stop with an error. For example launch CPack like this:</p> <pre data-language="python">cpack -D CPACK_RPM_GENERATE_USER_BINARY_SPECFILE_TEMPLATE=1 -G RPM
</pre> <p>The user may then use this file in order to hand-craft is own binary spec file which may be used with CPACK_RPM_USER_BINARY_SPECFILE.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PRE_INSTALL_SCRIPT_FILE"><code>CPACK_RPM_PRE_INSTALL_SCRIPT_FILE</code></dt> <dt id="variable:CPACK_RPM_PRE_UNINSTALL_SCRIPT_FILE"><code>CPACK_RPM_PRE_UNINSTALL_SCRIPT_FILE</code></dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to embed a pre (un)installation script in the spec file. The refered script file(s) will be read and directly put after the %pre or %preun section If CPACK_RPM_COMPONENT_INSTALL is set to ON the (un)install script for each component can be overridden with CPACK_RPM_&lt;COMPONENT&gt;_PRE_INSTALL_SCRIPT_FILE and CPACK_RPM_&lt;COMPONENT&gt;_PRE_UNINSTALL_SCRIPT_FILE. One may verify which scriptlet has been included with:</p> <pre data-language="python">rpm -qp --scripts  package.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_POST_INSTALL_SCRIPT_FILE"><code>CPACK_RPM_POST_INSTALL_SCRIPT_FILE</code></dt> <dt id="variable:CPACK_RPM_POST_UNINSTALL_SCRIPT_FILE"><code>CPACK_RPM_POST_UNINSTALL_SCRIPT_FILE</code></dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to embed a post (un)installation script in the spec file. The refered script file(s) will be read and directly put after the %post or %postun section. If CPACK_RPM_COMPONENT_INSTALL is set to ON the (un)install script for each component can be overridden with CPACK_RPM_&lt;COMPONENT&gt;_POST_INSTALL_SCRIPT_FILE and CPACK_RPM_&lt;COMPONENT&gt;_POST_UNINSTALL_SCRIPT_FILE. One may verify which scriptlet has been included with:</p> <pre data-language="python">rpm -qp --scripts  package.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_USER_FILELIST"><code>CPACK_RPM_USER_FILELIST</code></dt> <dt id="variable:CPACK_RPM_&lt;COMPONENT&gt;_USER_FILELIST"><code>CPACK_RPM_<component>_USER_FILELIST</component></code></dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to explicitly specify %(&lt;directive&gt;) file line in the spec file. Like %config(noreplace) or any other directive that be found in the %files section. Since CPackRPM is generating the list of files (and directories) the user specified files of the CPACK_RPM_&lt;COMPONENT&gt;_USER_FILELIST list will be removed from the generated list.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_CHANGELOG_FILE"><code>CPACK_RPM_CHANGELOG_FILE</code></dt> <dd>
<p>RPM changelog file.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to embed a changelog in the spec file. The refered file will be read and directly put after the %changelog section.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST"><code>CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST</code></dt> <dd>
<p>list of path to be excluded.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : /etc /etc/init.d /usr /usr/share /usr/share/doc /usr/bin /usr/lib /usr/lib64 /usr/include</li> </ul> <p>May be used to exclude path (directories or files) from the auto-generated list of paths discovered by CPack RPM. The defaut value contains a reasonable set of values if the variable is not defined by the user. If the variable is defined by the user then CPackRPM will NOT any of the default path. If you want to add some path to the default list then you can use CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION variable.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION"><code>CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION</code></dt> <dd>
<p>additional list of path to be excluded.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to add more exclude path (directories or files) from the initial default list of excluded paths. See CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_RELOCATION_PATHS"><code>CPACK_RPM_RELOCATION_PATHS</code></dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to specify more than one relocation path per relocatable RPM. Variable contains a list of relocation paths that if relative are prefixed by the value of CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX or by the value of CPACK_PACKAGING_INSTALL_PREFIX if the component version is not provided. Variable is not component based as its content can be used to set a different path prefix for e.g. binary dir and documentation dir at the same time. Only prefixes that are required by a certain component are added to that component - component must contain at least one file/directory/symbolic link with CPACK_RPM_RELOCATION_PATHS prefix for a certain relocation path to be added. Package will not contain any relocation paths if there are no files/directories/symbolic links on any of the provided prefix locations. Packages that either do not contain any relocation paths or contain files/directories/symbolic links that are outside relocation paths print out an AUTHOR_WARNING that RPM will be partially relocatable.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX"><code>CPACK_RPM_<component>_PACKAGE_PREFIX</component></code></dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : CPACK_PACKAGING_INSTALL_PREFIX</li> </ul> <p>May be used to set per component CPACK_PACKAGING_INSTALL_PREFIX for relocatable RPM packages.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_NO_INSTALL_PREFIX_RELOCATION"><code>CPACK_RPM_NO_INSTALL_PREFIX_RELOCATION</code></dt> <dt id="variable:CPACK_RPM_NO_&lt;COMPONENT&gt;_INSTALL_PREFIX_RELOCATION"><code>CPACK_RPM_NO_<component>_INSTALL_PREFIX_RELOCATION</component></code></dt> <dd>
<ul> <li>Mandatory : NO </li> <li>
<dl class="first docutils"> <dt>Default <span class="classifier-delimiter">:</span> <span class="classifier">CPACK_PACKAGING_INSTALL_PREFIX or CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX</span>
</dt> <dd>
<p class="first last">are treated as one of relocation paths</p> </dd> </dl> </li> </ul> <p>May be used to remove CPACK_PACKAGING_INSTALL_PREFIX and CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX from relocatable RPM prefix paths.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_ADDITIONAL_MAN_DIRS"><code>CPACK_RPM_ADDITIONAL_MAN_DIRS</code></dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set additional man dirs that could potentially be compressed by brp-compress RPM macro. Variable content must be a list of regular expressions that point to directories containing man files or to man files directly. Note that in order to compress man pages a path must also be present in brp-compress RPM script and that brp-compress script must be added to RPM configuration by the operating system.</p> <p>Regular expressions that are added by default were taken from brp-compress RPM macro:</p> <ul class="simple"> <li>/usr/man/man.*</li> <li>/usr/man/.*/man.*</li> <li>/usr/info.*</li> <li>/usr/share/man/man.*</li> <li>/usr/share/man/.*/man.*</li> <li>/usr/share/info.*</li> <li>/usr/kerberos/man.*</li> <li>/usr/X11R6/man/man.*</li> <li>/usr/lib/perl5/man/man.*</li> <li>/usr/share/doc/.*/man/man.*</li> <li>/usr/lib/.*/man/man.*</li> </ul> </dd>
</dl>   <h2 id="packaging-of-symbolic-links">Packaging of Symbolic Links</h2> <p>CPackRPM supports packaging of symbolic links:</p> <pre data-language="python">execute_process(COMMAND ${CMAKE_COMMAND}
  -E create_symlink &lt;relative_path_location&gt; &lt;symlink_name&gt;)
install(FILES ${CMAKE_CURRENT_BINARY_DIR}/&lt;symlink_name&gt;
  DESTINATION &lt;symlink_location&gt; COMPONENT libraries)
</pre> <p>Symbolic links will be optimized (paths will be shortened if possible) before being added to the package or if multiple relocation paths are detected, a post install symlink relocation script will be generated.</p> <p>Symbolic links may point to locations that are not packaged by the same package (either a different component or even not packaged at all) but those locations will be treated as if they were a part of the package while determining if symlink should be either created or present in a post install script - depending on relocation paths.</p> <p>Currenty there are a few limitations though:</p> <ul class="simple"> <li>Only symbolic links with relative path can be packaged.</li> <li>For component based packaging component interdependency is not checked when processing symbolic links. Symbolic links pointing to content of a different component are treated the same way as if pointing to location that will not be packaged.</li> <li>Symbolic links pointing to a location through one or more intermediate symbolic links will not be handled differently - if the intermediate symbolic link(s) is also on a relocatable path, relocating it during package installation may cause initial symbolic link to point to an invalid location.</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    © 2000–2016 Kitware, Inc.<br>© 2000–2011 Insight Software Consortium<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.5/module/CPackRPM.html" class="_attribution-link" target="_blank">https://cmake.org/cmake/help/v3.5/module/CPackRPM.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
