
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>DoctrineTokenProvider - Symfony 3.1 - W3cubDocs</title>
  
  <meta name="description" content=" class DoctrineTokenProvider implements TokenProviderInterface ">
  <meta name="keywords" content="doctrinetokenprovider, -, symfony, symfony~3.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/symfony~3.1/symfony/bridge/doctrine/security/rememberme/doctrinetokenprovider/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/symfony~3.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/symfony~3.1/" class="_nav-link" title="" style="margin-left:0;">Symfony 3.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _laravel">
				
<h1> DoctrineTokenProvider </h1> <p> class <strong>DoctrineTokenProvider</strong> implements <a href="../../../../../component/security/core/authentication/rememberme/tokenproviderinterface/" title="Symfony\Component\Security\Core\Authentication\RememberMe\TokenProviderInterface">TokenProviderInterface</a> </p> <div class="description"> <p>This class provides storage for the tokens that is set in "remember me" cookies. This way no password secrets will be stored in the cookies on the client machine, and thus the security is improved.</p> <p>This depends only on doctrine in order to get a database connection and to do the conversion of the datetime column.</p> <p>In order to use this class, you need the following table in your database: CREATE TABLE <code>rememberme_token</code> ( <code>series</code> char(88) UNIQUE PRIMARY KEY NOT NULL, <code>value</code> char(88) NOT NULL, <code>lastUsed</code> datetime NOT NULL, <code>class</code> varchar(100) NOT NULL, <code>username</code> varchar(200) NOT NULL );</p> </div> <h2>Methods</h2> <table> <tr> <td> </td> <td> <a href="#method___construct">__construct</a>(Connection $conn) <p>new DoctrineTokenProvider for the RememberMe authentication service.</p> </td> <td></td>
</tr>  <tr> <td> <a href="../../../../../component/security/core/authentication/rememberme/persistenttokeninterface/" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a> </td> <td> <a href="#method_loadTokenBySeries">loadTokenBySeries</a>(string $series) <p>Loads the active token for the given series.</p> </td> <td></td>
</tr>  <tr> <td> </td> <td> <a href="#method_deleteTokenBySeries">deleteTokenBySeries</a>(string $series) <p>Deletes all tokens belonging to series.</p> </td> <td></td>
</tr>  <tr> <td> </td> <td> <a href="#method_updateToken">updateToken</a>(string $series, string $tokenValue, <a target="_blank" href="http://php.net/DateTime">DateTime</a> $lastUsed) <p>Updates the token according to this data.</p> </td> <td></td>
</tr>  <tr> <td> </td> <td> <a href="#method_createNewToken">createNewToken</a>(<a href="../../../../../component/security/core/authentication/rememberme/persistenttokeninterface/" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a> $token) <p>Creates a new token.</p> </td> <td></td>
</tr>  </table> <h2>Details</h2> <div id="method-details"> <div class="method-item"> <h3 id="method___construct">                      
    __construct(Connection $conn)
         </h3>  <div class="method-description"> <p>new DoctrineTokenProvider for the RememberMe authentication service.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>Connection</td> <td>$conn</td> <td></td> </tr> </table> </div>  </div> <div class="method-item"> <h3 id="method_loadTokenBySeries">                      <a href="../../../../../component/security/core/authentication/rememberme/persistenttokeninterface/" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a>
    loadTokenBySeries(string $series)
         </h3>  <div class="method-description"> <p>Loads the active token for the given series.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>string</td> <td>$series</td> <td></td> </tr> </table> <h4>Return Value</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../../component/security/core/authentication/rememberme/persistenttokeninterface/" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a></td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../../component/security/core/exception/tokennotfoundexception/" title="Symfony\Component\Security\Core\Exception\TokenNotFoundException">TokenNotFoundException</a></td> <td>if the token is not found</td> </tr> </table> </div>  </div> <div class="method-item"> <h3 id="method_deleteTokenBySeries">                      
    deleteTokenBySeries(string $series)
         </h3>  <div class="method-description"> <p>Deletes all tokens belonging to series.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>string</td> <td>$series</td> <td></td> </tr> </table> </div>  </div> <div class="method-item"> <h3 id="method_updateToken">                      
    updateToken(string $series, string $tokenValue, <a target="_blank" href="http://php.net/DateTime">DateTime</a> $lastUsed)
         </h3>  <div class="method-description"> <p>Updates the token according to this data.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td>string</td> <td>$series</td> <td></td> </tr> <tr> <td>string</td> <td>$tokenValue</td> <td></td> </tr> <tr> <td><a target="_blank" href="http://php.net/DateTime">DateTime</a></td> <td>$lastUsed</td> <td></td> </tr> </table> <h4>Exceptions</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../../component/security/core/exception/tokennotfoundexception/" title="Symfony\Component\Security\Core\Exception\TokenNotFoundException">TokenNotFoundException</a></td> <td>if the token is not found</td> </tr> </table> </div>  </div> <div class="method-item"> <h3 id="method_createNewToken">                      
    createNewToken(<a href="../../../../../component/security/core/authentication/rememberme/persistenttokeninterface/" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a> $token)
         </h3>  <div class="method-description"> <p>Creates a new token.</p> </div> <div class="tags"> <h4>Parameters</h4> <table class="table table-condensed"> <tr> <td><a href="../../../../../component/security/core/authentication/rememberme/persistenttokeninterface/" title="Symfony\Component\Security\Core\Authentication\RememberMe\PersistentTokenInterface">PersistentTokenInterface</a></td> <td>$token</td> <td></td> </tr> </table> </div>  </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2004–2016 Fabien Potencier<br>Licensed under the MIT License.<br>
    <a href="http://api.symfony.com/3.1/Symfony/Bridge/Doctrine/Security/RememberMe/DoctrineTokenProvider.html" class="_attribution-link" target="_blank">http://api.symfony.com/3.1/Symfony/Bridge/Doctrine/Security/RememberMe/DoctrineTokenProvider.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
