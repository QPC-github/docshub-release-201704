
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Math&#58;&#58;BigRat - Perl 5.20 - W3cubDocs</title>
  
  <meta name="description" content=" Math&#58;&#58;BigRat - Arbitrary big rational numbers ">
  <meta name="keywords" content="math, bigrat, -, perl, perl~5.20">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/perl~5.20/math/bigrat/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/perl~5.20.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/perl~5.20/" class="_nav-link" title="" style="margin-left:0;">Perl 5.20</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _perl">
				
<h1>Math::BigRat</h1>  <ul>
<li><a href="#NAME">NAME</a></li>
<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
<li>
<a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#MATH-LIBRARY">MATH LIBRARY</a></li></ul>
</li>
<li>
<a href="#METHODS">METHODS</a><ul>
<li><a href="#new()">new()</a></li>
<li><a href="#numerator()">numerator()</a></li>
<li><a href="#denominator()">denominator()</a></li>
<li><a href="#parts()">parts()</a></li>
<li><a href="#numify()">numify()</a></li>
<li><a href="#as_int()%2fas_number()">as_int()/as_number()</a></li>
<li><a href="#as_float()">as_float()</a></li>
<li><a href="#as_hex()">as_hex()</a></li>
<li><a href="#as_bin()">as_bin()</a></li>
<li><a href="#as_oct()">as_oct()</a></li>
<li><a href="#from_hex()%2ffrom_bin()%2ffrom_oct()">from_hex()/from_bin()/from_oct()</a></li>
<li><a href="#length()">length()</a></li>
<li><a href="#digit()">digit()</a></li>
<li><a href="#bnorm()">bnorm()</a></li>
<li><a href="#bfac()">bfac()</a></li>
<li><a href="#bround()%2fround()%2fbfround()">bround()/round()/bfround()</a></li>
<li><a href="#bmod()">bmod()</a></li>
<li><a href="#bneg()">bneg()</a></li>
<li><a href="#is_one()">is_one()</a></li>
<li><a href="#is_zero()">is_zero()</a></li>
<li><a href="#is_pos()%2fis_positive()">is_pos()/is_positive()</a></li>
<li><a href="#is_neg()%2fis_negative()">is_neg()/is_negative()</a></li>
<li><a href="#is_int()">is_int()</a></li>
<li><a href="#is_odd()">is_odd()</a></li>
<li><a href="#is_even()">is_even()</a></li>
<li><a href="#bceil()">bceil()</a></li>
<li><a href="#bfloor()">bfloor()</a></li>
<li><a href="#bsqrt()">bsqrt()</a></li>
<li><a href="#broot()">broot()</a></li>
<li><a href="#badd()%2fbmul()%2fbsub()%2fbdiv()%2fbdec()%2fbinc()">badd()/bmul()/bsub()/bdiv()/bdec()/binc()</a></li>
<li><a href="#copy()">copy()</a></li>
<li><a href="#bstr()%2fbsstr()">bstr()/bsstr()</a></li>
<li><a href="#bacmp()%2fbcmp()">bacmp()/bcmp()</a></li>
<li><a href="#blsft()%2fbrsft()">blsft()/brsft()</a></li>
<li><a href="#bpow()">bpow()</a></li>
<li><a href="#bexp()">bexp()</a></li>
<li><a href="#bnok()">bnok()</a></li>
<li><a href="#config()">config()</a></li>
<li><a href="#objectify()">objectify()</a></li>
</ul>
</li>
<li><a href="#BUGS">BUGS</a></li>
<li><a href="#LICENSE">LICENSE</a></li>
<li><a href="#SEE-ALSO">SEE ALSO</a></li>
<li><a href="#AUTHORS">AUTHORS</a></li>
</ul>
<h2 id="NAME">NAME</h2> <p>Math::BigRat - Arbitrary big rational numbers</p> <h2 id="SYNOPSIS">SYNOPSIS</h2> <pre class="verbatim" data-language="perl">use Math::BigRat;

my $x = Math::BigRat-&gt;new('3/7'); $x += '5/9';

print $x-&gt;bstr(),"\n";
print $x ** 2,"\n";

my $y = Math::BigRat-&gt;new('inf');
print "$y ", ($y-&gt;is_inf ? 'is' : 'is not') , " infinity\n";

my $z = Math::BigRat-&gt;new(144); $z-&gt;bsqrt();
</pre>
<h2 id="DESCRIPTION">DESCRIPTION</h2> <p>Math::BigRat complements Math::BigInt and Math::BigFloat by providing support for arbitrary big rational numbers.</p> <h3 id="MATH-LIBRARY">MATH LIBRARY</h3> <p>You can change the underlying module that does the low-level math operations by using:</p> <pre class="verbatim" data-language="perl">use Math::BigRat try =&gt; 'GMP';
</pre>
<p>Note: This needs Math::BigInt::GMP installed.</p> <p>The following would first try to find Math::BigInt::Foo, then Math::BigInt::Bar, and when this also fails, revert to Math::BigInt::Calc:</p> <pre class="verbatim" data-language="perl">use Math::BigRat try =&gt; 'Foo,Math::BigInt::Bar';
</pre>
<p>If you want to get warned when the fallback occurs, replace "try" with "lib":</p> <pre class="verbatim" data-language="perl">use Math::BigRat lib =&gt; 'Foo,Math::BigInt::Bar';
</pre>
<p>If you want the code to die instead, replace "try" with "only":</p> <pre class="verbatim" data-language="perl">use Math::BigRat only =&gt; 'Foo,Math::BigInt::Bar';
</pre>
<h2 id="METHODS">METHODS</h2> <p>Any methods not listed here are derived from Math::BigFloat (or Math::BigInt), so make sure you check these two modules for further information.</p> <h3 id="new()">new()</h3> <pre class="verbatim" data-language="perl">$x = Math::BigRat-&gt;new('1/3');
</pre>
<p>Create a new Math::BigRat object. Input can come in various forms:</p> <pre class="verbatim" data-language="perl">$x = Math::BigRat-&gt;new(123);				# scalars
$x = Math::BigRat-&gt;new('inf');				# infinity
$x = Math::BigRat-&gt;new('123.3');			# float
$x = Math::BigRat-&gt;new('1/3');				# simple string
$x = Math::BigRat-&gt;new('1 / 3');			# spaced
$x = Math::BigRat-&gt;new('1 / 0.1');			# w/ floats
$x = Math::BigRat-&gt;new(Math::BigInt-&gt;new(3));		# BigInt
$x = Math::BigRat-&gt;new(Math::BigFloat-&gt;new('3.1'));	# BigFloat
$x = Math::BigRat-&gt;new(Math::BigInt::Lite-&gt;new('2'));	# BigLite

# You can also give D and N as different objects:
$x = Math::BigRat-&gt;new(
	Math::BigInt-&gt;new(-123),
	Math::BigInt-&gt;new(7),
	);			# =&gt; -123/7
</pre>
<h3 id="numerator()">numerator()</h3> <pre class="verbatim" data-language="perl">$n = $x-&gt;numerator();
</pre>
<p>Returns a copy of the numerator (the part above the line) as signed BigInt.</p> <h3 id="denominator()">denominator()</h3> <pre class="verbatim" data-language="perl">$d = $x-&gt;denominator();
</pre>
<p>Returns a copy of the denominator (the part under the line) as positive BigInt.</p> <h3 id="parts()">parts()</h3> <pre class="verbatim" data-language="perl">($n,$d) = $x-&gt;parts();
</pre>
<p>Return a list consisting of (signed) numerator and (unsigned) denominator as BigInts.</p> <h3 id="numify()">numify()</h3> <pre class="verbatim" data-language="perl">my $y = $x-&gt;numify();
</pre>
<p>Returns the object as a scalar. This will lose some data if the object cannot be represented by a normal Perl scalar (integer or float), so use <a href="#as_int()%2fas_number()">as_int()</a> or <a href="#as_float()">as_float()</a> instead.</p> <p>This routine is automatically used whenever a scalar is required:</p> <pre class="verbatim" data-language="perl">my $x = Math::BigRat-&gt;new('3/1');
@array = (0,1,2,3);
$y = $array[$x];		# set $y to 3
</pre>
<h3 id="as_int()%2fas_number()">as_int()/as_number()</h3> <pre class="verbatim" data-language="perl">$x = Math::BigRat-&gt;new('13/7');
print $x-&gt;as_int(),"\n";		# '1'
</pre>
<p>Returns a copy of the object as BigInt, truncated to an integer.</p> <p><code class="inline"><span class="i">as_number</span><span class="s">(</span><span class="s">)</span></code> is an alias for <code class="inline"><span class="i">as_int</span><span class="s">(</span><span class="s">)</span></code> .</p> <h3 id="as_float()">as_float()</h3> <pre class="verbatim" data-language="perl">$x = Math::BigRat-&gt;new('13/7');
print $x-&gt;as_float(),"\n";		# '1'

$x = Math::BigRat-&gt;new('2/3');
print $x-&gt;as_float(5),"\n";		# '0.66667'
</pre>
<p>Returns a copy of the object as BigFloat, preserving the accuracy as wanted, or the default of 40 digits.</p> <p>This method was added in v0.22 of Math::BigRat (April 2008).</p> <h3 id="as_hex()">as_hex()</h3> <pre class="verbatim" data-language="perl">$x = Math::BigRat-&gt;new('13');
print $x-&gt;as_hex(),"\n";		# '0xd'
</pre>
<p>Returns the BigRat as hexadecimal string. Works only for integers.</p> <h3 id="as_bin()">as_bin()</h3> <pre class="verbatim" data-language="perl">$x = Math::BigRat-&gt;new('13');
print $x-&gt;as_bin(),"\n";		# '0x1101'
</pre>
<p>Returns the BigRat as binary string. Works only for integers.</p> <h3 id="as_oct()">as_oct()</h3> <pre class="verbatim" data-language="perl">$x = Math::BigRat-&gt;new('13');
print $x-&gt;as_oct(),"\n";		# '015'
</pre>
<p>Returns the BigRat as octal string. Works only for integers.</p> <h3 id="from_hex()%2ffrom_bin()%2ffrom_oct()">from_hex()/from_bin()/from_oct()</h3> <pre class="verbatim" data-language="perl">my $h = Math::BigRat-&gt;from_hex('0x10');
my $b = Math::BigRat-&gt;from_bin('0b10000000');
my $o = Math::BigRat-&gt;from_oct('020');
</pre>
<p>Create a BigRat from an hexadecimal, binary or octal number in string form.</p> <h3 id="length()">length()</h3> <pre class="verbatim" data-language="perl">$len = $x-&gt;length();
</pre>
<p>Return the length of $x in digits for integer values.</p> <h3 id="digit()">digit()</h3> <pre class="verbatim" data-language="perl">print Math::BigRat-&gt;new('123/1')-&gt;digit(1);	# 1
print Math::BigRat-&gt;new('123/1')-&gt;digit(-1);	# 3
</pre>
<p>Return the N'ths digit from X when X is an integer value.</p> <h3 id="bnorm()">bnorm()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bnorm();
</pre>
<p>Reduce the number to the shortest form. This routine is called automatically whenever it is needed.</p> <h3 id="bfac()">bfac()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bfac();
</pre>
<p>Calculates the factorial of $x. For instance:</p> <pre class="verbatim" data-language="perl">print Math::BigRat-&gt;new('3/1')-&gt;bfac(),"\n";	# 1*2*3
print Math::BigRat-&gt;new('5/1')-&gt;bfac(),"\n";	# 1*2*3*4*5
</pre>
<p>Works currently only for integers.</p> <h3 id="bround()%2fround()%2fbfround()">bround()/round()/bfround()</h3> <p>Are not yet implemented.</p> <h3 id="bmod()">bmod()</h3> <pre class="verbatim" data-language="perl">use Math::BigRat;
my $x = Math::BigRat-&gt;new('7/4');
my $y = Math::BigRat-&gt;new('4/3');
print $x-&gt;bmod($y);
</pre>
<p>Set $x to the remainder of the division of $x by $y.</p> <h3 id="bneg()">bneg()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bneg();
</pre>
<p>Used to negate the object in-place.</p> <h3 id="is_one()">is_one()</h3> <pre class="verbatim" data-language="perl">print "$x is 1\n" if $x-&gt;is_one();
</pre>
<p>Return true if $x is exactly one, otherwise false.</p> <h3 id="is_zero()">is_zero()</h3> <pre class="verbatim" data-language="perl">print "$x is 0\n" if $x-&gt;is_zero();
</pre>
<p>Return true if $x is exactly zero, otherwise false.</p> <h3 id="is_pos()%2fis_positive()">is_pos()/is_positive()</h3> <pre class="verbatim" data-language="perl">print "$x is &gt;= 0\n" if $x-&gt;is_positive();
</pre>
<p>Return true if $x is positive (greater than or equal to zero), otherwise false. Please note that '+inf' is also positive, while 'NaN' and '-inf' aren't.</p> <p><code class="inline"><span class="i">is_positive</span><span class="s">(</span><span class="s">)</span></code> is an alias for <code class="inline"><span class="i">is_pos</span><span class="s">(</span><span class="s">)</span></code> .</p> <h3 id="is_neg()%2fis_negative()">is_neg()/is_negative()</h3> <pre class="verbatim" data-language="perl">print "$x is &lt; 0\n" if $x-&gt;is_negative();
</pre>
<p>Return true if $x is negative (smaller than zero), otherwise false. Please note that '-inf' is also negative, while 'NaN' and '+inf' aren't.</p> <p><code class="inline"><span class="i">is_negative</span><span class="s">(</span><span class="s">)</span></code> is an alias for <code class="inline"><span class="i">is_neg</span><span class="s">(</span><span class="s">)</span></code> .</p> <h3 id="is_int()">is_int()</h3> <pre class="verbatim" data-language="perl">print "$x is an integer\n" if $x-&gt;is_int();
</pre>
<p>Return true if $x has a denominator of 1 (e.g. no fraction parts), otherwise false. Please note that '-inf', 'inf' and 'NaN' aren't integer.</p> <h3 id="is_odd()">is_odd()</h3> <pre class="verbatim" data-language="perl">print "$x is odd\n" if $x-&gt;is_odd();
</pre>
<p>Return true if $x is odd, otherwise false.</p> <h3 id="is_even()">is_even()</h3> <pre class="verbatim" data-language="perl">print "$x is even\n" if $x-&gt;is_even();
</pre>
<p>Return true if $x is even, otherwise false.</p> <h3 id="bceil()">bceil()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bceil();
</pre>
<p>Set $x to the next bigger integer value (e.g. truncate the number to integer and then increment it by one).</p> <h3 id="bfloor()">bfloor()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bfloor();
</pre>
<p>Truncate $x to an integer value.</p> <h3 id="bsqrt()">bsqrt()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bsqrt();
</pre>
<p>Calculate the square root of $x.</p> <h3 id="broot()">broot()</h3> <pre class="verbatim" data-language="perl">$x-&gt;broot($n);
</pre>
<p>Calculate the N'th root of $x.</p> <h3 id="badd()%2fbmul()%2fbsub()%2fbdiv()%2fbdec()%2fbinc()">badd()/bmul()/bsub()/bdiv()/bdec()/binc()</h3> <p>Please see the documentation in <a href="../bigint/">Math::BigInt</a>.</p> <h3 id="copy()">copy()</h3> <pre class="verbatim" data-language="perl">my $z = $x-&gt;copy();
</pre>
<p>Makes a deep copy of the object.</p> <p>Please see the documentation in <a href="../bigint/">Math::BigInt</a> for further details.</p> <h3 id="bstr()%2fbsstr()">bstr()/bsstr()</h3> <pre class="verbatim" data-language="perl">my $x = Math::BigInt-&gt;new('8/4');
print $x-&gt;bstr(),"\n";			# prints 1/2
print $x-&gt;bsstr(),"\n";			# prints 1/2
</pre>
<p>Return a string representing this object.</p> <h3 id="bacmp()%2fbcmp()">bacmp()/bcmp()</h3> <p>Used to compare numbers.</p> <p>Please see the documentation in <a href="../bigint/">Math::BigInt</a> for further details.</p> <h3 id="blsft()%2fbrsft()">blsft()/brsft()</h3> <p>Used to shift numbers left/right.</p> <p>Please see the documentation in <a href="../bigint/">Math::BigInt</a> for further details.</p> <h3 id="bpow()">bpow()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bpow($y);
</pre>
<p>Compute $x ** $y.</p> <p>Please see the documentation in <a href="../bigint/">Math::BigInt</a> for further details.</p> <h3 id="bexp()">bexp()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bexp($accuracy);		# calculate e ** X
</pre>
<p>Calculates two integers A and B so that A/B is equal to <code class="inline"><span class="w">e</span> ** <span class="i">$x</span></code> , where <code class="inline"><span class="w">e</span></code> is Euler's number.</p> <p>This method was added in v0.20 of Math::BigRat (May 2007).</p> <p>See also <code class="inline"><span class="i">blog</span><span class="s">(</span><span class="s">)</span></code> .</p> <h3 id="bnok()">bnok()</h3> <pre class="verbatim" data-language="perl">$x-&gt;bnok($y);		   # x over y (binomial coefficient n over k)
</pre>
<p>Calculates the binomial coefficient n over k, also called the "choose" function. The result is equivalent to:</p> <pre class="verbatim" data-language="perl">( n )      n!
| - |  = -------
( k )    k!(n-k)!
</pre>
<p>This method was added in v0.20 of Math::BigRat (May 2007).</p> <h3 id="config()">config()</h3> <pre class="verbatim" data-language="perl">use Data::Dumper;

print Dumper ( Math::BigRat-&gt;config() );
print Math::BigRat-&gt;config()-&gt;{lib},"\n";
</pre>
<p>Returns a hash containing the configuration, e.g. the version number, lib loaded etc. The following hash keys are currently filled in with the appropriate information.</p> <pre class="verbatim" data-language="perl">key             RO/RW   Description
                        Example
============================================================
lib             RO      Name of the Math library
                        Math::BigInt::Calc
lib_version     RO      Version of 'lib'
                        0.30
class           RO      The class of config you just called
                        Math::BigRat
version         RO      version number of the class you used
                        0.10
upgrade         RW      To which class numbers are upgraded
                        undef
downgrade       RW      To which class numbers are downgraded
                        undef
precision       RW      Global precision
                        undef
accuracy        RW      Global accuracy
                        undef
round_mode      RW      Global round mode
                        even
div_scale       RW      Fallback accuracy for div
                        40
trap_nan        RW      Trap creation of NaN (undef = no)
                        undef
trap_inf        RW      Trap creation of +inf/-inf (undef = no)
                        undef
</pre>
<p>By passing a reference to a hash you may set the configuration values. This works only for values that a marked with a <code class="inline"><span class="w">RW</span></code> above, anything else is read-only.</p> <h3 id="objectify()">objectify()</h3> <p>This is an internal routine that turns scalars into objects.</p> <h2 id="BUGS">BUGS</h2> <p>Some things are not yet implemented, or only implemented half-way:</p> <ul> <li id="inf-handling-(partial)">
<b>inf handling (partial)</b> </li> <li id="NaN-handling-(partial)">
<b>NaN handling (partial)</b> </li> <li id="rounding-(not-implemented-except-for-bceil%2fbfloor)">
<b>rounding (not implemented except for bceil/bfloor)</b> </li> <li id="%24x-**-%24y-where-%24y-is-not-an-integer">
<b>$x ** $y where $y is not an integer</b> </li> <li id="bmod()%2c-blog()%2c-bmodinv()-and-bmodpow()-(partial)">
<b>bmod(), blog(), bmodinv() and bmodpow() (partial)</b> </li> </ul> <h2 id="LICENSE">LICENSE</h2> <p>This program is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</p> <h2 id="SEE-ALSO">SEE ALSO</h2> <p><a href="../bigfloat/">Math::BigFloat</a> and <a href="http://search.cpan.org/perldoc/Math::Big" target="_blank">Math::Big</a> as well as <a href="http://search.cpan.org/perldoc/Math::BigInt::Pari" target="_blank">Math::BigInt::Pari</a> and <a href="http://search.cpan.org/perldoc/Math::BigInt::GMP" target="_blank">Math::BigInt::GMP</a>.</p> <p>See <a href="http://search.cpan.org/search?dist=bignum" target="_blank">http://search.cpan.org/search?dist=bignum</a> for a way to use Math::BigRat.</p> <p>The package at <a href="http://search.cpan.org/search?dist=Math%3A%3ABigRat" target="_blank">http://search.cpan.org/search?dist=Math%3A%3ABigRat</a> may contain more documentation and examples as well as testcases.</p> <h2 id="AUTHORS">AUTHORS</h2> <p>(C) by Tels <a href="http://bloodgate.com/" target="_blank">http://bloodgate.com/</a> 2001 - 2009.</p> <p>Currently maintained by Jonathan "Duke" Leto &lt;jonathan@leto.net&gt; <a href="http://leto.net" target="_blank">http://leto.net</a></p>
<div class="_attribution">
  <p class="_attribution-p">
    © 1993–2016 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="http://perldoc.perl.org/5.20.2/Math/BigRat.html" class="_attribution-link" target="_blank">http://perldoc.perl.org/5.20.2/Math/BigRat.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
