
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ISO&#47;IEC 14882&#58;1998 Edits for Thread-Local Storage - GCC 4 - W3cubDocs</title>
  
  <meta name="description" content=" The following are a set of changes to ISO&#47;IEC 14882&#58;1998 (aka C++98) that document the exact semantics of the language extension. ">
  <meta name="keywords" content="iso, iec, edits, for, thread-local, storage, -, gcc, gcc~4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/gcc~4/c_002b_002b98-thread_002dlocal-edits/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/gcc~4.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/gcc~4/" class="_nav-link" title="" style="margin-left:0;">GCC 4</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _gnu">
				
<h1 class="subsection" id="C_002b_002b98-Thread_002dLocal-Edits">6.61.2 ISO/IEC 14882:1998 Edits for Thread-Local Storage</h1> <p>The following are a set of changes to ISO/IEC 14882:1998 (aka C++98) that document the exact semantics of the language extension. </p>
<ul> <li>
<b>[intro.execution]</b> <p>New text after paragraph 4 </p>
<blockquote> A thread is a flow of control within the abstract machine. It is implementation defined whether or not there may be more than one thread. </blockquote> <p>New text after paragraph 7 </p>
<blockquote> It is unspecified whether additional action must be taken to ensure when and whether side effects are visible to other threads. </blockquote> </li>
<li>
<b>[lex.key]</b> <p>Add <code>__thread</code>. </p>
</li>
<li>
<b>[basic.start.main]</b> <p>Add after paragraph 5 </p>
<blockquote> The thread that begins execution at the <code>main</code> function is called the main thread. It is implementation defined how functions beginning threads other than the main thread are designated or typed. A function so designated, as well as the <code>main</code> function, is called a thread startup function. It is implementation defined what happens if a thread startup function returns. It is implementation defined what happens to other threads when any thread calls <code>exit</code>. </blockquote> </li>
<li>
<b>[basic.start.init]</b> <p>Add after paragraph 4 </p>
<blockquote> The storage for an object of thread storage duration shall be statically initialized before the first statement of the thread startup function. An object of thread storage duration shall not require dynamic initialization. </blockquote> </li>
<li>
<b>[basic.start.term]</b> <p>Add after paragraph 3 </p>
<blockquote> The type of an object with thread storage duration shall not have a non-trivial destructor, nor shall it be an array type whose elements (directly or indirectly) have non-trivial destructors. </blockquote> </li>
<li>
<b>[basic.stc]</b> <p>Add “thread storage duration” to the list in paragraph 1. </p>
<p>Change paragraph 2 </p>
<blockquote> Thread, static, and automatic storage durations are associated with objects introduced by declarations [<small class="dots">...</small>]. </blockquote> <p>Add <code>__thread</code> to the list of specifiers in paragraph 3. </p>
</li>
<li>
<b>[basic.stc.thread]</b> <p>New section before <b>[basic.stc.static]</b> </p>
<blockquote> The keyword <code>__thread</code> applied to a non-local object gives the object thread storage duration. <p>A local variable or class data member declared both <code>static</code> and <code>__thread</code> gives the variable or member thread storage duration. </p>
</blockquote> </li>
<li>
<b>[basic.stc.static]</b> <p>Change paragraph 1 </p>
<blockquote> All objects that have neither thread storage duration, dynamic storage duration nor are local [<small class="dots">...</small>]. </blockquote> </li>
<li>
<b>[dcl.stc]</b> <p>Add <code>__thread</code> to the list in paragraph 1. </p>
<p>Change paragraph 1 </p>
<blockquote> With the exception of <code>__thread</code>, at most one <var>storage-class-specifier</var> shall appear in a given <var>decl-specifier-seq</var>. The <code>__thread</code> specifier may be used alone, or immediately following the <code>extern</code> or <code>static</code> specifiers. [<small class="dots">...</small>] </blockquote> <p>Add after paragraph 5 </p>
<blockquote> The <code>__thread</code> specifier can be applied only to the names of objects and to anonymous unions. </blockquote> </li>
<li>
<b>[class.mem]</b> <p>Add after paragraph 6 </p>
<blockquote> Non-<code>static</code> members shall not be <code>__thread</code>. </blockquote> </li>
</ul>
<div class="_attribution">
  <p class="_attribution-p">
    © Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-4.9.3/gcc/C_002b_002b98-Thread_002dLocal-Edits.html" class="_attribution-link" target="_blank">https://gcc.gnu.org/onlinedocs/gcc-4.9.3/gcc/C_002b_002b98-Thread_002dLocal-Edits.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
