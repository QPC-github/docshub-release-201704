
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Installation on Mac OS X (Engine) - Docker 1.10 - W3cubDocs</title>
  
  <meta name="description" content="Note&#58; This release of Docker deprecates the Boot2Docker command line in favor of Docker Machine. Use the Docker Toolbox to install Docker &hellip;">
  <meta name="keywords" content="mac, os, x, installation, on, engine, -, docker, docker~1.10">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/docker~1.10/engine/installation/mac/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/docker~1.10.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~1.10/" class="_nav-link" title="" style="margin-left:0;">Docker 1.10</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _docker">
				
<h1 id="mac-os-x">Mac OS X</h1> <blockquote> <p><strong>Note</strong>: This release of Docker deprecates the Boot2Docker command line in favor of Docker Machine. Use the Docker Toolbox to install Docker Machine as well as the other Docker tools.</p> </blockquote> <p>You install Docker using Docker Toolbox. Docker Toolbox includes the following Docker tools:</p> <ul> <li>Docker Machine for running the <code>docker-machine</code> binary</li> <li>Docker Engine for running the <code>docker</code> binary</li> <li>Docker Compose for running the <code>docker-compose</code> binary</li> <li>Kitematic, the Docker GUI</li> <li>a shell preconfigured for a Docker command-line environment</li> <li>Oracle VM VirtualBox</li> </ul> <p>Because the Docker daemon uses Linux-specific kernel features, you can’t run Docker natively in OS X. Instead, you must use <code>docker-machine</code> to create and attach to a virtual machine (VM). This machine is a Linux VM that hosts Docker for you on your Mac.</p> <p><strong>Requirements</strong></p> <p>Your Mac must be running OS X 10.8 “Mountain Lion” or newer to install the Docker Toolbox.</p> <h3 id="learn-the-key-concepts-before-installing">Learn the key concepts before installing</h3> <p>In a Docker installation on Linux, your physical machine is both the localhost and the Docker host. In networking, localhost means your computer. The Docker host is the computer on which the containers run.</p> <p>On a typical Linux installation, the Docker client, the Docker daemon, and any containers run directly on your localhost. This means you can address ports on a Docker container using standard localhost addressing such as <code>localhost:8000</code> or <code>0.0.0.0:8376</code>.</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/linux_docker_host.svg" alt="Linux Architecture Diagram"></p> <p>In an OS X installation, the <code>docker</code> daemon is running inside a Linux VM called <code>default</code>. The <code>default</code> is a lightweight Linux VM made specifically to run the Docker daemon on Mac OS X. The VM runs completely from RAM, is a small ~24MB download, and boots in approximately 5s.</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/mac_docker_host.svg" alt="OSX Architecture Diagram"></p> <p>In OS X, the Docker host address is the address of the Linux VM. When you start the VM with <code>docker-machine</code> it is assigned an IP address. When you start a container, the ports on a container map to ports on the VM. To see this in practice, work through the exercises on this page.</p> <h3 id="installation">Installation</h3> <p>If you have VirtualBox running, you must shut it down before running the installer.</p> <ol> <li><p>Go to the <a href="https://www.docker.com/toolbox" target="_blank">Docker Toolbox</a> page.</p></li> <li><p>Click the installer link to download.</p></li> <li>
<p>Install Docker Toolbox by double-clicking the package or by right-clicking and choosing “Open” from the pop-up menu.</p> <p>The installer launches the “Install Docker Toolbox” dialog.</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/mac-welcome-page.png" alt="Install Docker Toolbox"></p>
</li> <li>
<p>Press “Continue” to install the toolbox.</p> <p>The installer presents you with options to customize the standard installation.</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/mac-page-two.png" alt="Standard install"></p> <p>By default, the standard Docker Toolbox installation:</p> <ul> <li>installs binaries for the Docker tools in <code>/usr/local/bin</code>
</li> <li>makes these binaries available to all users</li> <li>installs VirtualBox; or updates any existing installation</li> </ul> <p>Change these defaults by pressing “Customize” or “Change Install Location.”</p>
</li> <li>
<p>Press “Install” to perform the standard installation.</p> <p>The system prompts you for your password.</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/mac-password-prompt.png" alt="Password prompt"></p>
</li> <li>
<p>Provide your password to continue with the installation.</p> <p>When it completes, the installer provides you with some information you can use to complete some common tasks.</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/mac-page-finished.png" alt="All finished"></p>
</li> <li><p>Press “Close” to exit.</p></li> </ol> <h2 id="running-a-docker-container">Running a Docker Container</h2> <p>To run a Docker container, you:</p> <ul> <li>create a new (or start an existing) virtual machine that runs Docker.</li> <li>switch your environment to your new VM</li> <li>use the <code>docker</code> client to create, load, and manage containers</li> </ul> <p>Once you create a machine, you can reuse it as often as you like. Like any VirtualBox VM, it maintains its configuration between uses.</p> <p>There are two ways to use the installed tools, from the Docker Quickstart Terminal or <a href="#from-your-shell">from your shell</a>.</p> <h3 id="from-the-docker-quickstart-terminal">From the Docker Quickstart Terminal</h3> <ol> <li><p>Open the “Applications” folder or the “Launchpad”.</p></li> <li>
<p>Find the Docker Quickstart Terminal and double-click to launch it.</p> <p>The application:</p> <ul> <li>opens a terminal window</li> <li>creates a <code>default</code> VM if it doesn’t exists, and starts the VM after</li> <li>points the terminal environment to this VM</li> </ul> <p>Once the launch completes, the Docker Quickstart Terminal reports:</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/mac-success.png" alt="All finished"></p> <p>Now, you can run <code>docker</code> commands.</p>
</li> <li>
<p>Verify your setup succeeded by running the <code>hello-world</code> container.</p> <pre>$ docker run hello-world
Unable to find image 'hello-world:latest' locally
511136ea3c5a: Pull complete
31cbccb51277: Pull complete
e45a5af57b00: Pull complete
hello-world:latest: The image you are pulling has been verified.
Important: image verification is a tech preview feature and should not be
relied on to provide security.
Status: Downloaded newer image for hello-world:latest
Hello from Docker.
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
1. The Docker client contacted the Docker daemon.
2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
   (Assuming it was not already locally available.)
3. The Docker daemon created a new container from that image which runs the
   executable that produces the output you are currently reading.
4. The Docker daemon streamed that output to the Docker client, which sent it
   to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
$ docker run -it ubuntu bash

For more examples and ideas, visit:
http://docs.docker.com/userguide/
</pre>
</li> </ol> <p>A more typical way to interact with the Docker tools is from your regular shell command line.</p> <h3 id="from-your-shell">From your shell</h3> <p>This section assumes you are running a Bash shell. You may be running a different shell such as C Shell but the commands are the same.</p> <ol> <li>
<p>Create a new Docker VM.</p> <pre>$ docker-machine create --driver virtualbox default
Creating VirtualBox VM...
Creating SSH key...
Starting VirtualBox VM...
Starting VM...
To see how to connect Docker to this machine, run: docker-machine env default
</pre> <p>This creates a new <code>default</code> VM in VirtualBox.</p> <p>The command also creates a machine configuration in the <code>~/.docker/machine/machines/default</code> directory. You only need to run the <code>create</code> command once. Then, you can use <code>docker-machine</code> to start, stop, query, and otherwise manage the VM from the command line.</p>
</li> <li>
<p>List your available machines.</p> <pre>$ docker-machine ls
NAME                ACTIVE   DRIVER       STATE     URL                         SWARM
default             *        virtualbox   Running   tcp://192.168.99.101:2376
</pre> <p>If you have previously installed the deprecated Boot2Docker application or run the Docker Quickstart Terminal, you may have a <code>dev</code> VM as well. When you created <code>default</code> VM, the <code>docker-machine</code> command provided instructions for learning how to connect the VM.</p>
</li> <li>
<p>Get the environment commands for your new VM.</p> <pre>$ docker-machine env default
export DOCKER_TLS_VERIFY="1"
export DOCKER_HOST="tcp://192.168.99.101:2376"
export DOCKER_CERT_PATH="/Users/mary/.docker/machine/machines/default"
export DOCKER_MACHINE_NAME="default"
# Run this command to configure your shell:
# eval "$(docker-machine env default)"
</pre>
</li> <li>
<p>Connect your shell to the <code>default</code> machine.</p> <pre>$ eval "$(docker-machine env default)"
</pre>
</li> <li>
<p>Run the <code>hello-world</code> container to verify your setup.</p> <pre>$ docker run hello-world
</pre>
</li> </ol> <h2 id="learn-about-your-toolbox-installation">Learn about your Toolbox installation</h2> <p>Toolbox installs the Docker Engine binary, the Docker binary on your system. When you use the Docker Quickstart Terminal or create a <code>default</code> VM manually, Docker Machine updates the <code>~/.docker/machine/machines/default</code> folder to your system. This folder contains the configuration for the VM.</p> <p>You can create multiple VMs on your system with Docker Machine. Therefore, you may end up with multiple VM folders if you have more than one VM. To remove a VM, use the <code>docker-machine rm &lt;machine-name&gt;</code> command.</p> <h2 id="migrate-from-boot2docker">Migrate from Boot2Docker</h2> <p>If you were using Boot2Docker previously, you have a pre-existing Docker <code>boot2docker-vm</code> VM on your local system. To allow Docker Machine to manage this older VM, you can migrate it.</p> <ol> <li><p>Open a terminal or the Docker CLI on your system.</p></li> <li>
<p>Type the following command.</p> <pre>$ docker-machine create -d virtualbox --virtualbox-import-boot2docker-vm boot2docker-vm docker-vm
</pre>
</li> <li><p>Use the <code>docker-machine</code> command to interact with the migrated VM.</p></li> </ol> <p>The <code>docker-machine</code> subcommands are slightly different than the <code>boot2docker</code> subcommands. The table below lists the equivalent <code>docker-machine</code> subcommand and what it does:</p> <table> <thead> <tr> <th><code>boot2docker</code></th> <th><code>docker-machine</code></th> <th>
<code>docker-machine</code> description</th> </tr> </thead> <tbody> <tr> <td>init</td> <td>create</td> <td>Creates a new docker host.</td> </tr> <tr> <td>up</td> <td>start</td> <td>Starts a stopped machine.</td> </tr> <tr> <td>ssh</td> <td>ssh</td> <td>Runs a command or interactive ssh session on the machine.</td> </tr> <tr> <td>save</td> <td>-</td> <td>Not applicable.</td> </tr> <tr> <td>down</td> <td>stop</td> <td>Stops a running machine.</td> </tr> <tr> <td>poweroff</td> <td>stop</td> <td>Stops a running machine.</td> </tr> <tr> <td>reset</td> <td>restart</td> <td>Restarts a running machine.</td> </tr> <tr> <td>config</td> <td>inspect</td> <td>Prints machine configuration details.</td> </tr> <tr> <td>status</td> <td>ls</td> <td>Lists all machines and their status.</td> </tr> <tr> <td>info</td> <td>inspect</td> <td>Displays a machine’s details.</td> </tr> <tr> <td>ip</td> <td>ip</td> <td>Displays the machine’s ip address.</td> </tr> <tr> <td>shellinit</td> <td>env</td> <td>Displays shell commands needed to configure your shell to interact with a machine</td> </tr> <tr> <td>delete</td> <td>rm</td> <td>Removes a machine.</td> </tr> <tr> <td>download</td> <td>-</td> <td>Not applicable.</td> </tr> <tr> <td>upgrade</td> <td>upgrade</td> <td>Upgrades a machine’s Docker client to the latest stable release.</td> </tr> </tbody> </table> <h2 id="example-of-docker-on-mac-os-x">Example of Docker on Mac OS X</h2> <p>Work through this section to try some practical container tasks on a VM. At this point, you should have a VM running and be connected to it through your shell. To verify this, run the following commands:</p> <pre>$ docker-machine ls
NAME                ACTIVE   DRIVER       STATE     URL                         SWARM
default             *        virtualbox   Running   tcp://192.168.99.100:2376
</pre> <p>The <code>ACTIVE</code> machine, in this case <code>default</code>, is the one your environment is pointing to.</p> <h3 id="access-container-ports">Access container ports</h3> <ol> <li>
<p>Start an NGINX container on the DOCKER_HOST.</p> <pre>$ docker run -d -P --name web nginx
</pre> <p>Normally, the <code>docker run</code> commands starts a container, runs it, and then exits. The <code>-d</code> flag keeps the container running in the background after the <code>docker run</code> command completes. The <code>-P</code> flag publishes exposed ports from the container to your local host; this lets you access them from your Mac.</p>
</li> <li>
<p>Display your running container with <code>docker ps</code> command</p> <pre>CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                                           NAMES
5fb65ff765e9        nginx:latest        "nginx -g 'daemon of   3 minutes ago       Up 3 minutes        0.0.0.0:49156-&gt;443/tcp, 0.0.0.0:49157-&gt;80/tcp   web
</pre> <p>At this point, you can see <code>nginx</code> is running as a daemon.</p>
</li> <li>
<p>View just the container’s ports.</p> <pre>$ docker port web
443/tcp -&gt; 0.0.0.0:49156
80/tcp -&gt; 0.0.0.0:49157
</pre> <p>This tells you that the <code>web</code> container’s port <code>80</code> is mapped to port <code>49157</code> on your Docker host.</p>
</li> <li>
<p>Enter the <code>http://localhost:49157</code> address (<code>localhost</code> is <code>0.0.0.0</code>) in your browser:</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/bad_host.png" alt="Bad Address"></p> <p>This didn’t work. The reason it doesn’t work is your <code>DOCKER_HOST</code> address is not the localhost address (0.0.0.0) but is instead the address of the your Docker VM.</p>
</li> <li>
<p>Get the address of the <code>default</code> VM.</p> <pre>$ docker-machine ip default
192.168.59.103
</pre>
</li> <li>
<p>Enter the <code>http://192.168.59.103:49157</code> address in your browser:</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/good_host.png" alt="Correct Addressing"></p> <p>Success!</p>
</li> <li>
<p>To stop and then remove your running <code>nginx</code> container, do the following:</p> <pre>$ docker stop web
$ docker rm web
</pre>
</li> </ol> <h3 id="mount-a-volume-on-the-container">Mount a volume on the container</h3> <p>When you start a container it automatically shares your <code>/Users/username</code> directory with the VM. You can use this share point to mount directories onto your container. The next exercise demonstrates how to do this.</p> <ol> <li>
<p>Change to your user <code>$HOME</code> directory.</p> <pre>$ cd $HOME
</pre>
</li> <li>
<p>Make a new <code>site</code> directory.</p> <pre>$ mkdir site
</pre>
</li> <li>
<p>Change into the <code>site</code> directory.</p> <pre>$ cd site
</pre>
</li> <li>
<p>Create a new <code>index.html</code> file.</p> <pre>$ echo "my new site" &gt; index.html
</pre>
</li> <li>
<p>Start a new <code>nginx</code> container and replace the <code>html</code> folder with your <code>site</code> directory.</p> <pre>$ docker run -d -P -v $HOME/site:/usr/share/nginx/html \
  --name mysite nginx
</pre>
</li> <li>
<p>Get the <code>mysite</code> container’s port.</p> <pre>$ docker port mysite
80/tcp -&gt; 0.0.0.0:49166
443/tcp -&gt; 0.0.0.0:49165
</pre>
</li> <li>
<p>Open the site in a browser:</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/newsite_view.png" alt="My site page"></p>
</li> <li>
<p>Try adding a page to your <code>$HOME/site</code> in real time.</p> <pre>$ echo "This is cool" &gt; cool.html
</pre>
</li> <li>
<p>Open the new page in the browser.</p> <p><img src="https://docs.docker.com/v1.10/engine/installation/images/cool_view.png" alt="Cool page"></p>
</li> <li>
<p>Stop and then remove your running <code>mysite</code> container.</p> <pre>$ docker stop mysite
$ docker rm mysite
</pre>
</li> </ol> <h2 id="upgrade-docker-toolbox">Upgrade Docker Toolbox</h2> <p>To upgrade Docker Toolbox, download and re-run <a href="https://docker.com/toolbox/" target="_blank">the Docker Toolbox installer</a>.</p> <h2 id="uninstall-docker-toolbox">Uninstall Docker Toolbox</h2> <p>To uninstall, do the following:</p> <ol> <li>
<p>List your machines.</p> <pre>$ docker-machine ls
NAME                ACTIVE   DRIVER       STATE     URL                         SWARM
dev                 *        virtualbox   Running   tcp://192.168.99.100:2376
my-docker-machine            virtualbox   Stopped
default                      virtualbox   Stopped
</pre>
</li> <li>
<p>Remove each machine.</p> <pre>$ docker-machine rm dev
Successfully removed dev
</pre> <p>Removing a machine deletes its VM from VirtualBox and from the <code>~/.docker/machine/machines</code> directory.</p>
</li> <li><p>Remove the Docker Quickstart Terminal and Kitematic from your “Applications” folder.</p></li> <li>
<p>Remove the <code>docker</code>, <code>docker-compose</code>, and <code>docker-machine</code> commands from the <code>/usr/local/bin</code> folder.</p> <pre>$ rm /usr/local/bin/docker
</pre>
</li> <li><p>Delete the <code>~/.docker</code> folder from your system.</p></li> </ol> <h2 id="learning-more">Learning more</h2> <p>Use <code>docker-machine help</code> to list the full command line reference for Docker Machine. For more information about using SSH or SCP to access a VM, see <a href="https://docs.docker.com/machine/" target="_blank">the Docker Machine documentation</a>.</p> <p>You can continue with the <a href="https://docs.docker.com/v1.10/engine/userguide/" target="_blank">Docker User Guide</a>. If you are interested in using the Kitematic GUI, see the <a href="https://docs.docker.com/kitematic/userguide/" target="_blank">Kitematic user guide</a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013–2016 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/v1.10/engine/installation/mac/" class="_attribution-link" target="_blank">https://docs.docker.com/v1.10/engine/installation/mac/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
