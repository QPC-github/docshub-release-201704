
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Swarm Join - Docker 1.10 - W3cubDocs</title>
  
  <meta name="description" content=" Prerequisite&#58; Before using join, establish a discovery backend as described in this discovery topic. ">
  <meta name="keywords" content="join, —, create, swarm, node, -, docker, docker~1.10">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/docker~1.10/swarm/reference/join/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/docker~1.10.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~1.10/" class="_nav-link" title="" style="margin-left:0;">Docker 1.10</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _docker">
				
<h1 id="join-create-a-swarm-node">join — Create a Swarm node</h1> <p>Prerequisite: Before using <code>join</code>, establish a discovery backend as described in <a href="../../discovery/">this discovery topic</a>.</p> <p>The <code>join</code> command creates a Swarm node whose purpose is to run containers on behalf of the cluster. A typical cluster has multiple Swarm nodes.</p> <p>To create a Swarm node, use the following syntax:</p> <pre>$ docker run swarm join [OPTIONS] &lt;discovery&gt;
</pre> <p>For example, to create a Swarm node in a high-availability cluster with other managers, enter:</p> <pre>$ docker run -d swarm join --advertise=172.30.0.69:2375 consul://172.30.0.161:8500
</pre> <p>Or, for example, to create a Swarm node that uses Transport Layer Security (TLS) to authenticate the Docker Swarm nodes, enter:</p> <pre>$ sudo docker run -d swarm join --addr=node1:2376 token://86222732d62b6868d441d430aee4f055
</pre> <h2 id="arguments">Arguments</h2> <p>The <code>join</code> command has only one argument:</p> <h3 id="discovery-discovery-backend">
<code>&lt;discovery&gt;</code> — Discovery backend</h3> <p>Before you create a Swarm node, <a href="../create/">create a discovery token</a> or <a href="../../discovery/">set up a discovery backend</a> for your cluster.</p> <p>When you create the swarm node, use the <code>&lt;discovery&gt;</code> argument to specify one of the following discovery backends:</p> <ul> <li><code>token://&lt;token&gt;</code></li> <li><code>consul://&lt;ip1&gt;/&lt;path&gt;</code></li> <li><code>etcd://&lt;ip1&gt;,&lt;ip2&gt;,&lt;ip2&gt;/&lt;path&gt;</code></li> <li><code>file://&lt;path/to/file&gt;</code></li> <li><code>zk://&lt;ip1&gt;,&lt;ip2&gt;/&lt;path&gt;</code></li> <li><code>[nodes://]&lt;iprange&gt;,&lt;iprange&gt;</code></li> </ul> <p>Where:</p> <ul> <li><p><code>&lt;token&gt;</code> is a discovery token generated by Docker Hub’s hosted discovery service. To generate this discovery token, use the <a href="../create/"><code>create</code></a> command. &gt; Warning: Docker Hub’s hosted discovery backend is not recommended for production use. It’s intended only for testing/development.</p></li> <li><p><code>ip1</code>, <code>ip2</code>, <code>ip3</code> are each the IP address and port numbers of a discovery backend node.</p></li> <li><p><code>path</code> (optional) is a path to a key-value store on the discovery backend. When you use a single backend to service multiple clusters, you use paths to maintain separate key-value stores for each cluster.</p></li> <li><p><code>path/to/file</code> is the path to a file that contains a static list of the Swarm managers and nodes that are members the cluster. </p></li> <li><p><code>iprange</code> is an IP address or a range of IP addresses followed by a port number.</p></li> </ul> <p>For example: * A discovery token: <code>token://0ac50ef75c9739f5bfeeaf00503d4e6e</code> * A Consul node: <code>consul://172.30.0.165:8500</code></p> <p>The environment variable for <code>&lt;discovery&gt;</code> is <code>$SWARM_DISCOVERY</code>.</p> <p>For more information and examples, see the <a href="../../discovery/">Docker Swarm Discovery</a> topic.</p> <h2 id="options">Options</h2> <p>The <code>join</code> command has the following options:</p> <h3 id="advertise-or-addr-advertise-the-docker-engine-s-ip-and-port-number">
<code>--advertise</code> or <code>--addr</code> — Advertise the Docker Engine’s IP and port number</h3> <p>Use <code>--advertise &lt;ip&gt;:&lt;port&gt;</code> or <code>--addr &lt;ip&gt;:&lt;port&gt;</code> to advertise the IP address and port number of the Docker Engine. For example, <code>--advertise 172.30.0.161:4000</code>. Swarm managers MUST be able to reach this Swarm node at this address.</p> <p>The environment variable for <code>--advertise</code> is <code>$SWARM_ADVERTISE</code>.</p> <h3 id="heartbeat-period-between-each-heartbeat">
<code>--heartbeat</code> — Period between each heartbeat</h3> <p>Use <code>--heartbeat "&lt;interval&gt;s"</code> to specify the interval, in seconds, between heartbeats the node sends to the primary manager. These heartbeats indicate that the node is healthy and reachable. By default, the interval is 60 seconds.</p> <h3 id="ttl-sets-the-expiration-of-an-ephemeral-node">
<code>--ttl</code> — Sets the expiration of an ephemeral node</h3> <p>Use <code>--ttl "&lt;interval&gt;s"</code> to specify the time-to-live (TTL) interval, in seconds, of an ephemeral node. The default interval is <code>180s</code>. </p> <h3 id="delay-add-a-random-delay-in-0s-delay-to-avoid-synchronized-registration">
<code>--delay</code> — Add a random delay in [0s,delay] to avoid synchronized registration</h3> <p>Use <code>--delay "&lt;interval&gt;s"</code> to specify the maximum interval for a random delay, in seconds, before the node registers with the discovery backend. If you deploy a large number of nodes simultaneously, the random delay spreads registrations out over the interval and avoids saturating the discovery backend.</p> <h3 id="discovery-opt-discovery-options">
<code>--discovery-opt</code> — Discovery options</h3> <p>Use <code>--discovery-opt &lt;value&gt;</code> to discovery options, such as paths to the TLS files; the CA’s public key certificate, the certificate, and the private key of the distributed K/V store on a Consul or etcd discovery backend. You can enter multiple discovery options. For example:</p> <pre>--discovery-opt kv.cacertfile=/path/to/mycacert.pem \
--discovery-opt kv.certfile=/path/to/mycert.pem \
--discovery-opt kv.keyfile=/path/to/mykey.pem \
</pre> <p>For more information, see <a href="../../discovery/">Use TLS with distributed key/value discovery</a></p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2013–2016 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/v1.10/swarm/reference/join/" class="_attribution-link" target="_blank">https://docs.docker.com/v1.10/swarm/reference/join/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
