
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Privacy and the &#58;visited Selector - CSS - W3cubDocs</title>
  
  <meta name="description" content="Historically, the CSS &#58;visited selector has been a way for sites to query the user&#39;s history, by using getComputedStyle() or other &hellip;">
  <meta name="keywords" content="privacy, and, visited, selector, -, css">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/css/privacy_and_the_:visited_selector/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/css.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/css/" class="_nav-link" title="" style="margin-left:0;">CSS</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _mdn">
				
<h1>Privacy and the :visited selector</h1> <p>Historically, the CSS <a title="The :visited CSS pseudo-class lets you select only links that have been visited. This style may be overridden by any other link-related pseudo-classes, that is :link, :hover, and :active, appearing in subsequent rules. In order to style appropriately links, you need to put the :visited rule after the :link rule but before the other ones, defined in the LVHA-order: :link — :visited — :hover — :active." href="../:visited/"><code>:visited</code></a> selector has been a way for sites to query the user's history, by using <code>getComputedStyle()</code> or other techniques to walk through the user's history to figure out what sites the user has visited. This can be done quickly, and makes it possible not only to determine where the user has been on the web, but can also be used to guess a lot of information about a user's identity.</p> <p>To mitigate this problem, changes have been made in <span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko 2</span> to limit the amount of information that can be obtained about visited links.</p> <h2 id="Little_white_lies">Little white lies</h2> <p>The first change is that Gecko will lie to web applications under certain circumstances. In particular, <code>getComputedStyle()</code> and similar functions such as <a title="Returns the first element that is a descendant of the element on which it is invoked that matches the specified group of selectors." href="https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelector" target="_blank"><code>element.querySelector()</code></a> always return values indicating that a user has never visited any of the links on a page.</p> <p>Also, if you use a sibling connector such as <code>:visited + span</code>, the <a title="The HTML &lt;span&gt; element is a generic inline container for phrasing content, which does not inherently represent anything. It can be used to group elements for styling purposes (using the class or id attributes), or because they share attribute values, such as lang. It should be used only when no other semantic element is appropriate. &lt;span&gt; is very much like a &lt;div&gt; element, but &lt;div&gt; is a block-level element whereas a &lt;span&gt; is an inline element." href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/span" target="_blank"><code>&lt;span&gt;</code></a> will be styled as if the link were unvisited.</p> <p>And, in a rare scenario, if you're using nested link elements and the element being matched is different from the link whose presence in history is being tested, the element is drawn as if the link were unvisited as well.</p> <h2 id="Limits_to_visited_link_styles">Limits to visited link styles</h2> <p>You will still be able to visually style visited links, but there are now limits on what styles you can use. Only the following properties can be applied to visited links:</p> <ul> <li><a title="The color property sets the foreground color of an element's text content, and its decorations. It doesn't affect any other characteristic of the element; it should really be called text-color and would have been named so, save for historical reasons and its appearance in CSS Level 1." href="../color/"><code>color</code></a></li> <li><a title="The background-color CSS property sets the background color of an element, either through a color value or the keyword transparent." href="../background-color/"><code>background-color</code></a></li> <li>
<a title="The border-color CSS property is a shorthand for setting the color of the four sides of an element's border: border-top-color, border-right-color, border-bottom-color, border-left-color" href="../border-color/"><code>border-color</code></a> (and its sub-properties)</li> <li><a title="The outline-color CSS property sets the color of the outline of an element. An outline is a line that is drawn around elements, outside the border edge, to make the element stand out." href="../outline-color/"><code>outline-color</code></a></li> <li>The color parts of the <code>fill</code> and <code>stroke</code> properties</li> </ul> <p>In addition, even for the properties you can set for visited links, you won't be able to change the transparency between unvisited and visited links, as you otherwise would be able to using <code>rgba()</code> or <code>hsla()</code> color values or the <code>transparent</code> keyword.</p> <p>Here is an example how to use styles with discussed restrictions:</p> <pre>:link {
   outline: 1px dotted blue;
   background-color: white;
   /* The default value of background-color is 'transparent'.
      You need to specify a different value, otherwise changes on :visited don't apply */
}

:visited {
   outline-color: orange;     /* visited links have an orange outline */
   color: yellow;             /* visited links have yellow colored text */
   background-color: green;   /* visited links have a green background */
}
</pre> <h2 id="Impact_on_web_developers">Impact on web developers</h2> <p>Overall, this shouldn't affect web developers too significantly. This may, however, require the following changes to sites:</p> <ul> <li>Using background images to style links and indicate whether or not they've been visited will no longer work, since only colors can be used to style visited links.</li> </ul> <h2 id="See_also">See also</h2> <ul> <li>
<a title="http://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/" href="http://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/" class="external" target="_blank">privacy-related changes coming to CSS :visited</a> on Mozilla Hacks</li> <li>
<a title="http://blog.mozilla.com/security/2010/03/31/plugging-the-css-history-leak/" href="http://blog.mozilla.com/security/2010/03/31/plugging-the-css-history-leak/" class="external" target="_blank">Plugging the CSS History Leak</a> on the Mozilla Security Blog</li> <li><a href="http://dbaron.org/mozilla/visited-privacy" class="external" target="_blank">Preventing attacks on a user's history through CSS :visited selectors</a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Privacy_and_the_:visited_selector%24edit" class="_attribution-link" target="_blank">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2017 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Privacy_and_the_:visited_selector" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/CSS/Privacy_and_the_:visited_selector</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
