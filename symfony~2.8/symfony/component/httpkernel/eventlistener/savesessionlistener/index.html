
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>EventListener&#92;SaveSessionListener (Component&#92;HttpKernel) - Symfony 2.8 - W3cubDocs</title>
  
  <meta name="description" content=" class SaveSessionListener implements EventSubscriberInterface ">
  <meta name="keywords" content="symfony, component, httpkernel, eventlistener, savesessionlistener, -, symfony~2.8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/symfony~2.8/symfony/component/httpkernel/eventlistener/savesessionlistener/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/symfony~2.8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/symfony~2.8/" class="_nav-link" title="" style="margin-left:0;">Symfony 2.8</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _laravel">
				
<h1>Symfony\Component\HttpKernel\EventListener\SaveSessionListener</h1>  <p> class <strong>SaveSessionListener</strong> implements <a href="../../../eventdispatcher/eventsubscriberinterface/" title="Symfony\Component\EventDispatcher\EventSubscriberInterface">EventSubscriberInterface</a></p> <div class="description"> <p>Saves the session, in case it is still open, before sending the response/headers.</p> <p>This ensures several things in case the developer did not save the session explicitly:</p> <ul> <li>If a session save handler without locking is used, it ensures the data is available on the next request, e.g. after a redirect. PHPs auto-save at script end via session<em>register</em>shutdown is executed after fastcgi<em>finish</em>request. So in this case the data could be missing the next request because it might not be saved the moment the new request is processed.</li> <li>A locking save handler (e.g. the native 'files') circumvents concurrency problems like the one above. But by saving the session before long-running things in the terminate event, we ensure the session is not blocked longer than needed.</li> <li>When regenerating the session ID no locking is involved in PHPs session design. See https://bugs.php.net/bug.php?id=61470 for a discussion. So in this case, the session must be saved anyway before sending the headers with the new session ID. Otherwise session data could get lost again for concurrent requests with the new ID. One result could be that you get logged out after just logging in.</li> </ul> <p>This listener should be executed as one of the last listeners, so that previous listeners can still operate on the open session. This prevents the overhead of restarting it. Listeners after closing the session can still work with the session as usual because Symfonys session implementation starts the session on demand. So writing to it after it is saved will just restart it.</p> </div> <h2>Methods</h2> <table> <tr> <td class="type"> </td> <td class="last"> <a href="#method_onKernelResponse">onKernelResponse</a>(<a href="../../event/filterresponseevent/" title="Symfony\Component\HttpKernel\Event\FilterResponseEvent">FilterResponseEvent</a> $event)  </td> <td></td> </tr> <tr> <td class="type"> static array </td> <td class="last"> <a href="#method_getSubscribedEvents">getSubscribedEvents</a>() <p>Returns an array of event names this subscriber wants to listen to.</p> </td> <td></td> </tr> </table> <h2>Details</h2> <h3 id="method_onKernelResponse">              public            
    onKernelResponse(<a href="../../event/filterresponseevent/" title="Symfony\Component\HttpKernel\Event\FilterResponseEvent">FilterResponseEvent</a> $event) </h3>    <div class="tags"> <h4>Parameters</h4> <table> <tr> <td><a href="../../event/filterresponseevent/" title="Symfony\Component\HttpKernel\Event\FilterResponseEvent">FilterResponseEvent</a></td> <td>$event</td> <td> </td> </tr> </table> </div>  <h3 id="method_getSubscribedEvents">          static    public            array
    getSubscribedEvents() </h3>  <p>Returns an array of event names this subscriber wants to listen to.</p> <p>The array keys are event names and the value can be:</p> <ul> <li>The method name to call (priority defaults to 0)</li> <li>An array composed of the method name to call and the priority</li> <li>An array of arrays composed of the method names to call and respective priorities, or 0 if unset</li> </ul> <p>For instance:</p> <ul> <li>array('eventName' =&gt; 'methodName')</li> <li>array('eventName' =&gt; array('methodName', $priority))</li> <li>array('eventName' =&gt; array(array('methodName1', $priority), array('methodName2'))</li> </ul> <div class="tags"> <h4>Return Value</h4> <table> <tr> <td>array</td> <td>The event names to listen to</td> </tr> </table> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2004–2016 Fabien Potencier<br>Licensed under the MIT License.<br>
    <a href="http://api.symfony.com/2.8/Symfony/Component/HttpKernel/EventListener/SaveSessionListener.html" class="_attribution-link" target="_blank">http://api.symfony.com/2.8/Symfony/Component/HttpKernel/EventListener/SaveSessionListener.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
