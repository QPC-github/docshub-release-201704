
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>CREATE ROLE - PostgreSQL 9.5 - W3cubDocs</title>
  
  <meta name="description" content="CREATE ROLE adds a new role to a PostgreSQL database cluster. A role is an entity that can own database objects and have database privileges; a role &hellip;">
  <meta name="keywords" content="create, role, -, postgresql, postgresql~9.5">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/postgresql~9.5/sql-createrole/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/postgresql~9.5.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/postgresql~9.5/" class="_nav-link" title="" style="margin-left:0;">PostgreSQL 9.5</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _postgres">
				
<h1 id="SQL-CREATEROLE">CREATE ROLE</h1> <div class="REFNAMEDIV" id="AEN77920">  <h2>Name</h2>CREATE ROLE -- define a new database role </div> <div class="REFSYNOPSISDIV" id="AEN77923">  <h2>Synopsis</h2> <pre class="SYNOPSIS" data-language="sql">
CREATE ROLE name [ [ WITH ] option [ ... ] ]

where option can be:

      SUPERUSER | NOSUPERUSER
    | CREATEDB | NOCREATEDB
    | CREATEROLE | NOCREATEROLE
    | CREATEUSER | NOCREATEUSER
    | INHERIT | NOINHERIT
    | LOGIN | NOLOGIN
    | REPLICATION | NOREPLICATION
    | BYPASSRLS | NOBYPASSRLS
    | CONNECTION LIMIT connlimit
    | [ ENCRYPTED | UNENCRYPTED ] PASSWORD 'password'
    | VALID UNTIL 'timestamp'
    | IN ROLE role_name [, ...]
    | IN GROUP role_name [, ...]
    | ROLE role_name [, ...]
    | ADMIN role_name [, ...]
    | USER role_name [, ...]
    | SYSID uid
</pre> </div> <div class="REFSECT1" id="AEN77938">  <h2>Description</h2> <p><code class="COMMAND">CREATE ROLE</code> adds a new role to a <span class="PRODUCTNAME">PostgreSQL</span> database cluster. A role is an entity that can own database objects and have database privileges; a role can be considered a <span class="QUOTE">"user"</span>, a <span class="QUOTE">"group"</span>, or both depending on how it is used. Refer to <a href="https://www.postgresql.org/docs/9.5/static/user-manag.html" target="_blank">Chapter 20</a> and <a href="https://www.postgresql.org/docs/9.5/static/client-authentication.html" target="_blank">Chapter 19</a> for information about managing users and authentication. You must have <code class="LITERAL">CREATEROLE</code> privilege or be a database superuser to use this command.</p> <p>Note that roles are defined at the database cluster level, and so are valid in all databases in the cluster.</p> </div> <div class="REFSECT1" id="AEN77949">  <h2>Parameters</h2> <div class="VARIABLELIST"> <dl> <dt><code class="REPLACEABLE c2">name</code></dt> <dd> <p>The name of the new role.</p> </dd> <dt>
<code class="LITERAL">SUPERUSER</code><br> <code class="LITERAL">NOSUPERUSER</code>
</dt> <dd> <p>These clauses determine whether the new role is a <span class="QUOTE">"superuser"</span>, who can override all access restrictions within the database. Superuser status is dangerous and should be used only when really needed. You must yourself be a superuser to create a new superuser. If not specified, <code class="LITERAL">NOSUPERUSER</code> is the default.</p> </dd> <dt>
<code class="LITERAL">CREATEDB</code><br> <code class="LITERAL">NOCREATEDB</code>
</dt> <dd> <p>These clauses define a role's ability to create databases. If <code class="LITERAL">CREATEDB</code> is specified, the role being defined will be allowed to create new databases. Specifying <code class="LITERAL">NOCREATEDB</code> will deny a role the ability to create databases. If not specified, <code class="LITERAL">NOCREATEDB</code> is the default.</p> </dd> <dt>
<code class="LITERAL">CREATEROLE</code><br> <code class="LITERAL">NOCREATEROLE</code>
</dt> <dd> <p>These clauses determine whether a role will be permitted to create new roles (that is, execute <code class="COMMAND">CREATE ROLE</code>). A role with <code class="LITERAL">CREATEROLE</code> privilege can also alter and drop other roles. If not specified, <code class="LITERAL">NOCREATEROLE</code> is the default.</p> </dd> <dt>
<code class="LITERAL">CREATEUSER</code><br> <code class="LITERAL">NOCREATEUSER</code>
</dt> <dd> <p>These clauses are an obsolete, but still accepted, spelling of <code class="LITERAL">SUPERUSER</code> and <code class="LITERAL">NOSUPERUSER</code>. Note that they are <span class="emphasis EMPHASIS c3">not</span> equivalent to <code class="LITERAL">CREATEROLE</code> as one might naively expect!</p> </dd> <dt>
<code class="LITERAL">INHERIT</code><br> <code class="LITERAL">NOINHERIT</code>
</dt> <dd> <p>These clauses determine whether a role <span class="QUOTE">"inherits"</span> the privileges of roles it is a member of. A role with the <code class="LITERAL">INHERIT</code> attribute can automatically use whatever database privileges have been granted to all roles it is directly or indirectly a member of. Without <code class="LITERAL">INHERIT</code>, membership in another role only grants the ability to <code class="COMMAND">SET ROLE</code> to that other role; the privileges of the other role are only available after having done so. If not specified, <code class="LITERAL">INHERIT</code> is the default.</p> </dd> <dt>
<code class="LITERAL">LOGIN</code><br> <code class="LITERAL">NOLOGIN</code>
</dt> <dd> <p>These clauses determine whether a role is allowed to log in; that is, whether the role can be given as the initial session authorization name during client connection. A role having the <code class="LITERAL">LOGIN</code> attribute can be thought of as a user. Roles without this attribute are useful for managing database privileges, but are not users in the usual sense of the word. If not specified, <code class="LITERAL">NOLOGIN</code> is the default, except when <code class="COMMAND">CREATE ROLE</code> is invoked through its alternative spelling <a href="../sql-createuser/">CREATE USER</a>.</p> </dd> <dt>
<code class="LITERAL">REPLICATION</code><br> <code class="LITERAL">NOREPLICATION</code>
</dt> <dd> <p>These clauses determine whether a role is allowed to initiate streaming replication or put the system in and out of backup mode. A role having the <code class="LITERAL">REPLICATION</code> attribute is a very highly privileged role, and should only be used on roles actually used for replication. If not specified, <code class="LITERAL">NOREPLICATION</code> is the default.</p> </dd> <dt>
<code class="LITERAL">BYPASSRLS</code><br> <code class="LITERAL">NOBYPASSRLS</code>
</dt> <dd> <p>These clauses determine whether a role bypasses every row-level security (RLS) policy. <code class="LITERAL">NOBYPASSRLS</code> is the default. Note that pg_dump will set <code class="LITERAL">row_security</code> to <code class="LITERAL">OFF</code> by default, to ensure all contents of a table are dumped out. If the user running pg_dump does not have appropriate permissions, an error will be returned. The superuser and owner of the table being dumped always bypass RLS.</p> </dd> <dt>
<code class="LITERAL">CONNECTION LIMIT</code> <code class="REPLACEABLE c2">connlimit</code>
</dt> <dd> <p>If role can log in, this specifies how many concurrent connections the role can make. -1 (the default) means no limit.</p> </dd> <dt>
<code class="LITERAL">PASSWORD</code> <code class="REPLACEABLE c2">password</code>
</dt> <dd> <p>Sets the role's password. (A password is only of use for roles having the <code class="LITERAL">LOGIN</code> attribute, but you can nonetheless define one for roles without it.) If you do not plan to use password authentication you can omit this option. If no password is specified, the password will be set to null and password authentication will always fail for that user. A null password can optionally be written explicitly as <code class="LITERAL">PASSWORD NULL</code>.</p> </dd> <dt>
<code class="LITERAL">ENCRYPTED</code><br> <code class="LITERAL">UNENCRYPTED</code>
</dt> <dd> <p>These key words control whether the password is stored encrypted in the system catalogs. (If neither is specified, the default behavior is determined by the configuration parameter <a href="../runtime-config-connection/#GUC-PASSWORD-ENCRYPTION">password_encryption</a>.) If the presented password string is already in MD5-encrypted format, then it is stored encrypted as-is, regardless of whether <code class="LITERAL">ENCRYPTED</code> or <code class="LITERAL">UNENCRYPTED</code> is specified (since the system cannot decrypt the specified encrypted password string). This allows reloading of encrypted passwords during dump/restore.</p> </dd> <dt>
<code class="LITERAL">VALID UNTIL</code> '<code class="REPLACEABLE c2">timestamp</code>'</dt> <dd> <p>The <code class="LITERAL">VALID UNTIL</code> clause sets a date and time after which the role's password is no longer valid. If this clause is omitted the password will be valid for all time.</p> </dd> <dt>
<code class="LITERAL">IN ROLE</code> <code class="REPLACEABLE c2">role_name</code>
</dt> <dd> <p>The <code class="LITERAL">IN ROLE</code> clause lists one or more existing roles to which the new role will be immediately added as a new member. (Note that there is no option to add the new role as an administrator; use a separate <code class="COMMAND">GRANT</code> command to do that.)</p> </dd> <dt>
<code class="LITERAL">IN GROUP</code> <code class="REPLACEABLE c2">role_name</code>
</dt> <dd> <p><code class="LITERAL">IN GROUP</code> is an obsolete spelling of <code class="LITERAL">IN ROLE</code>.</p> </dd> <dt>
<code class="LITERAL">ROLE</code> <code class="REPLACEABLE c2">role_name</code>
</dt> <dd> <p>The <code class="LITERAL">ROLE</code> clause lists one or more existing roles which are automatically added as members of the new role. (This in effect makes the new role a <span class="QUOTE">"group"</span>.)</p> </dd> <dt>
<code class="LITERAL">ADMIN</code> <code class="REPLACEABLE c2">role_name</code>
</dt> <dd> <p>The <code class="LITERAL">ADMIN</code> clause is like <code class="LITERAL">ROLE</code>, but the named roles are added to the new role <code class="LITERAL">WITH ADMIN OPTION</code>, giving them the right to grant membership in this role to others.</p> </dd> <dt>
<code class="LITERAL">USER</code> <code class="REPLACEABLE c2">role_name</code>
</dt> <dd> <p>The <code class="LITERAL">USER</code> clause is an obsolete spelling of the <code class="LITERAL">ROLE</code> clause.</p> </dd> <dt>
<code class="LITERAL">SYSID</code> <code class="REPLACEABLE c2">uid</code>
</dt> <dd> <p>The <code class="LITERAL">SYSID</code> clause is ignored, but is accepted for backwards compatibility.</p> </dd> </dl> </div> </div> <div class="REFSECT1" id="AEN78118">  <h2>Notes</h2> <p>Use <a href="../sql-alterrole/">ALTER ROLE</a> to change the attributes of a role, and <a href="../sql-droprole/">DROP ROLE</a> to remove a role. All the attributes specified by <code class="COMMAND">CREATE ROLE</code> can be modified by later <code class="COMMAND">ALTER ROLE</code> commands.</p> <p>The preferred way to add and remove members of roles that are being used as groups is to use <a href="../sql-grant/">GRANT</a> and <a href="../sql-revoke/">REVOKE</a>.</p> <p>The <code class="LITERAL">VALID UNTIL</code> clause defines an expiration time for a password only, not for the role <i class="FOREIGNPHRASE">per se</i>. In particular, the expiration time is not enforced when logging in using a non-password-based authentication method.</p> <p>The <code class="LITERAL">INHERIT</code> attribute governs inheritance of grantable privileges (that is, access privileges for database objects and role memberships). It does not apply to the special role attributes set by <code class="COMMAND">CREATE ROLE</code> and <code class="COMMAND">ALTER ROLE</code>. For example, being a member of a role with <code class="LITERAL">CREATEDB</code> privilege does not immediately grant the ability to create databases, even if <code class="LITERAL">INHERIT</code> is set; it would be necessary to become that role via <a href="../sql-set-role/">SET ROLE</a> before creating a database.</p> <p>The <code class="LITERAL">INHERIT</code> attribute is the default for reasons of backwards compatibility: in prior releases of <span class="PRODUCTNAME">PostgreSQL</span>, users always had access to all privileges of groups they were members of. However, <code class="LITERAL">NOINHERIT</code> provides a closer match to the semantics specified in the SQL standard.</p> <p>Be careful with the <code class="LITERAL">CREATEROLE</code> privilege. There is no concept of inheritance for the privileges of a <code class="LITERAL">CREATEROLE</code>-role. That means that even if a role does not have a certain privilege but is allowed to create other roles, it can easily create another role with different privileges than its own (except for creating roles with superuser privileges). For example, if the role <span class="QUOTE">"user"</span> has the <code class="LITERAL">CREATEROLE</code> privilege but not the <code class="LITERAL">CREATEDB</code> privilege, nonetheless it can create a new role with the <code class="LITERAL">CREATEDB</code> privilege. Therefore, regard roles that have the <code class="LITERAL">CREATEROLE</code> privilege as almost-superuser-roles.</p> <p><span class="PRODUCTNAME">PostgreSQL</span> includes a program <a href="../app-createuser/"><span class="APPLICATION">createuser</span></a> that has the same functionality as <code class="COMMAND">CREATE ROLE</code> (in fact, it calls this command) but can be run from the command shell.</p> <p>The <code class="LITERAL">CONNECTION LIMIT</code> option is only enforced approximately; if two new sessions start at about the same time when just one connection <span class="QUOTE">"slot"</span> remains for the role, it is possible that both will fail. Also, the limit is never enforced for superusers.</p> <p>Caution must be exercised when specifying an unencrypted password with this command. The password will be transmitted to the server in cleartext, and it might also be logged in the client's command history or the server log. The command <a href="../app-createuser/"><span class="APPLICATION">createuser</span></a>, however, transmits the password encrypted. Also, <a href="../app-psql/"><span class="APPLICATION">psql</span></a> contains a command <code class="COMMAND">\password</code> that can be used to safely change the password later.</p> </div> <div class="REFSECT1" id="AEN78161">  <h2>Examples</h2> <p>Create a role that can log in, but don't give it a password:</p> <pre class="PROGRAMLISTING" data-language="sql">
CREATE ROLE jonathan LOGIN;
</pre> <p>Create a role with a password:</p> <pre class="PROGRAMLISTING" data-language="sql">
CREATE USER davide WITH PASSWORD 'jw8s0F4';
</pre> <p>(<code class="COMMAND">CREATE USER</code> is the same as <code class="COMMAND">CREATE ROLE</code> except that it implies <code class="LITERAL">LOGIN</code>.)</p> <p>Create a role with a password that is valid until the end of 2004. After one second has ticked in 2005, the password is no longer valid.</p> <pre class="PROGRAMLISTING" data-language="sql">
CREATE ROLE miriam WITH LOGIN PASSWORD 'jw8s0F4' VALID UNTIL '2005-01-01';
</pre> <p>Create a role that can create databases and manage roles:</p> <pre class="PROGRAMLISTING" data-language="sql">
CREATE ROLE admin WITH CREATEDB CREATEROLE;
</pre> </div> <div class="REFSECT1" id="AEN78174">  <h2>Compatibility</h2> <p>The <code class="COMMAND">CREATE ROLE</code> statement is in the SQL standard, but the standard only requires the syntax</p> <pre class="SYNOPSIS" data-language="sql">
CREATE ROLE name [ WITH ADMIN role_name ]
</pre> <p>Multiple initial administrators, and all the other options of <code class="COMMAND">CREATE ROLE</code>, are <span class="PRODUCTNAME">PostgreSQL</span> extensions.</p> <p>The SQL standard defines the concepts of users and roles, but it regards them as distinct concepts and leaves all commands defining users to be specified by each database implementation. In <span class="PRODUCTNAME">PostgreSQL</span> we have chosen to unify users and roles into a single kind of entity. Roles therefore have many more optional attributes than they do in the standard.</p> <p>The behavior specified by the SQL standard is most closely approximated by giving users the <code class="LITERAL">NOINHERIT</code> attribute, while roles are given the <code class="LITERAL">INHERIT</code> attribute.</p> </div> <div class="REFSECT1" id="AEN78188">  <h2>See Also</h2>
<a href="../sql-set-role/">SET ROLE</a>, <a href="../sql-alterrole/">ALTER ROLE</a>, <a href="../sql-droprole/">DROP ROLE</a>, <a href="../sql-grant/">GRANT</a>, <a href="../sql-revoke/">REVOKE</a>, <a href="../app-createuser/"><span class="APPLICATION">createuser</span></a> </div> <div class="NAVFOOTER">  <table summary="Footer navigation table"> <tr> <td width="33%" align="left"><a href="../sql-createpolicy/" accesskey="P">Prev</a></td> <td width="34%" align="center"></td> <td width="33%" align="right"><a href="../sql-createrule/" accesskey="N">Next</a></td> </tr> <tr> <td width="33%" align="left">CREATE POLICY</td> <td width="34%" align="center"><a href="https://www.postgresql.org/docs/9.5/static/sql-commands.html" accesskey="U" target="_blank">Up</a></td> <td width="33%" align="right">CREATE RULE</td> </tr> </table> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 1996–2017 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/9.5/static/sql-createrole.html" class="_attribution-link" target="_blank">https://www.postgresql.org/docs/9.5/static/sql-createrole.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
