
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>EventManager (Class) - CakePHP 3.1 - W3cubDocs</title>
  
  <meta name="description" content="The event manager is responsible for keeping track of event listeners, passing the correct data to them, and firing them in the correct order, when &hellip;">
  <meta name="keywords" content="class, eventmanager, -, cakephp, cakephp~3.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~3.1/class-cake.event.eventmanager/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cakephp~3.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~3.1/" class="_nav-link" title="" style="margin-left:0;">CakePHP 3.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cakephp">
				
<h1>Class EventManager</h1>  <p>The event manager is responsible for keeping track of event listeners, passing the correct data to them, and firing them in the correct order, when associated events are triggered. You can create multiple instances of this object to manage local events or keep a single instance and pass it around to manage all events in your app.</p>  <div class="info"> <b>Namespace:</b> <a href="../namespace-cake/">Cake</a>\<a href="../namespace-cake.event/">Event</a><br> <b>Located at</b> <a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#19-459" title="Go to source code" target="_blank">Event/EventManager.php</a><br> </div>  <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="___debugInfo"> <span class="name">__debugInfo</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#444-458" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">__debugInfo( )</pre>  <p>Debug friendly object properties.</p> <h4>Returns</h4>  <code>array</code><br>array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__attachSubscriber"> <span class="name">_attachSubscriber</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#174-200" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_attachSubscriber( Cake\Event\EventListenerInterface $subscriber )</pre>  <p>Auxiliary function to attach all implemented callbacks of a Cake\Event\EventListenerInterface class instance as individual methods on this manager</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.event.eventlistenerinterface/">Cake\Event\EventListenerInterface</a></code> <code>$subscriber</code> </dt> <dd>Event listener.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__callListener"> <span class="name">_callListener</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#366-396" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_callListener( callable $listener , Cake\Event\Event $event )</pre>  <p>Calls a listener.</p> <p>Direct callback invocation is up to 30% faster than using call_user_func_array. Optimize the common cases to provide improved performance.</p> <h4>Parameters</h4>  <dl> <dt> callable <code>$listener</code> </dt> <dd>The listener to trigger.</dd> <dt> <code><a href="../class-cake.event.event/">Cake\Event\Event</a></code> <code>$event</code> </dt> <dd>Event instance.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>The result of the $listener function.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__detachSubscriber"> <span class="name">_detachSubscriber</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#303-331" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_detachSubscriber( Cake\Event\EventListenerInterface $subscriber , string|null $eventKey null )</pre>  <p>Auxiliary function to help detach all listeners provided by an object implementing EventListenerInterface</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.event.eventlistenerinterface/">Cake\Event\EventListenerInterface</a></code> <code>$subscriber</code> </dt> <dd>the subscriber to be detached</dd> <dt> string|null <code>$eventKey</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>optional event key name to unsubscribe the listener from</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__extractCallable"> <span class="name">_extractCallable</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#202-219" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_extractCallable( array $function , Cake\Event\EventListenerInterface $object )</pre>  <p>Auxiliary function to extract and return a PHP callback type out of the callable definition from the return value of the <code>implementedEvents</code> method on a Cake\Event\EventListenerInterface</p> <h4>Parameters</h4>  <dl> <dt> array <code>$function</code> </dt> <dd>the array taken from a handler definition for an event</dd> <dt> <code><a href="../class-cake.event.eventlistenerinterface/">Cake\Event\EventListenerInterface</a></code> <code>$object</code> </dt> <dd>The handler object</dd> </dl>  <h4>Returns</h4>  <code>callable</code><br>callback<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_attach"> <span class="name">attach</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#80-111" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">attach( callable|Cake\Event\EventListenerInterface $callable , string $eventKey null , array $options [] )</pre>  <p>Adds a new listener to an event.</p> <h4>Deprecated</h4>  3.0.0 Use on() instead.<br>  <h4>Parameters</h4>  <dl> <dt> callable|<code><a href="../class-cake.event.eventlistenerinterface/">Cake\Event\EventListenerInterface</a></code> <code>$callable</code> </dt> <dd>PHP valid callback type or instance of Cake\Event\EventListenerInterface to be called when the event named with $eventKey is triggered. If a Cake\Event\EventListenerInterface instance is passed, then the <code>implementedEvents</code> method will be called on the object to register the declared events individually as methods to be managed by this class. It is possible to define multiple event handlers per event name.</dd> <dt> string <code>$eventKey</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The event unique identifier name with which the callback will be associated. If $callable is an instance of Cake\Event\EventListenerInterface this argument will be ignored</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>used to set the <code>priority</code> flag to the listener. In the future more options may be added. Priorities are treated as queues. Lower values are called before higher ones, and multiple attachments added to the same priority queue will be treated in the order of insertion.</dd> </dl>  <h4>Throws</h4>  <code>InvalidArgumentException</code><br>When event key is missing or callable is not an instance of Cake\Event\EventListenerInterface.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_detach"> <span class="name">detach</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#221-236" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">detach( callable|Cake\Event\EventListenerInterface $callable , string|null $eventKey null )</pre>  <p>Removes a listener from the active listeners.</p> <h4>Deprecated</h4>  3.0.0 Use off() instead.<br>  <h4>Parameters</h4>  <dl> <dt> callable|<code><a href="../class-cake.event.eventlistenerinterface/">Cake\Event\EventListenerInterface</a></code> <code>$callable</code> </dt> <dd>any valid PHP callback type or an instance of EventListenerInterface</dd> <dt> string|null <code>$eventKey</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The event unique identifier name with which the callback has been associated</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_dispatch"> <span class="name">dispatch</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#333-364" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">dispatch( string|Cake\Event\Event $event )</pre>  <p>Dispatches a new event to all configured listeners</p> <h4>Parameters</h4>  <dl> <dt> string|<code><a href="../class-cake.event.event/">Cake\Event\Event</a></code> <code>$event</code> </dt> <dd>the event key name or instance of Event</dd> </dl>  <h4>Returns</h4>  <code><a href="../class-cake.event.event/">Cake\Event\Event</a></code><br>\Cake\Event\Event<br>  <h4>Triggers</h4>  $event<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_instance"> <span class="name">instance</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#56-78" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span> <span class="label">static</span>  </h3> <pre class="method-signature" data-language="php">instance( Cake\Event\EventManager $manager null )</pre>  <p>Returns the globally available instance of a Cake\Event\EventManager this is used for dispatching events attached from outside the scope other managers were created. Usually for creating hook systems or inter-class communication</p> <p>If called with the first parameter, it will be set as the globally available instance</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.event.eventmanager/">Cake\Event\EventManager</a></code> <code>$manager</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>Event manager instance.</dd> </dl>  <h4>Returns</h4>  <code><a href="../class-cake.event.eventmanager/">Cake\Event\EventManager</a></code><br>the global event manager<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_listeners"> <span class="name">listeners</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#398-428" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">listeners( string $eventKey )</pre>  <p>Returns a list of all listeners for an eventKey in the order they should be called</p> <h4>Parameters</h4>  <dl> <dt> string <code>$eventKey</code> </dt> <dd>Event key.</dd> </dl>  <h4>Returns</h4>  <code>array</code><br>array<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_off"> <span class="name">off</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#238-301" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">off( string|Cake\Event\EventListenerInterface $eventKey , callable $callable null )</pre>  <p>Remove a listener from the active listeners.</p> <p>Remove a EventListenerInterface entirely:</p> <pre>
<span class="php-var">$manager</span>-&gt;off(<span class="php-var">$listener</span>);
</pre> <p>Remove all listeners for a given event:</p> <pre>
<span class="php-var">$manager</span>-&gt;off(<span class="php-quote">'My.event'</span>);
</pre> <p>Remove a specific listener:</p> <pre>
<span class="php-var">$manager</span>-&gt;off(<span class="php-quote">'My.event'</span>, <span class="php-var">$callback</span>);
</pre> <p>Remove a callback from all events:</p> <pre>
<span class="php-var">$manager</span>-&gt;off(<span class="php-var">$callback</span>);
</pre> <h4>Parameters</h4>  <dl> <dt> string|<code><a href="../class-cake.event.eventlistenerinterface/">Cake\Event\EventListenerInterface</a></code> <code>$eventKey</code> </dt> <dd>The event unique identifier name with which the callback has been associated, or the $listener you want to remove.</dd> <dt> callable <code>$callable</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The callback you want to detach.</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="_on"> <span class="name">on</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#113-172" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">on( string|Cake\Event\EventListenerInterface $eventKey null , array|callable $options [] , callable $callable null )</pre>  <p>Adds a new listener to an event.</p> <p>A variadic interface to add listeners that emulates jQuery.on().</p> <p>Binding an EventListenerInterface:</p> <pre>
<span class="php-var">$eventManager</span>-&gt;on(<span class="php-var">$listener</span>);
</pre> <p>Binding with no options:</p> <pre>
<span class="php-var">$eventManager</span>-&gt;on(<span class="php-quote">'Model.beforeSave'</span>, <span class="php-var">$callable</span>);
</pre> <p>Binding with options:</p> <pre>
<span class="php-var">$eventManager</span>-&gt;on(<span class="php-quote">'Model.beforeSave'</span>, [<span class="php-quote">'priority'</span> =&gt; <span class="php-num">90</span>], <span class="php-var">$callable</span>);
</pre> <h4>Parameters</h4>  <dl> <dt> string|<code><a href="../class-cake.event.eventlistenerinterface/">Cake\Event\EventListenerInterface</a></code> <code>$eventKey</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The event unique identifier name with which the callback will be associated. If $eventKey is an instance of Cake\Event\EventListenerInterface its events will be bound using the <code>implementedEvents</code> methods.</dd> <dt> array|callable <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Either an array of options or the callable you wish to bind to $eventKey. If an array of options, the <code>priority</code> key can be used to define the order. Priorities are treated as queues. Lower values are called before higher ones, and multiple attachments added to the same priority queue will be treated in the order of insertion.</dd> <dt> callable <code>$callable</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The callable function you want invoked.</dd> </dl>  <h4>Throws</h4>  <code>InvalidArgumentException</code><br>When event key is missing or callable is not an instance of Cake\Event\EventListenerInterface.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_prioritisedListeners"> <span class="name">prioritisedListeners</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#430-442" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">prioritisedListeners( string $eventKey )</pre>  <p>Returns the listeners for the specified event key indexed by priority</p> <h4>Parameters</h4>  <dl> <dt> string <code>$eventKey</code> </dt> <dd>Event key.</dd> </dl>  <h4>Returns</h4>  <code>array</code><br>array<br>   </div>   <h2>Properties summary</h2> <table class="summary properties" id="properties"> <div class="property-detail"> <h3 class="property-name" id="$_generalManager"> <span class="name">$_generalManager</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#35-40" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> <span class="label">static</span> <code><a href="../class-cake.event.eventmanager/">Cake\Event\EventManager</a></code> </p>  <p>The globally available instance, used for dispatching events attached from any scope</p> <div class="default-value"> <pre><span class="php-keyword1">null</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_isGlobal"> <span class="name">$_isGlobal</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#49-54" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> boolean </p>  <p>Internal flag to distinguish a common manager from the singleton</p> <div class="default-value"> <pre><span class="php-keyword1">false</span></pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_listeners"> <span class="name">$_listeners</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#42-47" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> object </p>  <p>List of listener callbacks associated to</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$defaultPriority"> <span class="name">$defaultPriority</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Event.EventManager.html#28-33" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">public</span> <span class="label">static</span> integer </p>  <p>The default priority queue value for new, attached listeners</p> <div class="default-value"> <pre><span class="php-num">10</span></pre> </div>  </div> </table>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2016 The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="http://api.cakephp.org/3.1/class-Cake.Event.EventManager.html" class="_attribution-link" target="_blank">http://api.cakephp.org/3.1/class-Cake.Event.EventManager.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
