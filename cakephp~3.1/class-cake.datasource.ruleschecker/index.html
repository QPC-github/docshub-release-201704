
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>RulesChecker (Class) - CakePHP 3.1 - W3cubDocs</title>
  
  <meta name="description" content=" Contains logic for storing and checking rules on entities ">
  <meta name="keywords" content="class, ruleschecker, -, cakephp, cakephp~3.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~3.1/class-cake.datasource.ruleschecker/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cakephp~3.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~3.1/" class="_nav-link" title="" style="margin-left:0;">CakePHP 3.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cakephp">
				
<h1>Class RulesChecker</h1>  <p>Contains logic for storing and checking rules on entities</p> <p>RulesCheckers are used by Table classes to ensure that the current entity state satisfies the application logic and business rules.</p> <p>RulesCheckers afford different rules to be applied in the create and update scenario.</p> <h2>Adding rules</h2> <p>Rules must be callable objects that return true/false depending on whether or not the rule has been satisfied. You can use RulesChecker::add(), RulesChecker::addCreate(), RulesChecker::addUpdate() and RulesChecker::addDelete to add rules to a checker.</p> <h2>Running checks</h2> <p>Generally a Table object will invoke the rules objects, but you can manually invoke the checks by calling RulesChecker::checkCreate(), RulesChecker::checkUpdate() or RulesChecker::checkDelete().</p>   <h2>Direct known subclasses</h2> <a href="../class-cake.orm.ruleschecker/">Cake\ORM\RulesChecker</a>  <div class="info"> <b>Namespace:</b> <a href="../namespace-cake/">Cake</a>\<a href="../namespace-cake.datasource/">Datasource</a><br> <b>Located at</b> <a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#19-337" title="Go to source code" target="_blank">Datasource/RulesChecker.php</a><br> </div>  <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="___construct"> <span class="name">__construct</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#105-114" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">__construct( array $options [] )</pre>  <p>Constructor. Takes the options to be passed to all rules.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>The options to pass to every rule</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__addError"> <span class="name">_addError</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#299-336" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_addError( callable $rule , string $name , array $options )</pre>  <p>Utility method for decorating any callable so that if it returns false, the correct property in the entity is marked as invalid.</p> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>The rule to decorate</dd> <dt> string <code>$name</code> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> </dt> <dd>The options containing the error message and field.</dd> </dl>  <h4>Returns</h4>  <code>callable</code><br>callable<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__checkRules"> <span class="name">_checkRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#280-297" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_checkRules( Cake\Datasource\EntityInterface $entity , array $options [] , array $rules [] )</pre>  <p>Used by top level functions checkDelete, checkCreate and checkUpdate, this function iterates an array containing the rules to be checked and checks them all.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> <dt> array <code>$rules</code> <span class="label">optional</span> [] </dt> <dd>The list of rules that must be checked.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_add"> <span class="name">add</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#116-139" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">add( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity both on create and update operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_addCreate"> <span class="name">addCreate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#141-163" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">addCreate( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity on create operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_addDelete"> <span class="name">addDelete</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#189-211" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">addDelete( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity on delete operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_addUpdate"> <span class="name">addUpdate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#165-187" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">addUpdate( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity on update operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_check"> <span class="name">check</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#213-239" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">check( Cake\Datasource\EntityInterface $entity , string $mode , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules to be applied are depended on the $mode parameter which can only be RulesChecker::CREATE, RulesChecker::UPDATE or RulesChecker::DELETE</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> string <code>$mode</code> </dt> <dd>Either 'create, 'update' or 'delete'.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>  <h4>Throws</h4>  <code>InvalidArgumentException</code><br>if an invalid mode is passed.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_checkCreate"> <span class="name">checkCreate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#241-252" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">checkCreate( Cake\Datasource\EntityInterface $entity , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules selected will be only those specified to be run on 'create'</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_checkDelete"> <span class="name">checkDelete</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#267-278" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">checkDelete( Cake\Datasource\EntityInterface $entity , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules selected will be only those specified to be run on 'delete'</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_checkUpdate"> <span class="name">checkUpdate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#254-265" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">checkUpdate( Cake\Datasource\EntityInterface $entity , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules selected will be only those specified to be run on 'update'</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div>   <h2>Constants summary</h2> <table class="summary constants" id="constants"> <tr data-order="CREATE" id="CREATE"> <td class="attributes"><code>string</code></td> <td class="name"> <code><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#42-47" title="Go to source code" target="_blank"><b>CREATE</b></a></code>  <p>Indicates that the checking rules to apply are those used for creating entities</p>  </td> <td class="value"><div><code><span class="php-quote">'create'</span></code></div></td> </tr> <tr data-order="DELETE" id="DELETE"> <td class="attributes"><code>string</code></td> <td class="name"> <code><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#56-61" title="Go to source code" target="_blank"><b>DELETE</b></a></code>  <p>Indicates that the checking rules to apply are those used for deleting entities</p>  </td> <td class="value"><div><code><span class="php-quote">'delete'</span></code></div></td> </tr> <tr data-order="UPDATE" id="UPDATE"> <td class="attributes"><code>string</code></td> <td class="name"> <code><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#49-54" title="Go to source code" target="_blank"><b>UPDATE</b></a></code>  <p>Indicates that the checking rules to apply are those used for updating entities</p>  </td> <td class="value"><div><code><span class="php-quote">'update'</span></code></div></td> </tr> </table>   <h2>Properties summary</h2> <table class="summary properties" id="properties"> <div class="property-detail"> <h3 class="property-name" id="$_createRules"> <span class="name">$_createRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#70-75" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to check during create operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_deleteRules"> <span class="name">$_deleteRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#84-89" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to check during delete operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_options"> <span class="name">$_options</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#91-96" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>List of options to pass to every callable rule</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_rules"> <span class="name">$_rules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#63-68" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to be checked on both create and update operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_updateRules"> <span class="name">$_updateRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#77-82" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to check during update operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_useI18n"> <span class="name">$_useI18n</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#98-103" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> boolean </p>  <p>Whether or not to use I18n functions for translating default error messages</p> <div class="default-value"> <pre><span class="php-keyword1">false</span></pre> </div>  </div> </table>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2016 The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="http://api.cakephp.org/3.1/class-Cake.Datasource.RulesChecker.html" class="_attribution-link" target="_blank">http://api.cakephp.org/3.1/class-Cake.Datasource.RulesChecker.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
