
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>RulesChecker (Class) - CakePHP 3.1 - W3cubDocs</title>
  
  <meta name="description" content=" ORM flavoured rules checker. ">
  <meta name="keywords" content="class, ruleschecker, -, cakephp, cakephp~3.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cakephp~3.1/class-cake.orm.ruleschecker/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-50364fff564ce3b6327021805f3f00e2957b441cf27f576a7dd4ff63bbc47047.css">
  <script type="text/javascript" src="/assets/application-db64bfd54ceb42be11af7995804cf4902548419ceb79d509b0b7d62c22d98e6f.js"></script>
  <script src="/json/cakephp~3.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cakephp~3.1/" class="_nav-link" title="" style="margin-left:0;">CakePHP 3.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cakephp">
				
<h1>Class RulesChecker</h1>  <p>ORM flavoured rules checker.</p> <p>Adds ORM related features to the RulesChecker class.</p>  <dl class="tree"> <dd style="padding-left:0px"> <a href="../class-cake.datasource.ruleschecker/"><span>Cake\Datasource\RulesChecker</span></a> </dd> <dd style="padding-left:30px"> <img src="http://api.cakephp.org/3.1/resources/inherit.png" alt="Extended by"> <b><span>Cake\ORM\RulesChecker</span></b> </dd> </dl> <div class="info"> <b>Namespace:</b> <a href="../namespace-cake/">Cake</a>\<a href="../namespace-cake.orm/">ORM</a><br> <b>See:</b> <code><a href="../class-cake.datasource.ruleschecker/">Cake\Datasource\RulesChecker</a></code><br> <b>Located at</b> <a href="http://api.cakephp.org/3.1/source-class-Cake.ORM.RulesChecker.html#21-92" title="Go to source code" target="_blank">ORM/RulesChecker.php</a><br> </div>  <h2>Method Detail</h2> <div class="method-detail">   <h3 class="method-name" id="_existsIn"> <span class="name">existsIn</span><a href="http://api.cakephp.org/3.1/source-class-Cake.ORM.RulesChecker.html#59-91" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">existsIn( string|array $field , object|string $table , string $message null )</pre>  <p>Returns a callable that can be used as a rule for checking that the values extracted from the entity to check exist as the primary key in another table.</p> <p>This is useful for enforcing foreign key integrity checks.</p> <h2>Example:</h2> <pre>
<span class="php-var">$rules</span>-&gt;add(<span class="php-var">$rules</span>-&gt;existsIn(<span class="php-quote">'author_id'</span>, <span class="php-quote">'Authors'</span>, <span class="php-quote">'Invalid Author'</span>));

<span class="php-var">$rules</span>-&gt;add(<span class="php-var">$rules</span>-&gt;existsIn(<span class="php-quote">'site_id'</span>, <span class="php-keyword1">new</span> SitesTable(), <span class="php-quote">'Invalid Site'</span>));
</pre> <h4>Parameters</h4>  <dl> <dt> string|array <code>$field</code> </dt> <dd>The field or list of fields to check for existence by primary key lookup in the other table.</dd> <dt> object|string <code>$table</code> </dt> <dd>The table name where the fields existence will be checked.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The error message to show in case the rule does not pass.</dd> </dl>  <h4>Returns</h4>  <code>callable</code><br>callable<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_isUnique"> <span class="name">isUnique</span><a href="http://api.cakephp.org/3.1/source-class-Cake.ORM.RulesChecker.html#31-57" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">isUnique( array $fields , string $message null )</pre>  <p>Returns a callable that can be used as a rule for checking the uniqueness of a value in the table.</p> <h2>Example:</h2> <pre>
<span class="php-var">$rules</span>-&gt;add(<span class="php-var">$rules</span>-&gt;isUnique([<span class="php-quote">'email'</span>], <span class="php-quote">'The email should be unique'</span>));
</pre> <h4>Parameters</h4>  <dl> <dt> array <code>$fields</code> </dt> <dd>The list of fields to check for uniqueness.</dd> <dt> string <code>$message</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The error message to show in case the rule does not pass.</dd> </dl>  <h4>Returns</h4>  <code>callable</code><br>callable<br>   </div>   <h2>Methods inherited from <a href="../class-cake.datasource.ruleschecker/#methods">Cake\Datasource\RulesChecker</a>
</h2> <div class="method-detail">   <h3 class="method-name" id="___construct"> <span class="name">__construct</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#105-114" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">__construct( array $options [] )</pre>  <p>Constructor. Takes the options to be passed to all rules.</p> <h4>Parameters</h4>  <dl> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>The options to pass to every rule</dd> </dl>   </div> <div class="method-detail">   <h3 class="method-name" id="__addError"> <span class="name">_addError</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#299-336" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_addError( callable $rule , string $name , array $options )</pre>  <p>Utility method for decorating any callable so that if it returns false, the correct property in the entity is marked as invalid.</p> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>The rule to decorate</dd> <dt> string <code>$name</code> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> </dt> <dd>The options containing the error message and field.</dd> </dl>  <h4>Returns</h4>  <code>callable</code><br>callable<br>   </div> <div class="method-detail">   <h3 class="method-name" id="__checkRules"> <span class="name">_checkRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#280-297" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> protected </span>  </h3> <pre class="method-signature" data-language="php">_checkRules( Cake\Datasource\EntityInterface $entity , array $options [] , array $rules [] )</pre>  <p>Used by top level functions checkDelete, checkCreate and checkUpdate, this function iterates an array containing the rules to be checked and checks them all.</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> <dt> array <code>$rules</code> <span class="label">optional</span> [] </dt> <dd>The list of rules that must be checked.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_add"> <span class="name">add</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#116-139" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">add( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity both on create and update operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_addCreate"> <span class="name">addCreate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#141-163" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">addCreate( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity on create operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_addDelete"> <span class="name">addDelete</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#189-211" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">addDelete( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity on delete operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_addUpdate"> <span class="name">addUpdate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#165-187" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">addUpdate( callable $rule , string $name null , array $options [] )</pre>  <p>Adds a rule that will be applied to the entity on update operations.</p> <h2>Options</h2> <p>The options array accept the following special keys:</p> <ul> <li>
<code>errorField</code>: The name of the entity field that will be marked as invalid if the rule does not pass.</li> <li>
<code>message</code>: The error message to set to <code>errorField</code> if the rule does not pass.</li> </ul> <h4>Parameters</h4>  <dl> <dt> callable <code>$rule</code> </dt> <dd>A callable function or object that will return whether the entity is valid or not.</dd> <dt> string <code>$name</code> <span class="label">optional</span> <span class="php-keyword1">null</span> </dt> <dd>The alias for a rule.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>List of extra options to pass to the rule callable as second argument.</dd> </dl>  <h4>Returns</h4>  <code>mixed</code><br>$this<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_check"> <span class="name">check</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#213-239" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">check( Cake\Datasource\EntityInterface $entity , string $mode , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules to be applied are depended on the $mode parameter which can only be RulesChecker::CREATE, RulesChecker::UPDATE or RulesChecker::DELETE</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> string <code>$mode</code> </dt> <dd>Either 'create, 'update' or 'delete'.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>  <h4>Throws</h4>  <code>InvalidArgumentException</code><br>if an invalid mode is passed.<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_checkCreate"> <span class="name">checkCreate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#241-252" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">checkCreate( Cake\Datasource\EntityInterface $entity , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules selected will be only those specified to be run on 'create'</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_checkDelete"> <span class="name">checkDelete</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#267-278" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">checkDelete( Cake\Datasource\EntityInterface $entity , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules selected will be only those specified to be run on 'delete'</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div> <div class="method-detail">   <h3 class="method-name" id="_checkUpdate"> <span class="name">checkUpdate</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#254-265" title="Go to source code" class="source" target="_blank">source</a> <span class="label"> public </span>  </h3> <pre class="method-signature" data-language="php">checkUpdate( Cake\Datasource\EntityInterface $entity , array $options [] )</pre>  <p>Runs each of the rules by passing the provided entity and returns true if all of them pass. The rules selected will be only those specified to be run on 'update'</p> <h4>Parameters</h4>  <dl> <dt> <code><a href="../class-cake.datasource.entityinterface/">Cake\Datasource\EntityInterface</a></code> <code>$entity</code> </dt> <dd>The entity to check for validity.</dd> <dt> array <code>$options</code> <span class="label">optional</span> [] </dt> <dd>Extra options to pass to checker functions.</dd> </dl>  <h4>Returns</h4>  <code>boolean</code><br>bool<br>   </div>   <h2>Constants inherited from <a href="../class-cake.datasource.ruleschecker/#constants">Cake\Datasource\RulesChecker</a>
</h2> <table class="summary inherited"> <tr> <td><code><a href="../class-cake.datasource.ruleschecker/#CREATE"><b>CREATE</b></a>, <a href="../class-cake.datasource.ruleschecker/#DELETE"><b>DELETE</b></a>, <a href="../class-cake.datasource.ruleschecker/#UPDATE"><b>UPDATE</b></a></code></td> </tr> </table>   <h2>Properties inherited from <a href="../class-cake.datasource.ruleschecker/#properties">Cake\Datasource\RulesChecker</a>
</h2> <div class="summary properties inherited"> <div class="property-detail"> <h3 class="property-name" id="$_createRules"> <span class="name">$_createRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#70-75" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to check during create operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_deleteRules"> <span class="name">$_deleteRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#84-89" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to check during delete operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_options"> <span class="name">$_options</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#91-96" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>List of options to pass to every callable rule</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_rules"> <span class="name">$_rules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#63-68" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to be checked on both create and update operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_updateRules"> <span class="name">$_updateRules</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#77-82" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> array </p>  <p>The list of rules to check during update operations</p> <div class="default-value"> <pre>[]</pre> </div>  </div> <div class="property-detail"> <h3 class="property-name" id="$_useI18n"> <span class="name">$_useI18n</span><a href="http://api.cakephp.org/3.1/source-class-Cake.Datasource.RulesChecker.html#98-103" title="Go to source code" class="source" target="_blank">source</a>  </h3> <p class="attributes"> <span class="label">protected</span> boolean </p>  <p>Whether or not to use I18n functions for translating default error messages</p> <div class="default-value"> <pre><span class="php-keyword1">false</span></pre> </div>  </div> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2016 The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="http://api.cakephp.org/3.1/class-Cake.ORM.RulesChecker.html" class="_attribution-link" target="_blank">http://api.cakephp.org/3.1/class-Cake.ORM.RulesChecker.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
</body>
</html>
